# üèóÔ∏è –ì–∞–π–¥ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ—ó –°–∏—Å—Ç–µ–º–∏ –∑ Windsurf

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í–û  
**–î–∞—Ç–∞**: 22 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025  
**–í–µ—Ä—Å—ñ—è**: 1.0.0

---

## üìã –û–≥–ª—è–¥

–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ Windsurf –∑–∞–±–µ–∑–ø–µ—á—É—î **–ø–æ—Å—Ç—ñ–π–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥** –∫–æ–¥–æ–≤–æ—ó –±–∞–∑–∏, –≤–∏—è–≤–ª—è—é—á–∏:

- üî¥ **–ó–∞—Å—Ç–∞—Ä—ñ–ª—ñ —Ñ–∞–π–ª–∏** - —è–∫—ñ –Ω–µ –∑–º—ñ–Ω—é–≤–∞–ª–∏—Å—è –¥–æ–≤–≥–æ
- üü° **–ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏** - –Ω–∞ —è–∫—ñ –Ω—ñ—Ö—Ç–æ –Ω–µ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è
- üü† **–î—É–±–ª—ñ–∫–∞—Ç–∏ –∫–æ–¥—É** - –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ç–∞ –ª–æ–≥—ñ–∫–∞
- üîµ **–¶–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ** - –ø—Ä–æ–±–ª–µ–º–Ω—ñ –≤–∑–∞—î–º–æ–∑–≤'—è–∑–∫–∏
- üü¢ **–ó–¥–æ—Ä–æ–≤'—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏** - –∑–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ —è–∫–æ—Å—Ç—ñ

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
cd /Users/dev/Documents/GitHub/atlas4/codemap-system
pip install -r requirements.txt
```

### 2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```bash
bash /Users/dev/Documents/GitHub/atlas4/.windsurf/workflows/sync-architecture-on-startup.md
```

### 3Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ Windsurf

- **Mac**: Cmd+Q (–∑–∞–∫—Ä–∏—Ç–∏) ‚Üí –í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–Ω–æ–≤—É
- **Linux/Windows**: –ó–∞–∫—Ä–∏—Ç–∏ ‚Üí –í—ñ–¥–∫—Ä–∏—Ç–∏ –∑–Ω–æ–≤—É

### 4Ô∏è‚É£ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ –≤ Cascade

```
@cascade get_architecture_overview()
@cascade analyze_file_status(file_path: "orchestrator/app.js")
@cascade detect_deprecated_files()
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
codemap-system/
‚îú‚îÄ‚îÄ .env.architecture                 ‚Üê –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏
‚îú‚îÄ‚îÄ requirements.txt                  ‚Üê –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ architecture_mapper.py            ‚Üê –ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
‚îú‚îÄ‚îÄ mcp_architecture_tools.py         ‚Üê –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è MCP
‚îú‚îÄ‚îÄ mcp_architecture_server.py        ‚Üê MCP —Å–µ—Ä–≤–µ—Ä (–ù–û–í–ò–ô)
‚îú‚îÄ‚îÄ mcp_server.py                     ‚Üê –û—Å–Ω–æ–≤–Ω–∏–π MCP —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ logs/                             ‚Üê –õ–æ–≥–∏
‚îî‚îÄ‚îÄ reports/                          ‚Üê –ó–≤—ñ—Ç–∏

.windsurf/
‚îî‚îÄ‚îÄ workflows/
    ‚îî‚îÄ‚îÄ sync-architecture-on-startup.md  ‚Üê Workflow —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó (–ù–û–í–ò–ô)
```

---

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –û—Å–Ω–æ–≤–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ `.env.architecture`

```bash
# –ê–Ω–∞–ª—ñ–∑
MAX_ANALYSIS_DEPTH=5                    # –ì–ª–∏–±–∏–Ω–∞ –∞–Ω–∞–ª—ñ–∑—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
AUTO_ANALYSIS_INTERVAL=300              # –Ü–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–∞–Ω–∞–ª—ñ–∑—É (—Å–µ–∫)

# –í–∏—è–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º
DEPRECATED_THRESHOLD_DAYS=90            # –ü–æ—Ä—ñ–≥ –¥–ª—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö —Ñ–∞–π–ª—ñ–≤
DETECT_UNUSED_FILES=true                # –í–∏—è–≤–ª—è—Ç–∏ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏
DETECT_DUPLICATES=true                  # –í–∏—è–≤–ª—è—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏
DETECT_CIRCULAR_DEPS=true               # –í–∏—è–≤–ª—è—Ç–∏ —Ü–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

# –Ø–∫—ñ—Å—Ç—å
MIN_HEALTH_SCORE=60                     # –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤'—è (0-100)
MAX_CYCLOMATIC_COMPLEXITY=10            # –ú–∞–∫—Å. —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ñ—É–Ω–∫—Ü—ñ—ó

# Windsurf
AUTO_SYNC_WINDSURF=true                 # –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
WINDSURF_SYNC_INTERVAL=60               # –Ü–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó (—Å–µ–∫)
WINDSURF_NOTIFICATIONS=true             # –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
```

---

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

### 1. –û–≥–ª—è–¥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```
@cascade get_architecture_overview()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤, –∞–∫—Ç–∏–≤–Ω–∏—Ö, –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö)
- –û—Ü—ñ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤'—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- –ß–∞—Å–æ–≤–∞ –º—ñ—Ç–∫–∞ –∞–Ω–∞–ª—ñ–∑—É

### 2. –ê–Ω–∞–ª—ñ–∑ —Å—Ç–∞—Ç—É—Å—É —Ñ–∞–π–ª—É

```
@cascade analyze_file_status(file_path: "orchestrator/app.js")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –°—Ç–∞—Ç—É—Å —Ñ–∞–π–ª—É (ACTIVE, DEPRECATED, UNUSED, IN_DEVELOPMENT)
- –†–æ–∑–º—ñ—Ä —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤
- –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–∞–ª–µ–∂–Ω—ñ —Ñ–∞–π–ª–∏
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ –∫–ª–∞—Å—ñ–≤

### 3. –í–∏—è–≤–ª–µ–Ω–Ω—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö —Ñ–∞–π–ª—ñ–≤

```
@cascade detect_deprecated_files(days_threshold: 90)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –°–ø–∏—Å–æ–∫ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö —Ñ–∞–π–ª—ñ–≤
- –ü—Ä–∏—á–∏–Ω–∞ –∑–∞—Å—Ç–∞—Ä—ñ–ª–æ—Å—Ç—ñ
- –î–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –∑–º—ñ–Ω–∏

### 4. –í–∏—è–≤–ª–µ–Ω–Ω—è –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

```
@cascade detect_unused_files()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –°–ø–∏—Å–æ–∫ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- –†–æ–∑–º—ñ—Ä —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è

### 5. –í–∏—è–≤–ª–µ–Ω–Ω—è —Ü–∏–∫–ª—ñ—á–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```
@cascade detect_circular_dependencies()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –°–ø–∏—Å–æ–∫ —Ü–∏–∫–ª—ñ—á–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
- –§–∞–π–ª–∏, —â–æ –±–µ—Ä—É—Ç—å —É—á–∞—Å—Ç—å —É —Ü–∏–∫–ª–∞—Ö
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è —Ä–æ–∑—Ä–∏–≤–∞–Ω–Ω—è —Ü–∏–∫–ª—ñ–≤

### 6. –ì—Ä–∞—Ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```
@cascade get_dependency_graph(file_path: "orchestrator/app.js", depth: 2)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –ì—Ä–∞—Ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ñ–∞–π–ª—É
- –í—É–∑–ª–∏ —Ç–∞ —Ä–µ–±—Ä–∞
- –ì–ª–∏–±–∏–Ω–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

### 7. –ó–¥–æ—Ä–æ–≤'—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```
@cascade get_architecture_health()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –û—Ü—ñ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤'—è (0-100)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 8. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

```
@cascade get_refactoring_recommendations(priority: "high")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π –∑–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º
- –¢–∏–ø –ø—Ä–æ–±–ª–µ–º–∏ (deprecated, unused, etc.)
- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥—ñ—ó

### 9. –ê–Ω–∞–ª—ñ–∑ —à–∞—Ä—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```
@cascade analyze_layer(layer_name: "business")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —à–∞—Ä—É
- –§–∞–π–ª–∏ –≤ —à–∞—Ä—ñ
- –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º—ñ–∂ —à–∞—Ä–∞–º–∏

### 10. –í–ø–ª–∏–≤ –∑–º—ñ–Ω —Ñ–∞–π–ª—É

```
@cascade get_file_impact(file_path: "orchestrator/app.js")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª—ñ–≤, —è–∫—ñ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ª–µ–∂–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- –†—ñ–≤–µ–Ω—å –≤–ø–ª–∏–≤—É

### 11. –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–≤—ñ—Ç—ñ–≤

```
@cascade export_architecture_report(format: "json")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –∑–≤—ñ—Ç —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON/HTML/Markdown
- –®–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É –∑–≤—ñ—Ç—É

### 12. –í–∏—è–≤–ª–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤

```
@cascade detect_duplicates(directory: "orchestrator")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –°–ø–∏—Å–æ–∫ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –∫–æ–¥—É
- –°—Ö–æ–∂—ñ—Å—Ç—å –∫–æ–¥–∞ (%)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –∫–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—ó

---

## üìä –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

```
–í–∏: –ü–µ—Ä–µ–≤—ñ—Ä –∑–¥–æ—Ä–æ–≤'—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø—Ä–æ–µ–∫—Ç—É

@cascade get_architecture_health()

–†–µ–∑—É–ª—å—Ç–∞—Ç:
{
  "health": {
    "score": 72,
    "status": "good",
    "issues": 3
  },
  "recommendations": [
    "‚úÖ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –≤ —Ö–æ—Ä–æ—à–æ–º—É —Å—Ç–∞–Ω—ñ",
    "‚ö†Ô∏è –Ñ 3 –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏",
    "‚ö†Ô∏è –Ñ 1 —Ü–∏–∫–ª—ñ—á–Ω–∞ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å"
  ]
}
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ó–Ω–∞–π—Ç–∏ —Ñ–∞–π–ª–∏ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è

```
–í–∏: –Ø–∫—ñ —Ñ–∞–π–ª–∏ –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏?

@cascade detect_unused_files()

–†–µ–∑—É–ª—å—Ç–∞—Ç:
{
  "unused_files": [
    {"file": "orchestrator/legacy/old_api.js", "size": 2048, "lines": 45},
    {"file": "orchestrator/legacy/deprecated_utils.js", "size": 1024, "lines": 20}
  ],
  "count": 2
}
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –ê–Ω–∞–ª—ñ–∑ –≤–ø–ª–∏–≤—É –∑–º—ñ–Ω

```
–í–∏: –Ø–∫–∏–π –≤–ø–ª–∏–≤ –º–∞—Ç–∏–º–µ –∑–º—ñ–Ω–∞ —Ñ–∞–π–ª—É orchestrator/core/auth.js?

@cascade get_file_impact(file_path: "orchestrator/core/auth.js")

–†–µ–∑—É–ª—å—Ç–∞—Ç:
{
  "file": "orchestrator/core/auth.js",
  "affected_files": [
    "orchestrator/routes/api.js",
    "orchestrator/middleware/verify.js",
    "orchestrator/services/user.js"
  ],
  "impact_count": 3
}
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 4: –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

```
–í–∏: –î–∞–π –º–µ–Ω—ñ –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –∑ –≤–∏—Å–æ–∫–∏–º –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º

@cascade get_refactoring_recommendations(priority: "high")

–†–µ–∑—É–ª—å—Ç–∞—Ç:
{
  "priority": "high",
  "items": [
    {
      "file": "orchestrator/legacy/old_api.js",
      "type": "unused",
      "action": "–†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è"
    },
    {
      "file": "orchestrator/utils/helpers.js",
      "type": "deprecated",
      "action": "–†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è"
    }
  ]
}
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ Windsurf

–î–æ–¥–∞–π—Ç–µ –¥–æ `~/.codeium/windsurf/startup.sh`:

```bash
#!/bin/bash
# –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É
cd /Users/dev/Documents/GitHub/atlas4
bash .windsurf/workflows/sync-architecture-on-startup.md
```

### –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–Ω–∞–ª—ñ–∑—É—î –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ `.env.architecture`).

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ CI/CD

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø–µ—Ä–µ–¥ –∫–æ–º—ñ—Ç–æ–º
python3 << 'PYTHON'
import sys
sys.path.insert(0, 'codemap-system')
from mcp_architecture_server import ArchitectureAnalysisServer

server = ArchitectureAnalysisServer()
health = server._get_architecture_health()

if health['score'] < 60:
    print("‚ùå –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Ç—Ä–µ–±—É—î –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è")
    sys.exit(1)
PYTHON
```

---

## üìà –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

```bash
# –û—Å–Ω–æ–≤–Ω—ñ –ª–æ–≥–∏
tail -f /Users/dev/Documents/GitHub/atlas4/codemap-system/logs/architecture_server.log

# –õ–æ–≥–∏ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞
tail -f /Users/dev/Documents/GitHub/atlas4/codemap-system/logs/analyzer.log
```

### –ó–≤—ñ—Ç–∏

```bash
# –°–ø–∏—Å–æ–∫ –∑–≤—ñ—Ç—ñ–≤
ls -lh /Users/dev/Documents/GitHub/atlas4/codemap-system/reports/

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ JSON –∑–≤—ñ—Ç
cat /Users/dev/Documents/GitHub/atlas4/codemap-system/reports/architecture_report.json | jq

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ HTML –∑–≤—ñ—Ç
open /Users/dev/Documents/GitHub/atlas4/codemap-system/reports/architecture_report.html
```

---

## üêõ –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞: MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è**:
```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
cat ~/.codeium/windsurf/mcp_config.json

# 2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
cd /Users/dev/Documents/GitHub/atlas4/codemap-system
pip install -r requirements.txt

# 3. –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –≤—Ä—É—á–Ω—É
python3 mcp_architecture_server.py

# 4. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ Windsurf
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –∞–Ω–∞–ª—ñ–∑—É—î—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è**:
```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
source /Users/dev/Documents/GitHub/atlas4/codemap-system/.env.architecture

# 2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∞–Ω–∞–ª—ñ–∑ –≤—Ä—É—á–Ω—É
python3 << 'PYTHON'
import sys
sys.path.insert(0, 'codemap-system')
from architecture_mapper import ArchitectureMapper
from pathlib import Path

mapper = ArchitectureMapper(Path('.'))
result = mapper.analyze_architecture()
print(result)
PYTHON

# 3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏
tail -100 /Users/dev/Documents/GitHub/atlas4/codemap-system/logs/architecture_server.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–≤—ñ–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑

**–†—ñ—à–µ–Ω–Ω—è**:
```bash
# 1. –ó–º–µ–Ω—à—ñ—Ç—å –≥–ª–∏–±–∏–Ω—É –∞–Ω–∞–ª—ñ–∑—É –≤ .env.architecture
MAX_ANALYSIS_DEPTH=3

# 2. –ó–±—ñ–ª—å—à—ñ—Ç—å —ñ–Ω—Ç–µ—Ä–≤–∞–ª –∞–Ω–∞–ª—ñ–∑—É
AUTO_ANALYSIS_INTERVAL=600

# 3. –í–∏–∫–ª—é—á—ñ—Ç—å –≤–µ–ª–∏–∫—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
EXCLUDE_PATTERNS=node_modules,__pycache__,.git,.venv,dist,build,archive
```

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏](codemap-system/.env.architecture)
- [Workflow —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó](.windsurf/workflows/sync-architecture-on-startup.md)
- [MCP —Å–µ—Ä–≤–µ—Ä](codemap-system/mcp_architecture_server.py)
- [–ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏](codemap-system/architecture_mapper.py)

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

- [ ] –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (`pip install -r requirements.txt`)
- [ ] –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞ (`.env.architecture`)
- [ ] MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ (`mcp_architecture_server.py`)
- [ ] Windsurf –∫–æ–Ω—Ñ—ñ–≥ –æ–Ω–æ–≤–ª–µ–Ω–æ (`~/.codeium/windsurf/mcp_config.json`)
- [ ] Workflow —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Å—Ç–≤–æ—Ä–µ–Ω–æ (`.windsurf/workflows/sync-architecture-on-startup.md`)
- [ ] Windsurf –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ
- [ ] –¢–µ—Å—Ç–æ–≤–∞–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –≤ Cascade
- [ ] –õ–æ–≥–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ

---

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é**:
   ```bash
   bash /Users/dev/Documents/GitHub/atlas4/.windsurf/workflows/sync-architecture-on-startup.md
   ```

2. **–ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ Windsurf**

3. **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏**:
   ```
   @cascade get_architecture_overview()
   ```

4. **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–æ—é** (–¥–∏–≤. `.env.architecture`)

---

**–ì–æ—Ç–æ–≤–æ!** –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –∑ Windsurf. üéâ
