# üîó –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Windsurf Cascade

–ü–æ–≤–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó Codemap Analyzer –∑ Windsurf.

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- Windsurf –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- Python 3.8+
- –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ: `pip install -r requirements.txt`

## üöÄ –ö—Ä–æ–∫ 1: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É

### 1.1 –°–∫–æ–ø—ñ—é–π —Ñ–∞–π–ª–∏ –≤ —Ç–≤—ñ–π –ø—Ä–æ—î–∫—Ç

```bash
# –°–∫–æ–ø—ñ—é–π –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä
cp codemap_analyzer.py /path/to/your/project/

# –°–∫–æ–ø—ñ—é–π –∫–æ–Ω—Ñ—ñ–≥
cp config.yaml /path/to/your/project/

# –°–∫–æ–ø—ñ—é–π –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
cp requirements.txt /path/to/your/project/

# –°–∫–æ–ø—ñ—é–π workflows
cp -r .windsurf /path/to/your/project/
```

### 1.2 –í—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
cd /path/to/your/project
pip install -r requirements.txt
```

### 1.3 –ù–∞–ª–∞—à—Ç—É–π config.yaml

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π `config.yaml` –¥–ª—è —Ç–≤–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É:

```yaml
project:
  name: "My Awesome Project"
  root: "./"  # –ö–æ—Ä–µ–Ω–µ–≤–∞ –ø–∞–ø–∫–∞ –ø—Ä–æ—î–∫—Ç—É

analysis:
  include_paths:
    - "src"        # –¢–≤–æ—ó –ø–∞–ø–∫–∏ –∑ –∫–æ–¥–æ–º
    - "lib"
    - "app"
  exclude_paths:
    - "node_modules"
    - "__pycache__"
    - ".git"
    - "dist"
    - "build"
  file_extensions:
    - ".py"        # –ú–æ–≤–∏, —è–∫—ñ –∞–Ω–∞–ª—ñ–∑—É—î–º–æ
    - ".js"
    - ".ts"
```

## üîÑ –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª—ñ–∑—É

### 2.1 –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫

```bash
python3 codemap_analyzer.py --once
```

–¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å –∑–≤—ñ—Ç–∏ –≤ –ø–∞–ø—Ü—ñ `reports/`:
- `CODEMAP_SUMMARY.md` ‚Äî –¥–ª—è Cascade
- `codemap_analysis.json` ‚Äî –ø–æ–≤–Ω—ñ –¥–∞–Ω—ñ
- `codemap_analysis.html` ‚Äî HTML –∑–≤—ñ—Ç

### 2.2 –ü–æ—Å—Ç—ñ–π–Ω–µ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è

```bash
python3 codemap_analyzer.py --watch
```

–ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –±—É–¥–µ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∑–≤—ñ—Ç–∏ –∫–æ–∂–Ω—ñ 5 —Å–µ–∫—É–Ω–¥.

## üéØ –ö—Ä–æ–∫ 3: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ Windsurf

### 3.1 Workflows (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

Workflows –≤–∂–µ –≥–æ—Ç–æ–≤—ñ –≤ `.windsurf/workflows/`:

1. **`/update-codemap`** ‚Äî –æ–Ω–æ–≤–∏—Ç–∏ –≤—Å—é –∫–∞—Ä—Ç—É
2. **`/analyze-dead-code`** ‚Äî –∑–Ω–∞–π—Ç–∏ –º–µ—Ä—Ç–≤–∏–π –∫–æ–¥
3. **`/detect-cycles`** ‚Äî –≤–∏—è–≤–∏—Ç–∏ —Ü–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
4. **`/refactor-with-context`** ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–∏ –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**

```
Ctrl+L ‚Üí /update-codemap
```

Cascade –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä —ñ –æ—Ç—Ä–∏–º–∞—î –≤—Å—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.

### 3.2 –†—É—á–Ω–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è

–í—ñ–¥–∫—Ä–∏–π Cascade:
```
Ctrl+L
```

–ù–∞–ø–∏—à–∏ –∑–∞–ø–∏—Ç —ñ –ø–æ—Å–∏–ª–∞–π—Å—è –Ω–∞ –∑–≤—ñ—Ç:
```
–ü–æ–∫–∞–∂–∏ –≥—Ä–∞—Ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É
@reports/CODEMAP_SUMMARY.md
```

Cascade –ø—Ä–æ—á–∏—Ç–∞—î –∑–≤—ñ—Ç —ñ –ø–æ—è—Å–Ω–∏–º–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

### 3.3 –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ Cascade

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É `/update-codemap` —Ç–∏ –º–æ–∂–µ—à –∑–∞–ø–∏—Ç–∞—Ç–∏:

```
–ü–æ–∫–∞–∂–∏ –≤—Å—ñ —Ü–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤ –ø—Ä–æ—î–∫—Ç—ñ
```

```
–Ø–∫—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω—ñ—Ö—Ç–æ –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î? –ó–∞–ø—Ä–æ–ø–æ–Ω—É–π –≤–∏–¥–∞–ª–∏—Ç–∏
```

```
–ü–æ—è—Å–Ω–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ—î–∫—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≥—Ä–∞—Ñ—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```

```
–Ø–∫—ñ –º–æ–¥—É–ª—ñ –Ω–∞–π–±—ñ–ª—å—à –∑–∞–ª–µ–∂–Ω—ñ –≤—ñ–¥ —ñ–Ω—à–∏—Ö?
```

```
–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–∏ —Ü–µ–π –∫–æ–¥, —â–æ–± —Ä–æ–∑–±–∏—Ç–∏ —Ü–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```

```
–ü–æ–±—É–¥—É–π –¥—ñ–∞–≥—Ä–∞–º—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø—Ä–æ—î–∫—Ç—É
```

## üîß –ö—Ä–æ–∫ 4: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è

### 4.1 Pre-commit Hook

–ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏–º–µ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∫–æ–º—ñ—Ç—ñ:

```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏ pre-commit
pip install pre-commit

# –í—Å—Ç–∞–Ω–æ–≤–∏ hook
pre-commit install
```

–¢–µ–ø–µ—Ä –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É `git commit` –∑–≤—ñ—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—è—Ç—å—Å—è.

### 4.2 GitHub Actions (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª `.github/workflows/codemap.yml`:

```yaml
name: Update Codemap

on:
  push:
    branches: [main, develop]

jobs:
  analyze:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      - run: pip install -r requirements.txt
      - run: python3 codemap_analyzer.py --once
      - uses: actions/upload-artifact@v3
        with:
          name: codemap-reports
          path: reports/
```

## üìä –ö—Ä–æ–∫ 5: –†–æ–∑—É–º—ñ–Ω–Ω—è –∑–≤—ñ—Ç—ñ–≤

### CODEMAP_SUMMARY.md

–¶–µ –æ—Å–Ω–æ–≤–Ω–∏–π –∑–≤—ñ—Ç –¥–ª—è Cascade:

```markdown
# üìä Code Analysis Report

## Project Overview
- Files Analyzed: 42
- Total Functions: 156
- Total Imports: 89

## Dependency Graph
- Nodes: 45
- Edges: 128
- Circular Dependencies: 3

## Dead Code Detected
### Unused Functions (12)
- `old_helper()` in `src/utils.py` (line 45)
...

## Circular Dependencies (3)
1. module_a ‚Üí module_b ‚Üí module_a
...
```

### codemap_analysis.json

–ü–æ–≤–Ω—ñ –¥–∞–Ω—ñ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏:

```json
{
  "timestamp": "2025-11-18T20:30:00",
  "files_analyzed": 42,
  "total_functions": 156,
  "dependency_graph": {
    "nodes": 45,
    "edges": 128,
    "cycles": 3
  },
  "dead_code": {
    "functions": [...],
    "private_methods": [...]
  },
  "file_imports": {...},
  "function_definitions": {...},
  "dependency_edges": [...]
}
```

## üéì –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü—Ä–∏–∫–ª–∞–¥ 1: –ó–Ω–∞–π—Ç–∏ –º–µ—Ä—Ç–≤–∏–π –∫–æ–¥

```bash
# –ó–∞–ø—É—Å—Ç–∏ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä
python3 codemap_analyzer.py --once

# –í—ñ–¥–∫—Ä–∏–π Cascade
Ctrl+L

# –ù–∞–ø–∏—à–∏
/analyze-dead-code
```

Cascade –ø–æ–∫–∞–∂–µ –≤—Å—ñ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.

### –ü—Ä–∏–∫–ª–∞–¥ 2: –í–∏—è–≤–∏—Ç–∏ —Ü–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
python3 codemap_analyzer.py --once
Ctrl+L
/detect-cycles
```

Cascade –ø–æ–∫–∞–∂–µ –≤—Å—ñ —Ü–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

### –ü—Ä–∏–∫–ª–∞–¥ 3: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

```bash
Ctrl+L
/refactor-with-context
```

Cascade:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `/update-codemap`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `/analyze-dead-code`
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `/detect-cycles`
4. –ú–∞—Ç–∏–º–µ –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

### –ü—Ä–∏–∫–ª–∞–¥ 4: –ü–æ—Å—Ç—ñ–π–Ω–µ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è

```bash
# –¢–µ—Ä–º—ñ–Ω–∞–ª 1: –ó–∞–ø—É—Å—Ç–∏ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä
python3 codemap_analyzer.py --watch

# –¢–µ—Ä–º—ñ–Ω–∞–ª 2: –†–µ–¥–∞–≥—É–π –∫–æ–¥
# –ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–∏—Ç—å –∑–≤—ñ—Ç–∏
```

## üêõ –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Cascade –Ω–µ –±–∞—á–∏—Ç—å –∑–≤—ñ—Ç–∏

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ `reports/CODEMAP_SUMMARY.md` —ñ—Å–Ω—É—î
2. –ó–∞–ø—É—Å—Ç–∏ `/update-codemap` workflow
3. –ü–µ—Ä–µ–≤—ñ—Ä, —â–æ –ø–∞–ø–∫–∞ `reports/` –¥–æ—Å—Ç—É–ø–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –ø–æ–≤—ñ–ª—å–Ω–∏–π

**–†—ñ—à–µ–Ω–Ω—è:** –í–∏–∫–ª—é—á–∏ –ø–∞–ø–∫–∏ –≤ `config.yaml`:
```yaml
exclude_paths:
  - "node_modules"
  - "__pycache__"
  - "dist"
  - "build"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏—è–≤–ª—è—î—Ç—å—Å—è –º–µ—Ä—Ç–≤–∏–π –∫–æ–¥

**–†—ñ—à–µ–Ω–Ω—è:** –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É. –î–ª—è —Ç–æ—á–Ω—ñ—à–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π:
- **Python**: `vulture`, `pylint`
- **JavaScript**: `eslint`, `jscpd`
- **TypeScript**: `tslint`, `ts-unused-exports`

## üöÄ –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è

### –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –º–æ–≤—É

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π `codemap_analyzer.py`:

```python
def _analyze_file(self, file_path: Path):
    if file_path.suffix == ".go":
        self._analyze_go_file(file_path, content)

def _analyze_go_file(self, file_path: Path, content: str):
    # –¢–≤—ñ–π –∫–æ–¥ –¥–ª—è Go
    pass
```

### –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç –∑–≤—ñ—Ç—É

```python
def _generate_csv_report(self, summary: Dict[str, Any]):
    # –¢–≤—ñ–π –∫–æ–¥ –¥–ª—è CSV
    pass
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î:

1. –ü–µ—Ä–µ–≤—ñ—Ä `config.yaml` ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏?
2. –ó–∞–ø—É—Å—Ç–∏ –∑ `--once` —ñ –ø–µ—Ä–µ–≤—ñ—Ä –ø–æ–º–∏–ª–∫–∏
3. –ü–µ—Ä–µ–≥–ª—è–Ω—å `reports/codemap_analysis.json` ‚Äî –¥–∞–Ω—ñ —Ç–∞–º?
4. –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ —Ñ–∞–π–ª–∏ –º–∞—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–≤–æ—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª—ñ–∑—É –∫–æ–¥—É –¥–ª—è Windsurf –ø—Ä–∞—Ü—é—î! üöÄ

–ó–∞–ø—É—Å—Ç–∏:
```bash
python3 codemap_analyzer.py --once
```

–ü–æ—Ç—ñ–º –≤—ñ–¥–∫—Ä–∏–π Cascade:
```
Ctrl+L ‚Üí /update-codemap
```

Cascade –º–∞—Ç–∏–º–µ 100% –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–≤–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É! üéâ
