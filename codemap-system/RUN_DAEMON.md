# üöÄ –ó–∞–ø—É—Å–∫ Architecture Daemon

**–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏**

---

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ daemon

```bash
cd /Users/dev/Documents/GitHub/atlas4/codemap-system
python3 architecture_daemon.py
```

### 2. –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ (–≤ —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ)

```bash
tail -f logs/architecture_daemon.log
```

### 3. –ó—É–ø–∏–Ω–∏—Ç–∏ daemon

```bash
# –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Ctrl+C –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –¥–µ –∑–∞–ø—É—â–µ–Ω–∏–π daemon
```

---

## üìä –©–æ —Ä–æ–±–∏—Ç—å daemon

### –ö–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω:

1. **–ê–Ω–∞–ª—ñ–∑—É—î –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É** –ø—Ä–æ–µ–∫—Ç—É
2. **–í–∏—è–≤–ª—è—î —Ü–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**
3. **–ó–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏**
4. **–û—Ü—ñ–Ω—é—î –∑–¥–æ—Ä–æ–≤'—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏**
5. **–ó–≤—ñ—Ç—É—î –ø—Ä–æ –∑–º—ñ–Ω–∏**
6. **–õ–æ–≥—É—î –≤—Å–µ –≤ —Ñ–∞–π–ª**

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É:

```
2025-11-22 19:15:30,123 - root - INFO - üöÄ Architecture Daemon –∑–∞–ø—É—â–µ–Ω–∏–π (—ñ–Ω—Ç–µ—Ä–≤–∞–ª: 300—Å)
2025-11-22 19:15:30,124 - root - INFO - üìä Daemon –ø–æ—á–∞–≤ —Ä–æ–±–æ—Ç—É
2025-11-22 19:15:30,125 - root - INFO - üîç –ê–Ω–∞–ª—ñ–∑ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏...
2025-11-22 19:15:35,456 - core.architecture_mapper - INFO - üîç –ê–Ω–∞–ª—ñ–∑ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –Ω–∞ –≥–ª–∏–±–∏–Ω—É 2...
2025-11-22 19:15:37,789 - core.architecture_mapper - INFO -    üìÅ –ó–Ω–∞–π–¥–µ–Ω–æ 629 —Ñ–∞–π–ª—ñ–≤
2025-11-22 19:15:45,012 - core.architecture_mapper - INFO -    üîÑ –ó–Ω–∞–π–¥–µ–Ω–æ 3 —Ü–∏–∫–ª—ñ—á–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
2025-11-22 19:15:45,013 - core.architecture_mapper - INFO - ‚úÖ –ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
2025-11-22 19:15:45,014 - root - INFO - ‚úÖ –ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë           –ü–ï–†–®–ò–ô –ê–ù–ê–õ–Ü–ó –ê–†–•–Ü–¢–ï–ö–¢–£–†–ò                           ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
   ‚Ä¢ –í—Å—å–æ–≥–æ —Ñ–∞–π–ª—ñ–≤: 629
   ‚Ä¢ –ê–∫—Ç–∏–≤–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤: 615
   ‚Ä¢ –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤: 12
   ‚Ä¢ –ó–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö —Ñ–∞–π–ª—ñ–≤: 2
   ‚Ä¢ –í—Å—å–æ–≥–æ —Ä—è–¥–∫—ñ–≤: 523456

üè• –ó–î–û–†–û–í'–Ø: 78.5/100
   ‚Ä¢ –ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å: good
   ‚Ä¢ –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: 1.9%

üîÑ –¶–ò–ö–õ–Ü–ß–ù–Ü –ó–ê–õ–ï–ñ–ù–û–°–¢–Ü: 3
   ‚ö†Ô∏è  –¶–∏–∫–ª 1: orchestrator/ai/api-request-optimizer.js ‚Üí orchestrator/ai/validation/request-validator.js ‚Üí orchestrator/ai/api-request-optimizer.js
   ‚ö†Ô∏è  –¶–∏–∫–ª 2: web/core/auth.py ‚Üí web/routes/api.py ‚Üí web/core/auth.py
   ‚ö†Ô∏è  –¶–∏–∫–ª 3: config/agents-config.js ‚Üí config/api-config.js ‚Üí config/agents-config.js
```

---

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ó–º—ñ–Ω–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª –∞–Ω–∞–ª—ñ–∑—É

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `architecture_daemon.py`:

```python
# –ó–º—ñ–Ω—ñ—Ç—å —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
daemon = ArchitectureDaemon(check_interval=300)  # 5 —Ö–≤–∏–ª–∏–Ω
daemon = ArchitectureDaemon(check_interval=60)   # 1 —Ö–≤–∏–ª–∏–Ω–∞
daemon = ArchitectureDaemon(check_interval=1800) # 30 —Ö–≤–∏–ª–∏–Ω
```

### –ó–º—ñ–Ω–∏—Ç–∏ –≥–ª–∏–±–∏–Ω—É –∞–Ω–∞–ª—ñ–∑—É

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `architecture_daemon.py`:

```python
# –£ –º–µ—Ç–æ–¥—ñ _check_architecture()
architecture = self.mapper.analyze_architecture(max_depth=2)  # –ü–æ—Ç–æ—á–Ω–æ
architecture = self.mapper.analyze_architecture(max_depth=1)  # –®–≤–∏–¥—à–µ
architecture = self.mapper.analyze_architecture(max_depth=3)  # –ì–ª–∏–±—à–µ
```

---

## üìã –õ–æ–≥–∏

### –†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è

```
codemap-system/logs/architecture_daemon.log
```

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏

```bash
# –û—Å—Ç–∞–Ω–Ω—ñ 50 —Ä—è–¥–∫—ñ–≤
tail -50 logs/architecture_daemon.log

# –°–ª—ñ–¥–∫—É–≤–∞—Ç–∏ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
tail -f logs/architecture_daemon.log

# –ü–æ—à—É–∫ —Ü–∏–∫–ª—ñ—á–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –≤ –ª–æ–≥–∞—Ö
grep "–¶–∏–∫–ª" logs/architecture_daemon.log

# –ü–æ—à—É–∫ –ø–æ–º–∏–ª–æ–∫
grep "‚ùå" logs/architecture_daemon.log
```

---

## üéØ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ Windsurf

### –ó–∞–ø—É—Å—Ç–∏—Ç–∏ daemon —É —Ñ–æ–Ω—ñ

```bash
# –ù–∞ macOS/Linux
nohup python3 architecture_daemon.py > logs/daemon.out 2>&1 &

# –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ screen
screen -S architecture
python3 architecture_daemon.py
# –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Ctrl+A –ø–æ—Ç—ñ–º D –¥–ª—è –≤–∏—Ö–æ–¥–∞
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø—Ä–æ—Ü–µ—Å–∏ Python
ps aux | grep architecture_daemon

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –ª–æ–≥–∏
tail -20 logs/architecture_daemon.log
```

### –ó—É–ø–∏–Ω–∏—Ç–∏ daemon

```bash
# –ó–Ω–∞–π—Ç–∏ PID
ps aux | grep architecture_daemon

# –ó—É–ø–∏–Ω–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å
kill <PID>
```

---

## üö® –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### Daemon –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Python –≤–µ—Ä—Å—ñ—é
python3 --version  # –ü–æ—Ç—Ä—ñ–±–Ω–∞ 3.7+

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ–∑–≤–æ–ª–∏
chmod +x architecture_daemon.py
```

### Daemon –ø–æ–≤—ñ–ª—å–Ω–æ –ø—Ä–∞—Ü—é—î

```bash
# –ó–º–µ–Ω—à–∏—Ç–∏ –≥–ª–∏–±–∏–Ω—É –∞–Ω–∞–ª—ñ–∑—É
max_depth=1  # –∑–∞–º—ñ—Å—Ç—å 2

# –ó–±—ñ–ª—å—à–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª
check_interval=600  # –∑–∞–º—ñ—Å—Ç—å 300 (10 —Ö–≤–∏–ª–∏–Ω)
```

### –ü–æ–º–∏–ª–∫–∏ –≤ –ª–æ–≥–∞—Ö

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø–æ–º–∏–ª–∫–∏
grep "ERROR" logs/architecture_daemon.log

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
grep "WARNING" logs/architecture_daemon.log
```

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ daemon –ø—Ä–∞—Ü—é—î

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –ª–æ–≥–∏
tail -5 logs/architecture_daemon.log

# –Ø–∫—â–æ –±–∞—á–∏—Ç–µ "üîç –ê–Ω–∞–ª—ñ–∑ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏..." - daemon –ø—Ä–∞—Ü—é—î!
```

### –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

```bash
# –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—ñ–≤
grep "‚úÖ –ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–æ" logs/architecture_daemon.log | wc -l

# –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ü–∏–∫–ª—ñ—á–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
grep "üîÑ –¶–ò–ö–õ–Ü–ß–ù–Ü –ó–ê–õ–ï–ñ–ù–û–°–¢–Ü:" logs/architecture_daemon.log
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ

### –ù–∞ macOS (LaunchAgent)

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `~/Library/LaunchAgents/com.atlas.architecture.plist`:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>Label</key>
    <string>com.atlas.architecture</string>
    <key>ProgramArguments</key>
    <array>
        <string>/usr/local/bin/python3</string>
        <string>/Users/dev/Documents/GitHub/atlas4/codemap-system/architecture_daemon.py</string>
    </array>
    <key>RunAtLoad</key>
    <true/>
    <key>KeepAlive</key>
    <true/>
    <key>StandardOutPath</key>
    <string>/Users/dev/Documents/GitHub/atlas4/codemap-system/logs/daemon.out</string>
    <key>StandardErrorPath</key>
    <string>/Users/dev/Documents/GitHub/atlas4/codemap-system/logs/daemon.err</string>
</dict>
</plist>
```

–ü–æ—Ç—ñ–º –∑–∞–ø—É—Å—Ç—ñ—Ç—å:

```bash
launchctl load ~/Library/LaunchAgents/com.atlas.architecture.plist
```

---

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- Daemon –ø—Ä–∞—Ü—é—î –ø–æ—Å—Ç—ñ–π–Ω–æ —É —Ñ–æ–Ω—ñ
- –ù–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ä–æ–∑—Ä–æ–±–∫—É
- –ú–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–∞ –∫–æ–ø—ñ–π (–∫–æ–∂–Ω–∞ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏)
- –õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `logs/architecture_daemon.log`
- –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

---

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ daemon
2. ‚è≥ –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏
3. ‚è≥ –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –§–∞–∑–∏ 2 (Windsurf —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è)

---

**–í–µ—Ä—Å—ñ—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ  
**–î–∞—Ç–∞**: 22 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025
