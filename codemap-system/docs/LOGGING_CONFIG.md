# üìã –õ–æ–≥—É–≤–∞–Ω–Ω—è –∑ –†–æ—Ç–∞—Ü—ñ—î—é - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–õ–æ–≥ —Ñ–∞–π–ª–∏ –º–æ–∂—É—Ç—å —Ä–æ–∑–±—É—Ö–∞—Ç–∏ –¥–æ –≤–µ–ª–∏—á–µ–∑–Ω–∏—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤ (7+ GB), –≤–∏–∫–ª–∏–∫–∞—é—á–∏:
- I/O –ø–æ–º–∏–ª–∫–∏
- –ö—Ä–∞—à —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–æ–±–ª–µ–º–∏ –∑ –¥–∏—Å–∫–æ–º

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è: RotatingFileHandler

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Python `logging.handlers.RotatingFileHandler` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó —Ä–æ—Ç–∞—Ü—ñ—ó –ª–æ–≥—ñ–≤.

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

```python
from logging.handlers import RotatingFileHandler

file_handler = RotatingFileHandler(
    log_file,
    maxBytes=10 * 1024 * 1024,  # 10MB per file
    backupCount=5,               # Keep 5 backup files
    encoding='utf-8'
)
```

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. **–û—Å–Ω–æ–≤–Ω–∏–π –ª–æ–≥**: `mcp_server.log` (–¥–æ 10MB)
2. **–†–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó**: 
   - `mcp_server.log.1` (–Ω–∞–π—Å—Ç–∞—Ä—à–∏–π)
   - `mcp_server.log.2`
   - `mcp_server.log.3`
   - `mcp_server.log.4`
   - `mcp_server.log.5` (–Ω–∞–π–Ω–æ–≤—ñ—à–∏–π)

3. **–ö–æ–ª–∏ —Ñ–∞–π–ª –¥–æ—Å—è–≥–∞—î 10MB**:
   - `mcp_server.log` ‚Üí `mcp_server.log.1`
   - `mcp_server.log.2` ‚Üí `mcp_server.log.3`
   - ...
   - `mcp_server.log.5` ‚Üí **–≤–∏–¥–∞–ª—è—î—Ç—å—Å—è**
   - –ù–æ–≤–∏–π `mcp_server.log` —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –æ–±—Å—è–≥

- **–ú–∞–∫—Å–∏–º—É–º –Ω–∞ –¥–∏—Å–∫—É**: 10MB √ó 5 = **50MB** (–∑–∞–º—ñ—Å—Ç—å 7GB!)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è**: —Å—Ç–∞—Ä—ñ –ª–æ–≥–∏ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥—ñ–≤

```
codemap-system/
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îú‚îÄ‚îÄ mcp_server.log       (–ø–æ—Ç–æ—á–Ω–∏–π, –¥–æ 10MB)
‚îÇ   ‚îú‚îÄ‚îÄ mcp_server.log.1     (—Ä–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è)
‚îÇ   ‚îú‚îÄ‚îÄ mcp_server.log.2
‚îÇ   ‚îú‚îÄ‚îÄ mcp_server.log.3
‚îÇ   ‚îú‚îÄ‚îÄ mcp_server.log.4
‚îÇ   ‚îú‚îÄ‚îÄ mcp_server.log.5     (–Ω–∞–π—Å—Ç–∞—Ä—ñ—à–∞)
‚îÇ   ‚îú‚îÄ‚îÄ analyzer.log         (–ø–æ—Ç–æ—á–Ω–∏–π, –¥–æ 10MB)
‚îÇ   ‚îú‚îÄ‚îÄ analyzer.log.1
‚îÇ   ‚îî‚îÄ‚îÄ ...
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É

```python
maxBytes=20 * 1024 * 1024  # 20MB –∑–∞–º—ñ—Å—Ç—å 10MB
```

### –ó–º—ñ–Ω–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π

```python
backupCount=10  # –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ 10 —Ñ–∞–π–ª—ñ–≤ –∑–∞–º—ñ—Å—Ç—å 5
```

### –ó–º—ñ–Ω–∏—Ç–∏ —Ä—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è

```python
file_handler.setLevel(logging.INFO)  # –¢—ñ–ª—å–∫–∏ INFO —Ç–∞ –≤–∏—â–µ
```

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä         | –ë–µ–∑ —Ä–æ—Ç–∞—Ü—ñ—ó  | –ó —Ä–æ—Ç–∞—Ü—ñ—î—é |
| ---------------- | ------------ | ---------- |
| –ú–∞–∫—Å —Ä–æ–∑–º—ñ—Ä      | –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π | 50MB       |
| –ß–∞—Å –¥–æ –ø—Ä–æ–±–ª–µ–º–∏  | 1-2 –¥–Ω—ñ      | 1-2 —Ç–∏–∂–Ω—ñ  |
| –ê–≤—Ç–æ–æ—á–∏—â–µ–Ω–Ω—è     | ‚ùå            | ‚úÖ          |
| –î–∏—Å–∫–æ–≤–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä | –ö—Ä–∏—Ç–∏—á–Ω–∏–π    | –ë–µ–∑–ø–µ—á–Ω–∏–π  |

## üöÄ –ó–∞–ø—É—Å–∫

–°–µ—Ä–≤–µ—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—é—Ç—å—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É:

```bash
python3 mcp_codemap_server.py --project . --mode stdio
python3 codemap_analyzer.py --watch
```

–õ–æ–≥–∏ –±—É–¥—É—Ç—å –≤: `codemap-system/logs/`

## üîç –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –ª–æ–≥—ñ–≤:

```bash
ls -lh codemap-system/logs/
```

–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –ª–æ–≥–∏:

```bash
tail -f codemap-system/logs/mcp_server.log
tail -f codemap-system/logs/analyzer.log
```

## ‚ú® –ü–µ—Ä–µ–≤–∞–≥–∏

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä–æ–º
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω–µ –¥–ª—è –¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ Python
- ‚úÖ –ù—É–ª—å–æ–≤—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –≤–∏—Ç—Ä–∞—Ç–∏

---

**–î–∞—Ç–∞**: 2025-11-19  
**–í–µ—Ä—Å—ñ—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ
