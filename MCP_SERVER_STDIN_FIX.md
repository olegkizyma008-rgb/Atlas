# üîß MCP Server stdin Fix

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

RUN_FULL.sh –Ω–µ –º—ñ–≥ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ MCP —Å–µ—Ä–≤–µ—Ä, —Ç–æ–º—É —â–æ —Å–µ—Ä–≤–µ—Ä –æ—á—ñ–∫—É—î –Ω–∞ stdin –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è JSON-RPC –∑–∞–ø–∏—Ç—ñ–≤.

**–ü–æ–º–∏–ª–∫–∞**: –°–µ—Ä–≤–µ—Ä –Ω–µ–≥–∞–π–Ω–æ –∑–∞–≤–µ—Ä—à—É–≤–∞–≤—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ `nohup` –∑ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è–º –Ω–∞ —Ñ–∞–π–ª.

---

## üîç –ü—Ä–∏—á–∏–Ω–∞

`mcp_server.py` —Ä–µ–∞–ª—ñ–∑—É—î MCP –ø—Ä–æ—Ç–æ–∫–æ–ª —á–µ—Ä–µ–∑ JSON-RPC –Ω–∞–¥ stdio:

```python
for line in sys.stdin:
    # –ß–∏—Ç–∞—î JSON –∑–∞–ø–∏—Ç–∏ –∑ stdin
    request = json.loads(line)
    # –û–±—Ä–æ–±–ª—è—î –∑–∞–ø–∏—Ç
    # –ü–∏—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ stdout
```

–ö–æ–ª–∏ stdin –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è (—á–µ—Ä–µ–∑ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ `/dev/null` –∞–±–æ —Ñ–∞–π–ª), —Å–µ—Ä–≤–µ—Ä –Ω–µ–≥–∞–π–Ω–æ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è.

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### –Ø–∫ –ø—Ä–∞—Ü—é—î MCP —Å–µ—Ä–≤–µ—Ä

1. **Windsurf –∑–∞–ø—É—Å–∫–∞—î —Å–µ—Ä–≤–µ—Ä** —è–∫ subprocess
2. **Windsurf –Ω–∞–¥—Å–∏–ª–∞—î JSON –∑–∞–ø–∏—Ç–∏** —á–µ—Ä–µ–∑ stdin
3. **–°–µ—Ä–≤–µ—Ä —á–∏—Ç–∞—î –∑–∞–ø–∏—Ç–∏** –∑ stdin
4. **–°–µ—Ä–≤–µ—Ä –ø–∏—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏** –≤ stdout
5. **Windsurf —á–∏—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏** –∑ stdout

### –û–Ω–æ–≤–ª–µ–Ω–æ RUN_FULL.sh

**–ë—É–ª–æ**:
```bash
nohup /usr/bin/env python3 mcp_server.py > "$LOGS_DIR/mcp_server.log" 2>&1 &
```

**–°—Ç–∞–ª–æ**:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —â–æ —Å–µ—Ä–≤–µ—Ä –∫–æ–¥ –≤–∞–ª—ñ–¥–Ω–∏–π
if /usr/bin/env python3 -c "
import sys
sys.path.insert(0, '.')
from mcp_server import MCPServer
server = MCPServer()
print('‚úì Server initialized')
" 2>/dev/null; then
    print_success "MCP Server –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏"
    print_info "–ü—Ä–∏–º—ñ—Ç–∫–∞: MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞—Ç–∏–º–µ—Ç—å—Å—è Windsurf –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ"
else
    print_error "–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó MCP Server"
    exit 1
fi
```

---

## üéØ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### –õ–æ–∫–∞–ª—å–Ω–æ (RUN_FULL.sh)

```
RUN_FULL.sh
  ‚Üì
–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —â–æ mcp_server.py –≤–∞–ª—ñ–¥–Ω–∏–π
  ‚Üì
‚úÖ MCP Server –≥–æ—Ç–æ–≤–∏–π
  ‚Üì
Windsurf –∑–∞–ø—É—Å–∫–∞—î —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ
```

### –£ Windsurf (Cascade)

```
Cascade –æ–±–∏—Ä–∞—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
  ‚Üì
Windsurf —á–∏—Ç–∞—î mcp_config.json
  ‚Üì
Windsurf –∑–∞–ø—É—Å–∫–∞—î: /path/to/python3 /path/to/mcp_server.py
  ‚Üì
Windsurf –Ω–∞–¥—Å–∏–ª–∞—î JSON –∑–∞–ø–∏—Ç —á–µ—Ä–µ–∑ stdin
  ‚Üì
–°–µ—Ä–≤–µ—Ä –æ–±—Ä–æ–±–ª—è—î –∑–∞–ø–∏—Ç
  ‚Üì
–°–µ—Ä–≤–µ—Ä –ø–∏—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ stdout
  ‚Üì
Windsurf —á–∏—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  ‚Üì
Cascade –æ—Ç—Ä–∏–º—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ

- ‚úÖ RUN_FULL.sh –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ MCP Server –∫–æ–¥ –≤–∞–ª—ñ–¥–Ω–∏–π
- ‚úÖ –°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏ –∑ Windsurf
- ‚úÖ 16 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–æ—Å—Ç—É–ø–Ω—ñ

---

## üìù –í–∞–∂–ª–∏–≤–æ

**MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø–æ—Å—Ç—ñ–π–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ** - —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!

- ‚úÖ Windsurf –∑–∞–ø—É—Å–∫–∞—î —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ
- ‚úÖ Windsurf —É–ø—Ä–∞–≤–ª—è—î –ø—Ä–æ—Ü–µ—Å–æ–º —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∫–æ–º—É–Ω—ñ–∫—É—î —á–µ—Ä–µ–∑ stdin/stdout
- ‚úÖ –¶–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π MCP –ø—Ä–æ—Ç–æ–∫–æ–ª

---

**–î–∞—Ç–∞**: 20 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025  
**–í–µ—Ä—Å—ñ—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
