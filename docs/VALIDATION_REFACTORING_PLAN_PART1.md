# –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É —Å–∏—Å—Ç–µ–º–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó MCP tools - –ß–∞—Å—Ç–∏–Ω–∞ 1
**–î–∞—Ç–∞**: 2025-10-23  
**–í–µ—Ä—Å—ñ—è**: 1.0  

---

## üìä –ê–ù–ê–õ–Ü–ó –ü–û–¢–û–ß–ù–û–á –°–ò–°–¢–ï–ú–ò

### –í–∏—è–≤–ª–µ–Ω—ñ –Ω–µ–¥–æ–ª—ñ–∫–∏:

#### 1. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è - –Ω–µ–ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
**–ü—Ä–æ–±–ª–µ–º–∞**: 
- –Ñ 3 —Ä—ñ–∑–Ω—ñ —Å–∏—Å—Ç–µ–º–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –∞–ª–µ –Ω–µ –≤—Å—ñ —Å–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ
- –ù–µ–º–∞—î —Ä–∞–Ω–Ω—å–æ–≥–æ –≤—ñ–¥—Å—ñ—é–≤–∞–Ω–Ω—è (early rejection)
- –ê–±–æ-–∞–±–æ –ª–æ–≥—ñ–∫–∞ –∑–∞–º—ñ—Å—Ç—å –∫–∞—Å–∫–∞–¥–Ω–æ—ó

**–ü–æ—Ç–æ—á–Ω–∏–π –∫–æ–¥**:
```javascript
// tetyana-plan-tools-processor.js, lines 152-161
if (this.tetyanaToolSystem) {
  validation = this.tetyanaToolSystem.validateToolCalls(plan.tool_calls);
} else {
  validation = this.mcpManager.validateToolCalls(plan.tool_calls);
}
```

#### 2. **prepareToolsAndPrompt - –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –æ–ø–∏—Å—ñ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞**:
- –û–ø–∏—Å–∏ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ —â–æ—Ä–∞–∑—É –∑ inputSchema
- MCP `tools/list` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ª–∏—à–µ –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
- –ü—Ä–æ–º–ø—Ç–∏ –º—ñ—Å—Ç—è—Ç—å —Å—Ç–∞—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ —è–∫—ñ –º–æ–∂—É—Ç—å –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º

**–†—ñ—à–µ–Ω–Ω—è**: 
- –ö–µ—à—É–≤–∞—Ç–∏ –ø–æ–≤–Ω—ñ –æ–ø–∏—Å–∏ –∑ MCP –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ê–ë–û
- –°—Ç–∞—Ç–∏—á–Ω—ñ –ø–æ–≤–Ω—ñ –æ–ø–∏—Å–∏ –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ - –º–µ–Ω—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É)

#### 3. **–Ü—Å—Ç–æ—Ä—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è - –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ª–µ–π–±–ª—ñ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞**:
- `ToolHistoryManager` —ñ—Å–Ω—É—î –∞–ª–µ –Ω–µ –º–∞—î –ª–µ–π–±–ª—ñ–≤ SUCCESS/FAILURE
- –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å
- –ù–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –≤ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é

#### 4. **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∑–≤—ñ—Ä–∫–∏ –∑ MCP tools/list –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º**
**–ü—Ä–æ–±–ª–µ–º–∞**:
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç—ñ–ª—å–∫–∏ –∑ –∫–µ—à—É –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
- –Ø–∫—â–æ MCP –æ–Ω–æ–≤–∏–≤—Å—è - –Ω–µ–º–∞—î –¥–∏–Ω–∞–º—ñ—á–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

**–†—ñ—à–µ–Ω–Ω—è**: –î–æ–¥–∞—Ç–∏ —Ñ—ñ–Ω–∞–ª—å–Ω—É –∑–≤—ñ—Ä–∫—É —á–µ—Ä–µ–∑ `tools/list` –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º

#### 5. **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ä–µ—î—Å—Ç—Ä MCP - —á–∞—Å—Ç–∫–æ–≤–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ**
**–ü—Ä–æ–±–ª–µ–º–∞**:
- –†—ñ–∑–Ω—ñ —Ñ–∞–π–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ä—ñ–∑–Ω—ñ —à–ª—è—Ö–∏
- –ù–µ–º–∞—î —î–¥–∏–Ω–æ—ó —Ç–æ—á–∫–∏ –≤—Ö–æ–¥—É

---

## üéØ –ê–†–•–Ü–¢–ï–ö–¢–£–†–ê –†–Ü–®–ï–ù–ù–Ø

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:

```
ValidationPipeline (–ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –∑ early rejection)
‚îÇ
‚îú‚îÄ‚îÄ Level 1: Format Validation (CRITICAL, ~1ms)
‚îÇ   ‚îî‚îÄ‚îÄ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É server__tool, –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è
‚îÇ
‚îú‚îÄ‚îÄ Level 2: History Validation (NON-CRITICAL, ~5ms)
‚îÇ   ‚îî‚îÄ‚îÄ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø—ñ—à–Ω–æ—Å—Ç—ñ
‚îÇ
‚îú‚îÄ‚îÄ Level 3: Schema Validation (CRITICAL, ~10ms)
‚îÇ   ‚îî‚îÄ‚îÄ inputSchema, —Ç–∏–ø–∏, required, enum, –∞–≤—Ç–æ–∫–æ—Ä–µ–∫—Ü—ñ—è
‚îÇ
‚îú‚îÄ‚îÄ Level 4: MCP Sync Validation (CRITICAL, ~100ms) [NEW]
‚îÇ   ‚îî‚îÄ‚îÄ –ó–≤—ñ—Ä–∫–∞ –∑ –∞–∫—Ç—É–∞–ª—å–Ω–∏–º tools/list, –∞–≤—Ç–æ–∫–æ—Ä–µ–∫—Ü—ñ—è –Ω–∞–∑–≤
‚îÇ
‚îî‚îÄ‚îÄ Level 5: LLM Validation (NON-CRITICAL, ~500ms)
    ‚îî‚îÄ‚îÄ –°–µ–º–∞–Ω—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –±–µ–∑–ø–µ–∫–∞

–ü–†–ê–í–ò–õ–û: –Ø–∫—â–æ CRITICAL stage failed ‚Üí EARLY EXIT (–µ–∫–æ–Ω–æ–º—ñ—è —á–∞—Å—É)
```

### –ü—Ä–∏–Ω—Ü–∏–ø–∏:

1. **Early Rejection** - –∑—É–ø–∏–Ω–∫–∞ –Ω–∞ –ø–µ—Ä—à—ñ–π –∫—Ä–∏—Ç–∏—á–Ω—ñ–π –ø–æ–º–∏–ª—Ü—ñ
2. **History-Based Protection** - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å –ø—ñ—Å–ª—è 3 –ø–æ–º–∏–ª–æ–∫
3. **MCP Sync** - –æ—Å—Ç–∞–Ω—è –∑–≤—ñ—Ä–∫–∞ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º
4. **Centralized Registry** - —î–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó MCP
5. **Static Descriptions** - –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –æ–ø–∏—Å–∏ –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–Ü–í

```
config/
  ‚îú‚îÄ‚îÄ mcp-registry.js                    [NEW] –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ä–µ—î—Å—Ç—Ä
  ‚îú‚îÄ‚îÄ validation-config.js               [NEW] –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
  ‚îî‚îÄ‚îÄ models-config.js                   [UPDATE] –ï–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ registry

orchestrator/ai/
  ‚îú‚îÄ‚îÄ mcp-manager.js                     [UPDATE] –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è registry
  ‚îú‚îÄ‚îÄ tool-history-manager.js            [UPDATE] –õ–µ–π–±–ª–∏ SUCCESS/FAILURE
  ‚îî‚îÄ‚îÄ validation/
      ‚îú‚îÄ‚îÄ validation-pipeline.js         [NEW] –ì–æ–ª–æ–≤–Ω–∏–π orchestrator
      ‚îú‚îÄ‚îÄ format-validator.js            [NEW] Level 1
      ‚îú‚îÄ‚îÄ history-validator.js           [NEW] Level 2  
      ‚îú‚îÄ‚îÄ schema-validator.js            [NEW] Level 3
      ‚îú‚îÄ‚îÄ mcp-sync-validator.js          [NEW] Level 4 (–∫—Ä–∏—Ç–∏—á–Ω–∏–π)
      ‚îî‚îÄ‚îÄ llm-validator.js               [EXISTS] Level 5

orchestrator/workflow/stages/
  ‚îî‚îÄ‚îÄ tetyana-plan-tools-processor.js    [UPDATE] Pipeline integration

prompts/mcp/
  ‚îú‚îÄ‚îÄ tetyana_plan_tools_playwright.js   [UPDATE] –ü–æ–≤–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –æ–ø–∏—Å–∏
  ‚îú‚îÄ‚îÄ tetyana_plan_tools_filesystem.js   [UPDATE] –ü–æ–≤–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –æ–ø–∏—Å–∏
  ‚îú‚îÄ‚îÄ tetyana_plan_tools_shell.js        [UPDATE] –ü–æ–≤–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –æ–ø–∏—Å–∏
  ‚îú‚îÄ‚îÄ tetyana_plan_tools_applescript.js  [UPDATE] –ü–æ–≤–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –æ–ø–∏—Å–∏
  ‚îî‚îÄ‚îÄ tetyana_plan_tools_memory.js       [UPDATE] –ü–æ–≤–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ –æ–ø–∏—Å–∏
```

---

## ‚öôÔ∏è –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø

```javascript
// config/validation-config.js (NEW)

export const VALIDATION_CONFIG = {
  // Pipeline
  pipeline: {
    enabled: true,
    earlyRejection: true,      // –ó—É–ø–∏–Ω–∫–∞ –Ω–∞ –ø–µ—Ä—à—ñ–π CRITICAL –ø–æ–º–∏–ª—Ü—ñ
    parallelStages: false      // –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –¥–ª—è early rejection
  },
  
  // History
  history: {
    enabled: true,
    maxSize: 1000,             // –ü–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è
    antiRepetitionWindow: 100, // –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å (–ø–µ—Ä—à—ñ 100)
    minSuccessRate: 0.3        // –ú—ñ–Ω 30% —É—Å–ø—ñ—Ö—É
  },
  
  // MCP Sync
  mcpSync: {
    enabled: true,
    cacheTTL: 60000,           // 60 —Å–µ–∫ –∫–µ—à tools/list
    autoCorrect: true,         // –ê–≤—Ç–æ–∫–æ—Ä–µ–∫—Ü—ñ—è —á–µ—Ä–µ–∑ MCP
    similarityThreshold: 0.8   // 80% –¥–ª—è –∞–≤—Ç–æ–∫–æ—Ä–µ–∫—Ü—ñ—ó
  },
  
  // Descriptions
  descriptions: {
    source: 'static',          // 'static' (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) –∞–±–æ 'mcp_cache'
    includeExamples: true,
    includeSchema: true
  }
};
```

---

## üìä –û–ß–Ü–ö–£–í–ê–ù–Ü –†–ï–ó–£–õ–¨–¢–ê–¢–ò

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü—ñ—Å–ª—è |
|---------|-----|-------|
| –í–∞–ª—ñ–¥–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (1-—à–∞ —Å–ø—Ä–æ–±–∞) | ~70% | **95%** |
| –ü–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –ø—ñ—Å–ª—è –ø–æ–º–∏–ª–∫–∏ | ~30% | **<5%** |
| –ß–∞—Å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó | ~500ms | **~150ms** |
| –ê–≤—Ç–æ–∫–æ—Ä–µ–∫—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞ | ~50% | **~85%** |
| –í–∏–∫–æ–Ω–∞–Ω–Ω—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ | ~60% | **~90%** |

### –ü–µ—Ä–µ–≤–∞–≥–∏:

‚úÖ –†–∞–Ω–Ω—î –≤—ñ–¥—Å—ñ—é–≤–∞–Ω–Ω—è - –µ–∫–æ–Ω–æ–º—ñ—è 80% —á–∞—Å—É  
‚úÖ –Ü—Å—Ç–æ—Ä—ñ—è –∑ –ª–µ–π–±–ª–∞–º–∏ - 0% –ø–æ–≤—Ç–æ—Ä–µ–Ω—å –ø—ñ—Å–ª—è 3 –ø–æ–º–∏–ª–æ–∫  
‚úÖ MCP tools/list - 100% –∞–∫—Ç—É–∞–ª—å–Ω—ñ –Ω–∞–∑–≤–∏  
‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ä–µ—î—Å—Ç—Ä - –ª–µ–≥–∫–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è  
‚úÖ –°—Ç–∞—Ç–∏—á–Ω—ñ –æ–ø–∏—Å–∏ - –º–µ–Ω—à–µ —Ç–æ–∫–µ–Ω—ñ–≤, –±—ñ–ª—å—à–µ —Ç–æ—á–Ω–æ—Å—Ç—ñ

---

## üöÄ PHASE-BY-PHASE IMPLEMENTATION

### PHASE 1: MCP Registry (3 –¥–Ω—ñ)
**–ú–µ—Ç–∞**: –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Å–µ—Ä–≤–µ—Ä—ñ–≤

**–§–∞–π–ª–∏**:
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `/config/mcp-registry.js`
2. –û–Ω–æ–≤–∏—Ç–∏ `/config/models-config.js` (–µ–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ registry)
3. –û–Ω–æ–≤–∏—Ç–∏ `/orchestrator/ai/mcp-manager.js` (constructor)
4. –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ —ñ–º–ø–æ—Ä—Ç–∏ `MCP_SERVERS` –≤ –ø—Ä–æ–µ–∫—Ç—ñ

**Deliverables**:
- –Ñ–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- –õ–µ–≥–∫–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä—ñ–≤

---

### PHASE 2: History Manager Enhancement (2 –¥–Ω—ñ)
**–ú–µ—Ç–∞**: –î–æ–¥–∞—Ç–∏ –ª–µ–π–±–ª–∏ —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

**–§–∞–π–ª–∏**:
1. –†–æ–∑—à–∏—Ä–∏—Ç–∏ `/orchestrator/ai/tool-history-manager.js`

**–î–æ–¥–∞—Ç–∏ –º–µ—Ç–æ–¥–∏**:
```javascript
- recordExecution(toolCall, result)  // –ó –ª–µ–π–±–ª–æ–º SUCCESS/FAILURE
- getRecentFailures(count)           // –û—Å—Ç–∞–Ω–Ω—ñ N –Ω–µ–≤–¥–∞—á
- checkRepetitionAfterFailure()      // –ß–∏ –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–æ–º–∏–ª–∫–∏
- getToolSuccessRate(server, tool)   // % —É—Å–ø—ñ—à–Ω–æ—Å—Ç—ñ
```

**Deliverables**:
- –ü–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –∑ –ª–µ–π–±–ª–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø—ñ—à–Ω–æ—Å—Ç—ñ –∫–æ–∂–Ω–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
- API –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å

---

### PHASE 3: Validation Pipeline Core (3 –¥–Ω—ñ)
**–ú–µ—Ç–∞**: –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É pipeline

**–§–∞–π–ª–∏**:
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ `/orchestrator/ai/validation/validation-pipeline.js`
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ `/orchestrator/ai/validation/format-validator.js`
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ `/config/validation-config.js`

**ValidationPipeline API**:
```javascript
async validate(toolCalls, context) {
  // –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –≤–∏–∫–æ–Ω—É—î stages
  // Early exit –Ω–∞ CRITICAL –ø–æ–º–∏–ª–∫–∞—Ö
  // –ü–æ–≤–µ—Ä—Ç–∞—î: {valid, errors, warnings, rejectedAt, stages}
}
```

**Deliverables**:
- –†–æ–±–æ—á–∏–π pipeline –∑ 1 validator
- Early rejection –º–µ—Ö–∞–Ω—ñ–∑–º
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

---

–ü—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –≤ –ß–∞—Å—Ç–∏–Ω—ñ 2...
