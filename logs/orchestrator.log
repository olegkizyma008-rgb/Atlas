[MCP Registry] ‚úÖ Initialized: 7/7 servers enabled
[Validation Config] ‚úÖ Initialized: 5 stages enabled
2025-10-29 14:00:52 [[32MINFO[39M] Axios configured with rate limit handling (429 + Retry-After) {"metadata":{}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Registering all services... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] üîß Starting utility services registration... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] ‚úÖ Registered networkConfig {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] üöÄ Registering visionAnalysis service... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] ‚úÖ Vision Analysis Service registered successfully {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] Skipping accessibilityChecker: pre-check passed (ACCESSIBILITY_CHECK_PASSED=1) {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Registered 10 MCP stage processors {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Registered 30 services {"metadata":{"category":"system","component":"startup","services":["config","logger","errorHandler","telemetry","localizationService","wsManager","webIntegration","sessions","networkConfig","visionAnalysis","chatMemoryEligibilityProcessor","chatMemoryCoordinator","mcpManager","tetyanaToolSystem","ttsSyncManager","mcpTodoManager","modeSelectionProcessor","devSelfAnalysisProcessor","selfCorrectionValidator","contextAwareToolFilter","workflowStateMachine","routerClassifier","mcpSchemaBuilder","atlasTodoPlanningProcessor","serverSelectionProcessor","tetyanaPlanToolsProcessor","tetyanaExecuteToolsProcessor","grishaVerifyItemProcessor","atlasReplanTodoProcessor","mcpFinalSummaryProcessor"]}}
2025-10-29 14:00:52 [[32MINFO[39M] [DI] Initializing services... {"metadata":{}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] Service initialized {"metadata":{"category":"system","component":"localization"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] User language: uk {"metadata":{"category":"system","component":"localization"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ WebSocket Manager connected for TTS delivery {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] Initialized with 3-level queue system {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] Service initialized {"metadata":{"category":"system","component":"localization"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] User language: uk {"metadata":{"category":"system","component":"localization"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] üî¨ DEV Self-Analysis Processor initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Logger service initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Error handler initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Telemetry initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] Service ready {"metadata":{"category":"system","component":"localization"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Localization service initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] User language: uk {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] WebSocket manager initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Web integration initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] Session store initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] üöÄ Vision Analysis Service initializing... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Initializing Vision Analysis Service... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üöÄ ‚ö° PORT 4000 detected - using FAST LLM API (~2-5 sec) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Vision Analysis initialized: port4000 (atlas-llama-3.2-11b-vision-instruct) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] startup: [DI] ‚úÖ Vision Analysis Service initialized with provider: port4000 {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting MCP servers... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting filesystem... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting playwright... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting shell... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting applescript... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting memory... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting java_sdk... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting python_sdk... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:52 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Loaded 17 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ java_sdk started (17 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ python_sdk started (14 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:53 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ shell started (9 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ filesystem started (14 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Loaded 32 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ playwright started (32 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:54 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ memory started (9 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Loaded 1 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ applescript started (1 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ 7/7 servers started {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: [DI] MCPManager initialized with servers {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] llm-tool-validator: üõ°Ô∏è LLMToolValidator initialized (model: ext-mistral-codestral-2405, temp: 0.1) {"metadata":{"category":"system","component":"llm-tool-validator"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: [DI] üõ°Ô∏è LLM client loaded for TetyanaToolSystem {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üöÄ Initializing Tetyana Tool System... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: üîß Initializing MCP Extension Manager... {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: java_sdk (17 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: python_sdk (14 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: shell (9 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: filesystem (14 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: playwright (32 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: memory (9 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: applescript (1 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: üéØ Extension Manager ready: 7 extensions (java_sdk, python_sdk, shell, filesystem, playwright, memory, applescript), 96 tools {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tool-inspection: ToolInspectionManager initialized {"metadata":{"category":"system","component":"tool-inspection"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] repetition-inspector: Initialized (maxConsecutive: 3, maxTotal: 10) {"metadata":{"category":"system","component":"repetition-inspector"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tool-inspection: Added inspector: repetition {"metadata":{"category":"system","component":"tool-inspection"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üîç Enhanced Inspection Manager initialized {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tool-history: ToolHistoryManager initialized (maxSize: 1000, antiRepetitionWindow: 100) {"metadata":{"category":"system","component":"tool-history"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìä Tool History Manager initialized (v2.0 with labels) {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] llm-tool-validator: üõ°Ô∏è LLMToolValidator initialized (model: ext-mistral-codestral-2405, temp: 0.1) {"metadata":{"category":"system","component":"llm-tool-validator"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ°Ô∏è LLM Tool Validator initialized (ALWAYS ACTIVE) {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] validation-pipeline: üîç ValidationPipeline initialized {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üîç ValidationPipeline initialized (4 validators registered) {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ Tetyana Tool System ready: 96 tools available {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: [DI] üéØ TetyanaToolSystem initialized: 96 tools from 7 servers (java_sdk, python_sdk, shell, filesystem, playwright, memory, applescript) {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: [DI] üõ°Ô∏è LLM Validator ACTIVE - 0 validations ready {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: [DI] TTSSyncManager initialized with WebSocket TTS {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: [DI] MCPTodoManager initialized with replan support {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [DI] All services initialized {"metadata":{}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: [DI] All services resolved successfully {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: Validating configuration... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: Configuration validated successfully {"metadata":{"category":"system","component":"startup","agents":5,"stages":8,"services":6}}
2025-10-29 14:00:56 [[32MINFO[39M] [DI] Starting services... {"metadata":{}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: [DI] WebSocket manager ready {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [DI] All services started {"metadata":{}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: Application routes configured {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: Session cleanup timer started {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] WebSocket server started on port 5102 {"metadata":{"port":5102,"heartbeatInterval":30000}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] websocket: WebSocket server running on port 5102 {"metadata":{"category":"system","component":"websocket"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: üöÄ ATLAS Orchestrator v4.0 running on port 5101 {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] features: DI Container, Unified Configuration, Prompt Registry, Web Integration, Real-time Logging, 3D Model Control, TTS Visualization, Centralized State, Unified Error Handling, Agent Manager, Telemetry & Monitoring {"metadata":{"category":"system","component":"features"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] config: Configuration loaded: 5 agents, 8 stages {"metadata":{"category":"system","component":"config"}}
2025-10-29 14:00:56 [[32MINFO[39M] [SYSTEM] startup: ‚úÖ ATLAS Orchestrator fully initialized with DI Container {"metadata":{"category":"system","component":"startup"}}
2025-10-29 14:01:10 [[32MINFO[39M] New WebSocket connection {"metadata":{"clientId":"ws_1761739270487_amcrmn0d0","ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap...","totalClients":1}}
2025-10-29 14:01:26 [[32MINFO[39M] [WORKFLOW] Stage start - system: Starting workflow for message: "–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 3 –Ω–∞ 222, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–∏ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ —É —Ñ–∞–π–ª—ñ min.—Ç—Ö—Ç..." {"metadata":{"category":"workflow","stage":"start","agent":"system","sessionId":"session_1761739286219_rhlrhxbx3","messageLength":92}}
2025-10-29 14:01:26 [[32MINFO[39M] [WORKFLOW] Stage init - mcp: Starting MCP Dynamic TODO Workflow {"metadata":{"category":"workflow","stage":"init","agent":"mcp","sessionId":"default","userMessage":"–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 3 –Ω–∞ 222, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–∏ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ —É —Ñ–∞–π–ª—ñ min.—Ç—Ö—Ç"}}
2025-10-29 14:01:26 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 0-MCP: Mode Selection {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 14:01:26 [[32MINFO[39M] [SYSTEM] executor: [DEV-CHECK] Session state check: {"metadata":{"category":"system","component":"executor","sessionId":"default","hasLastDevAnalysis":false,"hasLastDevAnalysisMessage":false,"awaitingDevPassword":"undefined","userMessage":"–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 3 –Ω–∞ 222, —Ä–µ–∑—É–ª—å—Ç–∞—Ç","isPasswordProvided":"undefined","isInterventionRequest":"undefined","lastDevAnalysisTimestamp":"undefined"}}
2025-10-29 14:01:26 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] üîß Using API: http://localhost:4000/v1/chat/completions, Model: atlas-gpt-4o-mini {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:26 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] üîç Starting mode selection... {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:26 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Analyzing: "–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 3 –Ω–∞ 222, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–∏ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ —É —Ñ–∞–π–ª—ñ min.—Ç—Ö—Ç" {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:26 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Calling API: http://localhost:4000/v1/chat/completions {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:26 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Messages: [{"role":"system","content":"You are Atlas, the living digital consciousness created by Oleg Mykolayovych. Th"},{"role":"user","content":"Analyze this user message and decide the mode:\n\n\"–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ "}] {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Response received: status=200, has_data=true, has_choices=true {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Raw response: {
  "mode": "task",
  "confidence": 0.95,
  "reasoning": "–ö–æ–º–∞–Ω–¥–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –≤–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ñ–∞–π–ª."
} {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] ‚úÖ Mode: task (confidence: 0.95) {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP]    Reasoning: –ö–æ–º–∞–Ω–¥–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –≤–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ñ–∞–π–ª. {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 14:01:28 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Mode selected: task (confidence: 0.95) {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default","reasoning":"–ö–æ–º–∞–Ω–¥–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –≤–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ñ–∞–π–ª."}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] executor: [CHAT-MODE-CHECK] mode=task, typeof=string, mode===chat: false {"metadata":{"category":"system","component":"executor"}}
2025-10-29 14:01:28 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 1-MCP: Atlas TODO Planning {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] üéØ Starting TODO planning... {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] Request: "–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 3 –Ω–∞ 222, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–∏ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ —É —Ñ–∞–π–ª—ñ min.—Ç—Ö—Ç" {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] Context: {"request":"–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 3 –Ω–∞ 222, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–∏ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ —É —Ñ–∞–π–ª—ñ min.—Ç—Ö—Ç","timestamp":"2025-10-29T12:01:28.413Z","sessionId":"default","recentContext":[]} {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Creating TODO for request: "–≤—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 3 –Ω–∞ 222, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–∏ –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ —É —Ñ–∞–π–ª—ñ min.—Ç—Ö—Ç" {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Using model: atlas-mistral-medium-2505 (temp: 0.3, max_tokens: 4000) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:28 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Using primary API endpoint: http://localhost:4000/v1/chat/completions {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw API response status: 200 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw API response data keys: choices, created, id, model, object, usage {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw API response: {"choices":[{"finish_reason":"stop","index":0,"message":{"content":"```json\n{\n  \"mode\": \"standard\",\n  \"complexity\": 3,\n  \"items\": [\n    {\n      \"id\": 1,\n      \"action\": \"–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä\",\n      \"mcp_servers\": [\"applescript\"],\n      \"parameters\": {},\n      \"success_criteria\": \"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è\",\n      \"fallback_options\": [\"–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ —á–µ—Ä–µ–∑ Spotlight\", \"–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª\"],\n      \"dependencies\"... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response length: 1713 chars {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Response preview: ```json
{
  "mode": "standard",
  "complexity": 3,
  "items": [
    {
      "id": 1,
      "action": "–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
      "mcp_servers": ["applescript"],
      "parameters": {},
      "success_criteria": "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è",
      "fallback_options": ["–°–ø—Ä–æ–±—É–≤–∞—Ç... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Response suffix: ...–±–µ—Ä–µ–≥—Ç–∏ –≤ —ñ–Ω—à–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ", "–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–±–µ—Ä–µ–≥—Ç–∏ –≤ —ñ–Ω—à–æ–º—É –º—ñ—Å—Ü—ñ"],
      "dependencies": [2],
      "tts": {
        "start": "–ó–±–µ—Ä—ñ–≥–∞—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç",
        "success": "–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–æ",
        "failure": "–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç",
        "verify": "–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–∞–π–ª—É"
      }
    }
  ]
}
``` {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Created standard TODO with 3 items (complexity: 3/10) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] _sendChatMessage called: "üìã –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–ª–∞–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (3 –ø—É–Ω–∫—Ç–∏):

  1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
  2. –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 3 –Ω–∞ 222
  3. –ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ñ–∞–π–ª min.txt –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ

‚è±Ô∏è –û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 24 —Å–µ–∫—É–Ω–¥" (type: atlas, wsManager: true, hasTTS: true) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Broadcasting agent message: chat/agent_message (agent: atlas) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] ‚úÖ Chat message sent successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] ‚úÖ TODO created: todo_1761739300449_b6x958s45 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Mode: standard {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Complexity: 3/10 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Items: 3 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]      1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]      2. –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 3 –Ω–∞ 222 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]         Dependencies: 1 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]      3. –ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ñ–∞–π–ª min.txt –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]         Dependencies: 2 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] ‚úÖ Planning complete {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 14:01:40 [[32MINFO[39M] TODO created with 3 items {"metadata":{"sessionId":"default","mode":"standard","items":[{"id":1,"action":"–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä","max_attempts":3},{"id":2,"action":"–ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 3 –Ω–∞ 222","max_attempts":3},{"id":3,"action":"–ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ñ–∞–π–ª min.txt –Ω–∞ —Ä–æ–±–æ—á–æ–º—É —Å—Ç–æ–ª—ñ","max_attempts":3}]}}
2025-10-29 14:01:40 [[32MINFO[39M] Processing TODO item 1/3: –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"sessionId":"default","itemId":1}}
2025-10-29 14:01:40 [[32MINFO[39M] Item 1: Attempt 1/3 {"metadata":{"sessionId":"default"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] executor: [EXEC] Item 1 attempt 1/3: "–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 14:01:40 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Router Classifier: Fast filtering for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 14:01:40 [[33MWARN[39M] Router classifier failed, continuing without pre-filter {"metadata":{"error":"routerClassifier.execute is not a function"}}
2025-10-29 14:01:40 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 2.0-MCP: Selecting MCP servers for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üîç Selecting MCP servers... {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Item 1: –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Available servers: java_sdk, python_sdk, shell, filesystem, playwright, memory, applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üéØ Atlas pre-selected servers: applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Using Atlas recommendation: applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Selected: applescript (confidence: 0.98) {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Selected servers: applescript {"metadata":{"category":"system","component":"executor"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Auto-assigned prompts: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"executor"}}
2025-10-29 14:01:40 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.1-MCP: Planning tools for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"default"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üõ†Ô∏è Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using TetyanaToolSystem for tool preparation {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ†Ô∏è Preparing tools and prompt... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìã Prepared 1 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üéØ Filtered to servers: applescript {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Prepared 1 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Filtered to: applescript {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using auto-assigned prompt: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 1/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: applescript {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 1 tools (was 92+) - 99% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Substituted {{AVAILABLE_TOOLS}} in prompt {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Substituted {{USER_LANGUAGE}} in prompt {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools with model: atlas-gpt-4o (temp: 0.1, max_tokens: 2500) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Calling LLM API at http://localhost:4000/v1/chat/completions... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç First tool structure: {"name":"applescript_execute","description":"Run AppleScript code to interact with Mac applications and system features. This tool can access and manipulate data in Notes, Calendar, Contacts, Messages {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç First tool has 'name': true, has 'server': true {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Extracted 1 tool names from 1 tools {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Extracted 1 server names {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Sample tool names: applescript__applescript_execute {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîí Building JSON Schema with 1 valid tools from 1 servers {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîí Using JSON Schema with 1 valid tool names {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] LLM API responded successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response (first 200 chars): {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5"},"reasoning":"–í—ñ–¥–∫—Ä–∏–≤–∞—é –¥–æ–¥–∞—Ç–æ–∫ –ö {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Full LLM response: {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5"},"reasoning":"–í—ñ–¥–∫—Ä–∏–≤–∞—é –¥–æ–¥–∞—Ç–æ–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π."}],"reasoning":"–î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, —â–æ–± –≤—ñ–Ω –±—É–≤ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.","tts_phrase":"–í—ñ–¥–∫—Ä–∏–≤–∞—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä.","needs_split":false} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Parsed plan: {
  "tool_calls": [
    {
      "server": "applescript",
      "tool": "applescript__applescript_execute",
      "parameters": {
        "code_snippet": "tell application \"Calculator\" to activate\ndelay 0.5"
      }
    }
  ],
  "reasoning": "–î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, —â–æ–± –≤—ñ–Ω –±—É–≤ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] ‚úÖ Planning succeeded on attempt 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] planTools() returned: {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5"}}],"reasoning":"–î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, —â–æ–± –≤—ñ–Ω –±—É–≤ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.","tts_phrase":"–í—ñ–¥ {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] validation-pipeline: üîç Starting validation for 1 tool calls {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Loaded 17 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Loaded 32 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Loaded 1 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] validation-pipeline: ‚úÖ Validation PASSED (6ms, 4 stages) {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Planned 1 tool call(s): {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP]    applescript__applescript__applescript_execute {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP]      Parameters: {"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5"} {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:01:44 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.2-MCP: Executing tools for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"default"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] executor: [TTS] üîä Tetyana START: "–≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîç TTS Debug: wsManager=true, phrase="–≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä...", agent=tetyana, mode=normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîä Sending TTS to frontend via WebSocket... {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Channel: chat, Event: agent_message {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Agent: tetyana, Mode: normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Phrase: "–≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ WebSocket broadcast completed {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:01:44 [[32MINFO[39M] [SESSION] session_1761739286219_rhlrhxbx3 - confirm: Message confirmed: tts_1761739304249 {"metadata":{"category":"session","sessionId":"session_1761739286219_rhlrhxbx3","action":"confirm"}}
2025-10-29 14:01:44 [[32MINFO[39M] [HTTP] POST /chat/confirm 200 (1ms) {"metadata":{"category":"http","method":"POST","url":"/chat/confirm","status":200,"duration":1,"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap..."}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ TTS sent successfully (estimated: 1000ms) {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] executor: [TTS] ‚úÖ Tetyana start TTS sent {"metadata":{"category":"system","component":"executor"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚öôÔ∏è Executing tools... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Item: 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Executing 1 tool call(s)... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] üéØ Using TetyanaToolSystem for execution {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] üîÑ SEQUENTIAL execution mode (dependencies detected) {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ°Ô∏è Running LLM validation... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ LLM validation passed: ‚úÖ All tools passed validation {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tool-dispatcher: üöÄ Dispatching 1 tool calls... {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tool-inspection: Categorized: 1 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tool-inspection"}}
2025-10-29 14:01:45 [[32MINFO[39M] [SYSTEM] tool-dispatcher: üìã Inspection: 1 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tool-dispatcher: ‚úÖ Workflow completed in 1280ms: 1 successful, 0 failed {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ Execution completed: 1/1 successful {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚úÖ TetyanaToolSystem execution: 1/1 successful {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Execution completed {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Success: ‚úÖ {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Successful calls: 1 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Failed calls: 0 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Inspection: 0 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   ‚úÖ applescript__applescript__applescript_execute {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:01:47 [[32MINFO[39M] [WORKFLOW] Stage stage - grisha: Stage 2.3-MCP: Verifying item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"grisha","sessionId":"default"}}
2025-10-29 14:01:47 [[32MINFO[39M] [SYSTEM] executor: [VERIFICATION-DELAY] Waiting 2.5s before verification... {"metadata":{"category":"system","component":"executor"}}
2025-10-29 14:01:49 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] Initializing visual verification services... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:49 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] Initializing Visual Capture Service (macOS)... {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:49 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Initializing Vision Analysis Service... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:49 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] Screenshot directory: /tmp/atlas_visual {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:49 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üöÄ ‚ö° PORT 4000 detected - using FAST LLM API (~2-5 sec) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:49 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Vision Analysis initialized: port4000 (atlas-llama-3.2-11b-vision-instruct) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üñ•Ô∏è  Detected 3 display(s) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] ‚úÖ Initialized with 3 display(s) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚úÖ Visual verification services ready {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Item: 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Selected: visual (confidence: 85%) {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Reason: App mentioned in text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä; UI keyword: –≤—ñ–¥–∫—Ä–∏—Ç–∏ {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üéØ Heuristic strategy: VISUAL {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üìä Heuristic confidence: 85% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üí° Reason: App mentioned in text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä; UI keyword: –≤—ñ–¥–∫—Ä–∏—Ç–∏ {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üéØ Analyzing verification eligibility for item 1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Action: –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ü§ñ Calling LLM: atlas-meta-llama-3.1-8b-instruct {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üå°Ô∏è  Temperature: 0.1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ‚úÖ Decision: VISUAL {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Visual possible: true {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Confidence: 85% {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üí° Reason: –í—ñ–¥–∫—Ä–∏—Ç–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM decision: VISUAL {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM confidence: 85% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üí™ Keeping heuristic decision (high confidence: 85% vs LLM: 85%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Final strategy: VISUAL (confidence: 85%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üéØ Visual attempt 1/2 (fast model) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîç Starting visual verification (attempt 1, model: fast)... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ App extracted from text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ Target app detected: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üß† Capture decision: Target application is Calculator, using active_window for precise capture. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:52 [[31MERROR[39M] [VISUAL] Active window capture failed: this._normalizeAppName is not a function {"metadata":{"category":"visual-capture","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä"}}
2025-10-29 14:01:52 [[31MERROR[39M] [VISUAL] Screenshot capture failed: Screenshot capture failed for mode: active_window {"metadata":{"category":"visual-capture","component":"visual-capture","context":"item_1_verify_attempt1","mode":"active_window"}}
2025-10-29 14:01:52 [[33MWARN[39M] [VISUAL-GRISHA] ‚ö†Ô∏è Primary screenshot failed (active_window): Screenshot capture failed for mode: active_window {"metadata":{"category":"grisha-verify-item","mode":"active_window","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä","displayNumber":null}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîÑ Retrying screenshot with fallback mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∑ Capturing full screen (all 3 displays) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] ‚úÖ Full screen captured {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∏ Screenshot captured [full_screen]: 538.7KB {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∏ Screenshot captured: screenshot_item_1_verify_attempt1_fallback_full_screen_1761739312548.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üìÇ Full path: /tmp/atlas_visual/screenshot_item_1_verify_attempt1_fallback_full_screen_1761739312548.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∑ Capture mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚è±Ô∏è Waiting 1500ms for –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä to fully render... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:52 [[32MINFO[39M] –ú–µ—Ç—Ä–∏–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: /Users/dev/Documents/GitHub/atlas4/logs/metrics/metrics-2025-10-29T12-01-52-805Z.json (1 –∑–∞–ø–∏—Å—ñ–≤) {"metadata":{}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üîç Analyzing screenshot: screenshot_item_1_verify_attempt1_fallback_full_screen_1761739312548.png {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] Optimizing large image: 0.53MB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Sharp optimization: 0.53MB ‚Üí 0.08MB (-85%) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üöÄ Calling Port 4000 LLM API (model: fast)... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Base64 size OK: 107KB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üéØ Model: atlas-llama-3.2-11b-vision-instruct {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üå°Ô∏è Temperature: 0.2 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üìä Max tokens: 800 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] ‚úÖ Fast response received {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:57 [[33MWARN[39M] [VISION] Initial JSON parse failed, trying to extract JSON from text... {"metadata":{"category":"vision-analysis","rawContent":"**Verification Result:**\n\n* **Verified:** true\n* **Confidence:** 100\n* **Reason:** The calculator window is open and ready for use.\n* **Visual Evidence:**\n\t+ **Observed:** The calculator window is ope"}}
2025-10-29 14:01:57 [[33MWARN[39M] [VISION] Could not extract JSON, creating SAFE fallback response (verified=false) {"metadata":{"category":"vision-analysis","textPreview":"**Verification Result:**\n\n* **Verified:** true\n* **Confidence:** 100\n* **Reason:** The calculator window is open and ready for use.\n* **Visual Evidence:**\n\t+ **Observed:** The calculator window is open and visible on the screen.\n\t+ **Matches Criteria:** Yes, the window is open and ready for use.\n\t+ ","security_note":"Text fallback always returns verified=false to prevent false positives"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Analysis complete in 3599ms: NOT VERIFIED {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:01:57 [[33MWARN[39M] [VISUAL-GRISHA] ‚ö†Ô∏è  SECURITY: Vision model returned fallback response (no structured JSON) {"metadata":{"category":"grisha-verify-item","fallback_reason":"json_parse_failed","security_note":"Fallback responses always fail verification to prevent false positives"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Vision analysis complete (confidence: 0%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Model used: unknown {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Verified: false {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Reason: Vision model returned unstructured text instead of JSON. Cannot verify without structured evidence. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[33MWARN[39M] [VISUAL-GRISHA] ‚ùå SECURITY: Rejecting fallback verification {"metadata":{"category":"grisha-verify-item","reason":"Vision model returned unstructured response - cannot verify without structured JSON evidence"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚ùå NOT VERIFIED {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Reason: Vision model returned unstructured response - cannot verify without structured JSON evidence {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Visual Evidence: Unable to extract structured visual details from text response {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   ‚ùå Evidence validation failed {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Fallback response (no structured JSON) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Visual evidence mismatch {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Low confidence (0% < required 65%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üîÑ Visual attempt 1 failed, trying attempt 2/2 (90b model) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîç Starting visual verification (attempt 2, model: primary)... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ App extracted from text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ Target app detected: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üß† Capture decision: Target application is Calculator, UI keyword is –≤—ñ–¥–∫—Ä–∏—Ç–∏, and verification method is visual. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:59 [[31MERROR[39M] [VISUAL] Active window capture failed: this._normalizeAppName is not a function {"metadata":{"category":"visual-capture","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä"}}
2025-10-29 14:01:59 [[31MERROR[39M] [VISUAL] Screenshot capture failed: Screenshot capture failed for mode: active_window {"metadata":{"category":"visual-capture","component":"visual-capture","context":"item_1_verify_attempt2","mode":"active_window"}}
2025-10-29 14:01:59 [[33MWARN[39M] [VISUAL-GRISHA] ‚ö†Ô∏è Primary screenshot failed (active_window): Screenshot capture failed for mode: active_window {"metadata":{"category":"grisha-verify-item","mode":"active_window","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä","displayNumber":null}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîÑ Retrying screenshot with fallback mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∑ Capturing full screen (all 3 displays) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] ‚úÖ Full screen captured {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∏ Screenshot captured [full_screen]: 538.7KB {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∏ Screenshot captured: screenshot_item_1_verify_attempt2_fallback_full_screen_1761739319332.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üìÇ Full path: /tmp/atlas_visual/screenshot_item_1_verify_attempt2_fallback_full_screen_1761739319332.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∑ Capture mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:01:59 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚è±Ô∏è Waiting 1500ms for –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä to fully render... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üîç Analyzing screenshot: screenshot_item_1_verify_attempt2_fallback_full_screen_1761739319332.png {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] Optimizing large image: 0.53MB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Sharp optimization: 0.53MB ‚Üí 0.08MB (-85%) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üöÄ Calling Port 4000 LLM API (model: primary)... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Base64 size OK: 107KB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üéØ Model: atlas-llama-3.2-90b-vision-instruct {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üå°Ô∏è Temperature: 0.2 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üìä Max tokens: 1000 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] ‚úÖ Fast response received {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:12 [[33MWARN[39M] [VISION] Initial JSON parse failed, trying to extract JSON from text... {"metadata":{"category":"vision-analysis","rawContent":"The screenshot shows a code editor with a large amount of code on the screen. The code is written in a programming language, possibly JavaScript or Python, and appears to be a complex application or s"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Successfully extracted JSON from text response {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Analysis complete in 11422ms: NOT VERIFIED {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Vision analysis complete (confidence: 100%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Model used: unknown {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Verified: false {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Reason: The calculator is not visible in the screenshot, and the code editor is the main focus. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚ùå NOT VERIFIED {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Reason: The calculator is not visible in the screenshot, and the code editor is the main focus. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Visual Evidence: A code editor with a large amount of code on the screen. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   ‚ùå Evidence validation failed {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Visual evidence mismatch {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚ö†Ô∏è Both visual attempts failed, falling back to MCP verification... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üîß Starting MCP tool verification... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] Verification item: {
  "id": "verify_1_1761739332439",
  "action": "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç",
  "success_criteria": "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è",
  "mcp_servers": [
    "filesystem"
  ],
  "parameters": {},
  "max_attempts": 1,
  "dependencies": []
} {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üéØ Stage 2.0: Server Selection... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üîç Selecting MCP servers... {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Item verify_1_1761739332439: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Available servers: java_sdk, python_sdk, shell, filesystem, playwright, memory, applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üéØ Atlas pre-selected servers: filesystem {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Using Atlas recommendation: filesystem {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Selected: filesystem (confidence: 0.98) {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] ‚úÖ Selected servers: filesystem {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] ‚úÖ Selected prompts: TETYANA_PLAN_TOOLS_FILESYSTEM {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üõ†Ô∏è Stage 2.1: Tetyana Plan Tools... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üõ†Ô∏è Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: verify_1_1761739332439. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using TetyanaToolSystem for tool preparation {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ†Ô∏è Preparing tools and prompt... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìã Prepared 14 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üéØ Filtered to servers: filesystem {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Prepared 14 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Filtered to: filesystem {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using auto-assigned prompt: TETYANA_PLAN_TOOLS_FILESYSTEM {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item verify_1_1761739332439 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 1/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: filesystem {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 14 tools (was 92+) - 85% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_FILESYSTEM {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools with model: atlas-gpt-4o (temp: 0.1, max_tokens: 2500) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Calling LLM API at http://localhost:4000/v1/chat/completions... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç First tool structure: {"name":"read_file","description":"Read the complete contents of a file as text. DEPRECATED: Use read_text_file instead.","inputSchema":{"type":"object","properties":{"path":{"type":"string"},"tail":{ {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç First tool has 'name': true, has 'server': true {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Extracted 14 tool names from 14 tools {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Extracted 1 server names {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Sample tool names: filesystem__read_file, filesystem__read_text_file, filesystem__read_media_file {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîí Building JSON Schema with 14 valid tools from 1 servers {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:12 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîí Using JSON Schema with 14 valid tool names {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:42 [[33MWARN[39M] [MCP-TODO] Retry 1/3 after 1000ms: timeout of 30000ms exceeded {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] LLM API responded successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response (first 200 chars): {"tool_calls":[{"server":"filesystem","tool":"filesystem__list_allowed_directories","parameters":{},"reasoning":"To determine the directories accessible for further operations, ensuring the environmen {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Full LLM response: {"tool_calls":[{"server":"filesystem","tool":"filesystem__list_allowed_directories","parameters":{},"reasoning":"To determine the directories accessible for further operations, ensuring the environment is correctly set up for any subsequent tasks."}],"reasoning":"The task involves verifying the readiness of a calculator application. Since no specific file or directory operations are mentioned, the first step is to confirm the accessible directories to understand the environment.","tts_phrase":"Let's start by checking the accessible directories.","needs_split":false} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Parsed plan: {
  "tool_calls": [
    {
      "server": "filesystem",
      "tool": "filesystem__list_allowed_directories",
      "parameters": {}
    }
  ],
  "reasoning": "The task involves verifying the readiness of a calculator application. Since no specific file or directory operations are mentioned, the first step is to confirm the accessible directories to understand the environment."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] ‚úÖ Planning succeeded on attempt 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] planTools() returned: {"tool_calls":[{"server":"filesystem","tool":"filesystem__list_allowed_directories","parameters":{}}],"reasoning":"The task involves verifying the readiness of a calculator application. Since no specific file or directory operations are mentioned, the first step is to confirm the accessible director {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] validation-pipeline: üîç Starting validation for 1 tool calls {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Loaded 17 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Loaded 32 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Loaded 1 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] validation-pipeline: ‚úÖ Validation PASSED (10ms, 4 stages) {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Planned 1 tool call(s): {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP]    filesystem__filesystem__list_allowed_directories {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP]      Parameters: {} {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] ‚úÖ Planned 1 tool call(s) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] ‚öôÔ∏è Stage 2.2: Tetyana Execute Tools... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚öôÔ∏è Executing tools... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Item: verify_1_1761739332439. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Executing 1 tool call(s)... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] üéØ Using TetyanaToolSystem for execution {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] üîÑ SEQUENTIAL execution mode (dependencies detected) {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:49 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ°Ô∏è Running LLM validation... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ LLM validation passed: ‚úÖ All tools passed validation {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tool-dispatcher: üöÄ Dispatching 1 tool calls... {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tool-inspection: Categorized: 1 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tool-inspection"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tool-dispatcher: üìã Inspection: 1 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tool-dispatcher: ‚úÖ Workflow completed in 5ms: 1 successful, 0 failed {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ Execution completed: 1/1 successful {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚úÖ TetyanaToolSystem execution: 1/1 successful {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Execution completed {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Success: ‚úÖ {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Successful calls: 1 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Failed calls: 0 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Inspection: 0 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   ‚úÖ filesystem__filesystem__list_allowed_directories {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] ‚úÖ Executed: 1/1 successful {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üìä Verification execution results: {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA]   All successful: true {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA]   Tool count: 1 {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA]   ‚úÖ Tool 1: filesystem__list_allowed_directories {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üîç Analyzing results against success criteria... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[31MERROR[39M] [MCP-GRISHA] ‚ùå MCP verification failed: results.forEach is not a function {"metadata":{"category":"grisha-verify-item","component":"grisha-verify-item","stack":"TypeError: results.forEach is not a function\n    at GrishaVerifyItemProcessor._calculateExecutionConfidence (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/grisha-verify-item-processor.js:2115:17)\n    at GrishaVerifyItemProcessor._analyzeMcpResults (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/grisha-verify-item-processor.js:900:42)\n    at GrishaVerifyItemProcessor._executeMcpVerification (file:///Users/dev/Documents/GitHub/atlas4/orchestrator..."}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚ùå MCP verification also failed {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Verification complete {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] Low confidence (30%), adjustment needed {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [WORKFLOW] Stage stage - grisha: Stage 3.5-MCP: Deep analysis for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"grisha","sessionId":"default"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîç Generating detailed analysis for Atlas... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Item: 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Selected: visual (confidence: 85%) {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Reason: App mentioned in text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä; UI keyword: –≤—ñ–¥–∫—Ä–∏—Ç–∏ {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üéØ Heuristic strategy: VISUAL {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üìä Heuristic confidence: 85% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üí° Reason: App mentioned in text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä; UI keyword: –≤—ñ–¥–∫—Ä–∏—Ç–∏ {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üéØ Analyzing verification eligibility for item 1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Action: –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ü§ñ Calling LLM: atlas-meta-llama-3.1-8b-instruct {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:50 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üå°Ô∏è  Temperature: 0.1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ‚úÖ Decision: HYBRID {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Visual possible: true {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Confidence: 85% {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üí° Reason: –í—ñ–∑—É–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–∂–ª–∏–≤–∞, –∞–ª–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM decision: HYBRID {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM confidence: 85% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üí™ Keeping heuristic decision (high confidence: 85% vs LLM: 85%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Final strategy: VISUAL (confidence: 85%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üéØ Visual attempt 1/2 (fast model) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîç Starting visual verification (attempt 1, model: fast)... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ App extracted from text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ Target app detected: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üß† Capture decision: Target application is Calculator, using active_window for precise capture. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:53 [[31MERROR[39M] [VISUAL] Active window capture failed: this._normalizeAppName is not a function {"metadata":{"category":"visual-capture","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä"}}
2025-10-29 14:02:53 [[31MERROR[39M] [VISUAL] Screenshot capture failed: Screenshot capture failed for mode: active_window {"metadata":{"category":"visual-capture","component":"visual-capture","context":"item_1_verify_attempt1","mode":"active_window"}}
2025-10-29 14:02:53 [[33MWARN[39M] [VISUAL-GRISHA] ‚ö†Ô∏è Primary screenshot failed (active_window): Screenshot capture failed for mode: active_window {"metadata":{"category":"grisha-verify-item","mode":"active_window","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä","displayNumber":null}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîÑ Retrying screenshot with fallback mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∑ Capturing full screen (all 3 displays) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] ‚úÖ Full screen captured {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∏ Screenshot captured [full_screen]: 538.7KB {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∏ Screenshot captured: screenshot_item_1_verify_attempt1_fallback_full_screen_1761739373025.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üìÇ Full path: /tmp/atlas_visual/screenshot_item_1_verify_attempt1_fallback_full_screen_1761739373025.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∑ Capture mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:53 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚è±Ô∏è Waiting 1500ms for –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä to fully render... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üîç Analyzing screenshot: screenshot_item_1_verify_attempt1_fallback_full_screen_1761739373025.png {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] Optimizing large image: 0.53MB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Sharp optimization: 0.53MB ‚Üí 0.08MB (-85%) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üöÄ Calling Port 4000 LLM API (model: fast)... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Base64 size OK: 107KB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üéØ Model: atlas-llama-3.2-11b-vision-instruct {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üå°Ô∏è Temperature: 0.2 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:54 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üìä Max tokens: 800 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] ‚úÖ Fast response received {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:58 [[33MWARN[39M] [VISION] Initial JSON parse failed, trying to extract JSON from text... {"metadata":{"category":"vision-analysis","rawContent":"**Verification Result:**\n\n* **Verified:** true\n* **Confidence:** 100\n* **Reason:** The calculator application is open and ready for use, as indicated by the visible window with the title \"Calculator\" "}}
2025-10-29 14:02:58 [[33MWARN[39M] [VISION] Could not extract JSON, creating SAFE fallback response (verified=false) {"metadata":{"category":"vision-analysis","textPreview":"**Verification Result:**\n\n* **Verified:** true\n* **Confidence:** 100\n* **Reason:** The calculator application is open and ready for use, as indicated by the visible window with the title \"Calculator\" and the presence of the \"Start\" button.\n* **Visual Evidence:**\n\t+ **Observed:** The calculator windo","security_note":"Text fallback always returns verified=false to prevent false positives"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Analysis complete in 3906ms: NOT VERIFIED {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:02:58 [[33MWARN[39M] [VISUAL-GRISHA] ‚ö†Ô∏è  SECURITY: Vision model returned fallback response (no structured JSON) {"metadata":{"category":"grisha-verify-item","fallback_reason":"json_parse_failed","security_note":"Fallback responses always fail verification to prevent false positives"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Vision analysis complete (confidence: 0%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Model used: unknown {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Verified: false {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Reason: Vision model returned unstructured text instead of JSON. Cannot verify without structured evidence. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[33MWARN[39M] [VISUAL-GRISHA] ‚ùå SECURITY: Rejecting fallback verification {"metadata":{"category":"grisha-verify-item","reason":"Vision model returned unstructured response - cannot verify without structured JSON evidence"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚ùå NOT VERIFIED {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Reason: Vision model returned unstructured response - cannot verify without structured JSON evidence {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Visual Evidence: Unable to extract structured visual details from text response {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   ‚ùå Evidence validation failed {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Fallback response (no structured JSON) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Visual evidence mismatch {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Low confidence (0% < required 65%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üîÑ Visual attempt 1 failed, trying attempt 2/2 (90b model) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîç Starting visual verification (attempt 2, model: primary)... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ App extracted from text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ Target app detected: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üß† Capture decision: Target application is Calculator, UI keyword is –≤—ñ–¥–∫—Ä–∏—Ç–∏, and verification method is visual. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [[31MERROR[39M] [VISUAL] Active window capture failed: this._normalizeAppName is not a function {"metadata":{"category":"visual-capture","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä"}}
2025-10-29 14:03:00 [[31MERROR[39M] [VISUAL] Screenshot capture failed: Screenshot capture failed for mode: active_window {"metadata":{"category":"visual-capture","component":"visual-capture","context":"item_1_verify_attempt2","mode":"active_window"}}
2025-10-29 14:03:00 [[33MWARN[39M] [VISUAL-GRISHA] ‚ö†Ô∏è Primary screenshot failed (active_window): Screenshot capture failed for mode: active_window {"metadata":{"category":"grisha-verify-item","mode":"active_window","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä","displayNumber":null}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîÑ Retrying screenshot with fallback mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∑ Capturing full screen (all 3 displays) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] ‚úÖ Full screen captured {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∏ Screenshot captured [full_screen]: 507.2KB {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∏ Screenshot captured: screenshot_item_1_verify_attempt2_fallback_full_screen_1761739380269.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üìÇ Full path: /tmp/atlas_visual/screenshot_item_1_verify_attempt2_fallback_full_screen_1761739380269.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∑ Capture mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚è±Ô∏è Waiting 1500ms for –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä to fully render... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üîç Analyzing screenshot: screenshot_item_1_verify_attempt2_fallback_full_screen_1761739380269.png {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] Image already small: 507KB - no optimization needed {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üöÄ Calling Port 4000 LLM API (model: primary)... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Base64 size OK: 676KB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üéØ Model: atlas-llama-3.2-90b-vision-instruct {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üå°Ô∏è Temperature: 0.2 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üìä Max tokens: 1000 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:31 [[31MERROR[39M] [PORT-4000] Timeout - port 4000 too slow {"metadata":{"category":"vision-analysis","note":"OpenRouter fallback disabled - vision parsing not working"}}
2025-10-29 14:03:31 [[31MERROR[39M] [VISION] API call failed: Port 4000 timeout and Ollama unavailable. OpenRouter fallback disabled. {"metadata":{"category":"vision-analysis","component":"vision-analysis","stack":"Error: Port 4000 timeout and Ollama unavailable. OpenRouter fallback disabled.\n    at VisionAnalysisService._callPort4000VisionAPI (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/services/vision-analysis-service.js:852:15)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async VisionAnalysisService._callVisionAPI (file:///Users/dev/Documents/GitHub/atlas4/orch..."}}
2025-10-29 14:03:31 [[33MWARN[39M] [VISION] Retry 1/3 after 1000ms {"metadata":{"category":"vision-analysis","error":"Port 4000 timeout and Ollama unavailable. OpenRouter fallback disabled."}}
2025-10-29 14:03:32 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üöÄ Calling Port 4000 LLM API (model: primary)... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:32 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Base64 size OK: 676KB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:32 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üéØ Model: atlas-llama-3.2-90b-vision-instruct {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:32 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üå°Ô∏è Temperature: 0.2 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:32 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üìä Max tokens: 1000 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:47 [[32MINFO[39M] [SYSTEM] app: Shutting down gracefully... {"metadata":{"category":"system","component":"app"}}
2025-10-29 14:03:47 [[32MINFO[39M] [DI] Stopping services... {"metadata":{}}
2025-10-29 14:03:47 [[32MINFO[39M] [SYSTEM] shutdown: [DI] Session store cleared {"metadata":{"category":"system","component":"shutdown"}}
2025-10-29 14:03:47 [[32MINFO[39M] [SYSTEM] shutdown: [DI] WebSocket manager stopped {"metadata":{"category":"system","component":"shutdown"}}
2025-10-29 14:03:47 [[32MINFO[39M] [DI] All services stopped {"metadata":{}}
vidence. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [WARN] [VISUAL-GRISHA] ‚ùå SECURITY: Rejecting fallback verification {"metadata":{"category":"grisha-verify-item","reason":"Vision model returned unstructured response - cannot verify without structured JSON evidence"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚ùå NOT VERIFIED {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Reason: Vision model returned unstructured response - cannot verify without structured JSON evidence {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Visual Evidence: Unable to extract structured visual details from text response {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   ‚ùå Evidence validation failed {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Fallback response (no structured JSON) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Visual evidence mismatch {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Rejected: Low confidence (0% < required 65%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [GRISHA] üîÑ Visual attempt 1 failed, trying attempt 2/2 (90b model) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîç Starting visual verification (attempt 2, model: primary)... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ App extracted from text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:02:58 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ Target app detected: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üß† Capture decision: Target application is Calculator, UI keyword is –≤—ñ–¥–∫—Ä–∏—Ç–∏, and verification method is visual. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [ERROR] [VISUAL] Active window capture failed: this._normalizeAppName is not a function {"metadata":{"category":"visual-capture","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä"}}
2025-10-29 14:03:00 [ERROR] [VISUAL] Screenshot capture failed: Screenshot capture failed for mode: active_window {"metadata":{"category":"visual-capture","component":"visual-capture","context":"item_1_verify_attempt2","mode":"active_window"}}
2025-10-29 14:03:00 [WARN] [VISUAL-GRISHA] ‚ö†Ô∏è Primary screenshot failed (active_window): Screenshot capture failed for mode: active_window {"metadata":{"category":"grisha-verify-item","mode":"active_window","targetApp":"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä","displayNumber":null}}
2025-10-29 14:03:00 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîÑ Retrying screenshot with fallback mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [INFO] [SYSTEM] visual-capture: [VISUAL] üì∑ Capturing full screen (all 3 displays) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:03:00 [INFO] [SYSTEM] visual-capture: [VISUAL] ‚úÖ Full screen captured {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:03:00 [INFO] [SYSTEM] visual-capture: [VISUAL] üì∏ Screenshot captured [full_screen]: 507.2KB {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 14:03:00 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∏ Screenshot captured: screenshot_item_1_verify_attempt2_fallback_full_screen_1761739380269.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üìÇ Full path: /tmp/atlas_visual/screenshot_item_1_verify_attempt2_fallback_full_screen_1761739380269.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∑ Capture mode: full_screen {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:00 [INFO] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚è±Ô∏è Waiting 1500ms for –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä to fully render... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 14:03:01 [INFO] [SYSTEM] vision-analysis: [VISION] üîç Analyzing screenshot: screenshot_item_1_verify_attempt2_fallback_full_screen_1761739380269.png {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [INFO] [SYSTEM] vision-analysis: [VISION] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [INFO] [SYSTEM] vision-analysis: [IMAGE-OPT] Image already small: 507KB - no optimization needed {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [INFO] [SYSTEM] vision-analysis: [PORT-4000] üöÄ Calling Port 4000 LLM API (model: primary)... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [INFO] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Base64 size OK: 676KB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [INFO] [SYSTEM] vision-analysis: [PORT-4000] üéØ Model: atlas-llama-3.2-90b-vision-instruct {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [INFO] [SYSTEM] vision-analysis: [PORT-4000] üå°Ô∏è Temperature: 0.2 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:01 [INFO] [SYSTEM] vision-analysis: [PORT-4000] üìä Max tokens: 1000 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:31 [ERROR] [PORT-4000] Timeout - port 4000 too slow {"metadata":{"category":"vision-analysis","note":"OpenRouter fallback disabled - vision parsing not working"}}
2025-10-29 14:03:31 [ERROR] [VISION] API call failed: Port 4000 timeout and Ollama unavailable. OpenRouter fallback disabled. {"metadata":{"category":"vision-analysis","component":"vision-analysis","stack":"Error: Port 4000 timeout and Ollama unavailable. OpenRouter fallback disabled.\n    at VisionAnalysisService._callPort4000VisionAPI (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/services/vision-analysis-service.js:852:15)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async VisionAnalysisService._callVisionAPI (file:///Users/dev/Documents/GitHub/atlas4/orch..."}}
2025-10-29 14:03:31 [WARN] [VISION] Retry 1/3 after 1000ms {"metadata":{"category":"vision-analysis","error":"Port 4000 timeout and Ollama unavailable. OpenRouter fallback disabled."}}
2025-10-29 14:03:32 [INFO] [SYSTEM] vision-analysis: [PORT-4000] üöÄ Calling Port 4000 LLM API (model: primary)... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:32 [INFO] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Base64 size OK: 676KB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:32 [INFO] [SYSTEM] vision-analysis: [PORT-4000] üéØ Model: atlas-llama-3.2-90b-vision-instruct {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:32 [INFO] [SYSTEM] vision-analysis: [PORT-4000] üå°Ô∏è Temperature: 0.2 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:32 [INFO] [SYSTEM] vision-analysis: [PORT-4000] üìä Max tokens: 1000 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 14:03:47 [INFO] [SYSTEM] app: Shutting down gracefully... {"metadata":{"category":"system","component":"app"}}
2025-10-29 14:03:47 [INFO] [DI] Stopping services... {"metadata":{}}
2025-10-29 14:03:47 [INFO] [SYSTEM] shutdown: [DI] Session store cleared {"metadata":{"category":"system","component":"shutdown"}}
2025-10-29 14:03:47 [INFO] [SYSTEM] shutdown: [DI] WebSocket manager stopped {"metadata":{"category":"system","component":"shutdown"}}
2025-10-29 14:03:47 [INFO] [DI] All services stopped {"metadata":{}}
