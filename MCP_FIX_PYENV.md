# üîß MCP Fix - –ü—Ä–æ–±–ª–µ–º–∞ –∑ pyenv

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

Windsurf –Ω–µ –º—ñ–≥ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ MCP —Å–µ—Ä–≤–µ—Ä, —Ç–æ–º—É —â–æ –∫–æ–Ω—Ñ—ñ–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ `python3`, —è–∫–∏–π –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ `pyenv`.

**–ü–æ–º–∏–ª–∫–∞**: Windsurf –Ω–µ –º–æ–∂–µ –∑–Ω–∞–π—Ç–∏ Python —á–µ—Ä–µ–∑ shims

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### –ü—Ä–∏—á–∏–Ω–∞

–í–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ **pyenv** –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–µ—Ä—Å—ñ—è–º–∏ Python. Windsurf –Ω–µ –º–æ–∂–µ –∑–Ω–∞–π—Ç–∏ Python —á–µ—Ä–µ–∑ `pyenv shims`.

**–ë—É–ª–æ**:
```json
"command": "python3"
```

**–°—Ç–∞–ª–æ**:
```json
"command": "/Users/dev/.pyenv/versions/3.11.13/bin/python3"
```

### –©–æ –±—É–ª–æ –æ–Ω–æ–≤–ª–µ–Ω–æ

#### 1. –ì–ª–æ–±–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
```
/Users/dev/.codeium/windsurf/mcp_config.json
```

#### 2. –õ–æ–∫–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
```
/Users/dev/Documents/GitHub/atlas4/codemap-system/.windsurf/mcp_config.json
```

### –ù–æ–≤–∏–π –∫–æ–Ω—Ñ—ñ–≥

```json
{
  "mcpServers": {
    "codemap": {
      "command": "/Users/dev/.pyenv/versions/3.11.13/bin/python3",
      "args": [
        "/Users/dev/Documents/GitHub/atlas4/codemap-system/mcp_server.py"
      ],
      "env": {
        "PYTHONPATH": "/Users/dev/Documents/GitHub/atlas4/codemap-system",
        "PROJECT_ROOT": "/Users/dev/Documents/GitHub/atlas4",
        "PYTHONUNBUFFERED": "1"
      }
    }
  }
}
```

---

## üöÄ –©–æ —Ä–æ–±–∏—Ç–∏ —Ç–µ–ø–µ—Ä

### –ö—Ä–æ–∫ 1: –ó–∞–∫—Ä–∏–π—Ç–µ Windsurf
```
Cmd+Q
```

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ Windsurf
```
–í—ñ–¥–∫—Ä–∏–π—Ç–µ Windsurf –∑–Ω–æ–≤—É
```

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ MCP

–í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–∏:
- ‚úÖ **1 MCPs** (–∑–∞–º—ñ—Å—Ç—å 0 MCPs)
- ‚úÖ **codemap** –∑ –∑–µ–ª–µ–Ω–æ—é —Ç–æ—á–∫–æ—é
- ‚úÖ **16 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤**

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

### –¢–µ—Å—Ç 1: –ö–æ–Ω—Ñ—ñ–≥ –≤–∞–ª—ñ–¥–Ω–∏–π
```bash
python3 -m json.tool /Users/dev/.codeium/windsurf/mcp_config.json
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ JSON –≤–∞–ª—ñ–¥–Ω–∏–π

### –¢–µ—Å—Ç 2: –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
```bash
timeout 3 /Users/dev/.pyenv/versions/3.11.13/bin/python3 /Users/dev/Documents/GitHub/atlas4/codemap-system/mcp_server.py <<< '{"jsonrpc": "2.0", "id": 1, "method": "initialize", "params": {}}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –°–µ—Ä–≤–µ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î

### –¢–µ—Å—Ç 3: 16 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
```bash
timeout 3 /Users/dev/.pyenv/versions/3.11.13/bin/python3 /Users/dev/Documents/GitHub/atlas4/codemap-system/mcp_server.py <<< '{"jsonrpc": "2.0", "id": 2, "method": "tools/list", "params": {}}' | grep -o '"name"' | wc -l
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ 16 —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

---

## üéØ –°—Ç–∞—Ç—É—Å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç       | –°—Ç–∞—Ç—É—Å                      |
| --------------- | --------------------------- |
| **–ö–æ–Ω—Ñ—ñ–≥**      | ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ                  |
| **Python —à–ª—è—Ö** | ‚úÖ –ê–±—Å–æ–ª—é—Ç–Ω–∏–π                |
| **–°–µ—Ä–≤–µ—Ä**      | ‚úÖ –ü—Ä–∞—Ü—é—î                    |
| **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏** | ‚úÖ 16 –≥–æ—Ç–æ–≤–∏—Ö                |
| **Windsurf**    | ‚è≥ –ü–æ—Ç—Ä–µ–±—É—î –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è |

---

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∞

–Ø–∫—â–æ –≤–∏ –æ–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å—ñ—é Python —á–µ—Ä–µ–∑ pyenv, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –æ–Ω–æ–≤–∏—Ç–∏ —à–ª—è—Ö —É –∫–æ–Ω—Ñ—ñ–≥:

```bash
# –ó–Ω–∞–π—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –≤–µ—Ä—Å—ñ—é
pyenv versions

# –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥ –∑ –Ω–æ–≤–∏–º —à–ª—è—Ö–æ–º
/Users/dev/.pyenv/versions/X.X.X/bin/python3
```

---

**–î–∞—Ç–∞**: 20 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025  
**–í–µ—Ä—Å—ñ—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
