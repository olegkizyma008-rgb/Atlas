# üèóÔ∏è –°–∏—Å—Ç–µ–º–∞ –ì–ª–∏–±–æ–∫–æ—ó –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ—ó –ö–∞—Ä—Ç–∏

**–î–∞—Ç–∞**: 21 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–ê  
**–í–µ—Ä—Å—ñ—è**: 1.0

---

## üìã –û–≥–ª—è–¥

–ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ—ó –∫–∞—Ä—Ç–∏ –∑–∞–±–µ–∑–ø–µ—á—É—î:

1. **–†–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑** - –≥–ª–∏–±–æ–∫–∏–π –∞–Ω–∞–ª—ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –Ω–∞ –±—É–¥—å-—è–∫—É –≥–ª–∏–±–∏–Ω—É
2. **–°—Ç–∞—Ç—É—Å–∏ —Ñ–∞–π–ª—ñ–≤** - ACTIVE, UNUSED, DEPRECATED, LEGACY, EXPERIMENTAL
3. **–ì—Ä–∞—Ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π** - –ø–æ–≤–Ω–∞ –∫–∞—Ä—Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ–π –º—ñ–∂ —Ñ–∞–π–ª–∞–º–∏
4. **–û—Ü—ñ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤'—è** - –º–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
5. **MCP —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è** - –ø–æ—Å—Ç—ñ–π–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è Windsurf

---

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. Architecture Mapper (`architecture_mapper.py`)

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**:
- –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –≤—Å—ñ —Ñ–∞–π–ª–∏ workflow
- –ê–Ω–∞–ª—ñ–∑—É—î —ñ–º–ø–æ—Ä—Ç–∏ —Ç–∞ –µ–∫—Å–ø–æ—Ä—Ç–∏
- –í–∏—Ç—è–≥—É—î —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ –∫–ª–∞—Å–∏
- –†–æ–∑–≤'—è–∑—É—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- –í–∏–∑–Ω–∞—á–∞—î —Å—Ç–∞—Ç—É—Å–∏ —Ñ–∞–π–ª—ñ–≤
- –†–æ–∑—Ä–∞—Ö–æ–≤—É—î –º–µ—Ç—Ä–∏–∫–∏ –∑–¥–æ—Ä–æ–≤'—è

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏**:
```python
mapper = ArchitectureMapper(project_root)

# –ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
architecture = mapper.analyze_architecture(max_depth=5)

# –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤ JSON
mapper.export_architecture(output_path)

# –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç
report = mapper.generate_architecture_report()
```

### 2. MCP Architecture Tools (`mcp_architecture_tools.py`)

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**:
- –û–≥–ª—è–¥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- –°—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª—É
- –ì—Ä–∞—Ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
- –ü–æ—à—É–∫ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- –ü–æ—à—É–∫ —Ñ–∞–π–ª—ñ–≤ –∑ –≤–∏—Å–æ–∫–æ—é –∑–≤'—è–∑–Ω—ñ—Å—Ç—é
- –ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

**–ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏**:
```python
tools = MCPArchitectureTools(project_root)

# –û–≥–ª—è–¥
overview = tools.get_architecture_overview()

# –°—Ç–∞—Ç—É—Å —Ñ–∞–π–ª—É
status = tools.get_file_status('path/to/file.js')

# –ì—Ä–∞—Ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
graph = tools.get_dependency_graph('path/to/file.js', depth=2)

# –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏
unused = tools.find_unused_files()

# –§–∞–π–ª–∏ –∑ –≤–∏—Å–æ–∫–æ—é –∑–≤'—è–∑–Ω—ñ—Å—Ç—é
high_coupling = tools.find_high_coupling_files(threshold=5)

# –ú–µ—Ç—Ä–∏–∫–∏
metrics = tools.get_architecture_metrics()
```

---

## üìä –°—Ç–∞—Ç—É—Å–∏ –§–∞–π–ª—ñ–≤

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å | –î—ñ—è |
|---|---|---|
| ACTIVE | –ê–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è | –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ |
| UNUSED | –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è | –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è |
| DEPRECATED | –ó–∞—Å—Ç–∞—Ä—ñ–ª–æ | –ó–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ –Ω–æ–≤–µ |
| LEGACY | –°–ø–∞–¥—â–∏–Ω–∞ | –ü–ª–∞–Ω—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é |
| EXPERIMENTAL | –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–µ | –¢–µ—Å—Ç—É–≤–∞—Ç–∏ |

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ó–¥–æ—Ä–æ–≤'—è

### –û—Ü—ñ–Ω–∫–∞ –§–∞–π–ª—É (0-100)

**–§–∞–∫—Ç–æ—Ä—ñ–≤**:
- –†–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É (< 300 —Ä—è–¥–∫—ñ–≤ = –¥–æ–±—Ä–µ)
- –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (< 3 = –¥–æ–±—Ä–µ)
- –ó–∞–ª–µ–∂–Ω—ñ —Ñ–∞–π–ª–∏ (< 5 = –¥–æ–±—Ä–µ)

### –û—Ü—ñ–Ω–∫–∞ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ (0-100)

**–§–∞–∫—Ç–æ—Ä—ñ–≤**:
- –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- –°–µ—Ä–µ–¥–Ω—è –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å
- –ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å

---

## üîÑ –†–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –ê–Ω–∞–ª—ñ–∑

–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª—ñ–∑—É—î –Ω–∞ –≥–ª–∏–±–∏–Ω—É:

```
–†—ñ–≤–µ–Ω—å 0: –û—Å–Ω–æ–≤–Ω—ñ —Ñ–∞–π–ª–∏ workflow
  ‚îú‚îÄ –†—ñ–≤–µ–Ω—å 1: –ü—Ä—è–º—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
  ‚îÇ  ‚îú‚îÄ –†—ñ–≤–µ–Ω—å 2: –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
  ‚îÇ  ‚îÇ  ‚îú‚îÄ –†—ñ–≤–µ–Ω—å 3: ...
  ‚îÇ  ‚îÇ  ‚îî‚îÄ –†—ñ–≤–µ–Ω—å 4: ...
  ‚îÇ  ‚îî‚îÄ –†—ñ–≤–µ–Ω—å 2: ...
  ‚îî‚îÄ –†—ñ–≤–µ–Ω—å 1: ...
```

–ö–æ–∂–µ–Ω —Ä—ñ–≤–µ–Ω—å –º—ñ—Å—Ç–∏—Ç—å:
- –°—Ç–∞—Ç—É—Å —Ñ–∞–π–ª—É
- –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
- –ó–∞–ª–µ–∂–Ω—ñ —Ñ–∞–π–ª–∏
- –§—É–Ω–∫—Ü—ñ—ó —Ç–∞ –∫–ª–∞—Å–∏
- –ú–µ—Ç—Ä–∏–∫–∏

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:

1. **–í–∏–¥–∞–ª–∏—Ç–∏ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏** - —è–∫—â–æ > 10 —Ñ–∞–π–ª—ñ–≤
2. **–†–æ–∑–¥—ñ–ª–∏—Ç–∏ —Ñ–∞–π–ª–∏ –∑ –≤–∏—Å–æ–∫–æ—é –∑–≤'—è–∑–Ω—ñ—Å—Ç—é** - —è–∫—â–æ > 5 –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
3. **–†–æ–∑–¥—ñ–ª–∏—Ç–∏ –≤–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏** - —è–∫—â–æ > 400 —Ä—è–¥–∫—ñ–≤ –≤ —Å–µ—Ä–µ–¥–Ω—å–æ–º—É
4. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏** - —è–∫—â–æ –æ—Ü—ñ–Ω–∫–∞ < 70

---

## üîó –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Windsurf

Windsurf –∑–∞–≤–∂–¥–∏ –º–∞—î:

1. **–î–∏–≤–∏—Ç–∏—Å—è –Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É** - –ø–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º –∑–∞–ø–∏—Ç–æ–º
2. **–û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç** - —á–µ—Ä–µ–∑ MCP —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
3. **–ü—Ä–∏–π–º–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è** - –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
4. **–û–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∞–Ω–∞–ª—ñ–∑** - –ø—ñ—Å–ª—è –∑–º—ñ–Ω

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**:
```javascript
// Windsurf –∑–∞–ø–∏—Ç
"–î–æ–¥–∞–π –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ—é –≤ executor"

// Windsurf –¥—ñ—ó:
1. –û—Ç—Ä–∏–º–∞—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ MCP
2. –ó–Ω–∞–π—Ç–∏ executor —Ñ–∞–π–ª
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–¥–æ—Ä–æ–≤'—è —Ñ–∞–π–ª—É
5. –ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
6. –î–æ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é
7. –û–Ω–æ–≤–∏—Ç–∏ –∞–Ω–∞–ª—ñ–∑
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–∏—Ö

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ JSON

```json
{
  "timestamp": "2025-11-21T...",
  "project_root": "...",
  "files": {
    "path/to/file.js": {
      "size": 1234,
      "lines": 45,
      "status": "ACTIVE",
      "dependencies_count": 3,
      "dependents_count": 5,
      "functions": [...],
      "classes": [...]
    }
  },
  "dependencies": {
    "path/to/file.js": ["dep1", "dep2"]
  },
  "statistics": {
    "total_files": 90,
    "total_lines": 30799,
    "active_files": 4,
    "unused_files": 86
  },
  "health_score": {
    "score": 90.9,
    "modularity": "good"
  }
}
```

---

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∞–Ω–∞–ª—ñ–∑

```bash
cd codemap-system
python architecture_mapper.py
```

### –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç

```bash
python -c "
from architecture_mapper import ArchitectureMapper
from pathlib import Path

mapper = ArchitectureMapper(Path('.'))
mapper.export_architecture(Path('reports/architecture.json'))
"
```

### –û—Ç—Ä–∏–º–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏

```bash
python -c "
from mcp_architecture_tools import MCPArchitectureTools
from pathlib import Path

tools = MCPArchitectureTools(Path('.'))
metrics = tools.get_architecture_metrics()
print(metrics)
"
```

---

## üìä –ü—Ä–∏–∫–ª–∞–¥–∏ –†–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

### –û–≥–ª—è–¥ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
```
üìä –û–ì–õ–Ø–î –ê–†–•–Ü–¢–ï–ö–¢–£–†–ò:
  ‚Ä¢ –í—Å—å–æ–≥–æ —Ñ–∞–π–ª—ñ–≤: 90
  ‚Ä¢ –ê–∫—Ç–∏–≤–Ω–∏—Ö: 4
  ‚Ä¢ –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö: 86
  ‚Ä¢ –û—Ü—ñ–Ω–∫–∞ –∑–¥–æ—Ä–æ–≤'—è: 90.9/100
```

### –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –§–∞–π–ª–∏
```
üóëÔ∏è –ù–ï–í–ò–ö–û–†–ò–°–¢–û–í–£–í–ê–ù–Ü –§–ê–ô–õ–ò:
  ‚Ä¢ orchestrator/workflow/mcp-todo-manager.js (3944 —Ä—è–¥–∫—ñ–≤)
  ‚Ä¢ orchestrator/workflow/executor-v3.js (967 —Ä—è–¥–∫—ñ–≤)
  ‚Ä¢ ...
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
```
üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á:
  ‚Ä¢ üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ 86 –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
  ‚Ä¢ üìè –†–æ–∑–¥—ñ–ª–∏—Ç–∏ –≤–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏ –Ω–∞ –º–µ–Ω—à—ñ –º–æ–¥—É–ª—ñ
```

---

## üîÆ –ú–∞–π–±—É—Ç–Ω—ñ –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è

1. **–†–µ–∞–ª-—Ç–∞–π–º –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥** - –ø–æ—Å—Ç—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö
2. **–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è** - –≥—Ä–∞—Ñ—ñ—á–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
3. **–Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω** - –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –µ–≤–æ–ª—é—Ü—ñ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
4. **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–µ—Ä—Å—ñ–π** - –∞–Ω–∞–ª—ñ–∑ –∑–º—ñ–Ω –º—ñ–∂ –≤–µ—Ä—Å—ñ—è–º–∏
5. **–ü—Ä–æ–≥–Ω–æ–∑–∏** - –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º
6. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∏

---

## üìù –í–∏—Å–Ω–æ–≤–æ–∫

–ù–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ—ó –∫–∞—Ä—Ç–∏ –∑–∞–±–µ–∑–ø–µ—á—É—î:

‚úÖ –ì–ª–∏–±–æ–∫–∏–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑  
‚úÖ –ü–æ–≤–Ω–∞ –∫–∞—Ä—Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π  
‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –∑–¥–æ—Ä–æ–≤'—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏  
‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –ø–æ–ª—ñ–ø—à–µ–Ω–Ω—è  
‚úÖ MCP —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –¥–ª—è Windsurf  

Windsurf —Ç–µ–ø–µ—Ä –∑–∞–≤–∂–¥–∏ –º–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –¥–ª—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å!
