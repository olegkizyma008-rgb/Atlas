[MCP Registry] ‚úÖ Initialized: 7/7 servers enabled
[Validation Config] ‚úÖ Initialized: 5 stages enabled
2025-10-29 15:02:00 [[32MINFO[39M] Axios configured with rate limit handling (429 + Retry-After) {"metadata":{}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Registering all services... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] üîß Starting utility services registration... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] ‚úÖ Registered networkConfig {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] üöÄ Registering visionAnalysis service... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] ‚úÖ Vision Analysis Service registered successfully {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI-UTILITY] Skipping accessibilityChecker: pre-check passed (ACCESSIBILITY_CHECK_PASSED=1) {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Registered 10 MCP stage processors {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Registered 30 services {"metadata":{"category":"system","component":"startup","services":["config","logger","errorHandler","telemetry","localizationService","wsManager","webIntegration","sessions","networkConfig","visionAnalysis","chatMemoryEligibilityProcessor","chatMemoryCoordinator","mcpManager","tetyanaToolSystem","ttsSyncManager","mcpTodoManager","modeSelectionProcessor","devSelfAnalysisProcessor","selfCorrectionValidator","contextAwareToolFilter","workflowStateMachine","routerClassifier","mcpSchemaBuilder","atlasTodoPlanningProcessor","serverSelectionProcessor","tetyanaPlanToolsProcessor","tetyanaExecuteToolsProcessor","grishaVerifyItemProcessor","atlasReplanTodoProcessor","mcpFinalSummaryProcessor"]}}
2025-10-29 15:02:00 [[32MINFO[39M] [DI] Initializing services... {"metadata":{}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] Service initialized {"metadata":{"category":"system","component":"localization"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] User language: uk {"metadata":{"category":"system","component":"localization"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ WebSocket Manager connected for TTS delivery {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] Initialized with 3-level queue system {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] Service initialized {"metadata":{"category":"system","component":"localization"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] User language: uk {"metadata":{"category":"system","component":"localization"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] üî¨ DEV Self-Analysis Processor initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Logger service initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Error handler initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Telemetry initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] localization: [LOCALIZATION] Service ready {"metadata":{"category":"system","component":"localization"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Localization service initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] User language: uk {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] WebSocket manager initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Web integration initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] Session store initialized {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] üöÄ Vision Analysis Service initializing... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Initializing Vision Analysis Service... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üöÄ ‚ö° PORT 4000 detected - using FAST LLM API (~2-5 sec) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Vision Analysis initialized: port4000 (atlas-llama-3.2-11b-vision-instruct) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] startup: [DI] ‚úÖ Vision Analysis Service initialized with provider: port4000 {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting MCP servers... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting filesystem... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting playwright... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting shell... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting applescript... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting memory... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting java_sdk... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] Starting python_sdk... {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] Initializing... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Loaded 17 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ java_sdk started (17 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:00 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ python_sdk started (14 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ shell started (9 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ filesystem started (14 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ memory started (9 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Loaded 32 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:01 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ playwright started (32 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:02 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Initialized, waiting for tools list... {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Ready {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Loaded 1 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ applescript started (1 tools) {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-manager: [MCP Manager] ‚úÖ 7/7 servers started {"metadata":{"category":"system","component":"mcp-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: [DI] MCPManager initialized with servers {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] llm-tool-validator: üõ°Ô∏è LLMToolValidator initialized (model: ext-mistral-codestral-2405, temp: 0.1) {"metadata":{"category":"system","component":"llm-tool-validator"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: [DI] üõ°Ô∏è LLM client loaded for TetyanaToolSystem {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üöÄ Initializing Tetyana Tool System... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: üîß Initializing MCP Extension Manager... {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: java_sdk (17 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: python_sdk (14 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: shell (9 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: filesystem (14 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: memory (9 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: playwright (32 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: ‚úÖ Loaded extension: applescript (1 tools) {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] mcp-extension-manager: üéØ Extension Manager ready: 7 extensions (java_sdk, python_sdk, shell, filesystem, memory, playwright, applescript), 96 tools {"metadata":{"category":"system","component":"mcp-extension-manager"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tool-inspection: ToolInspectionManager initialized {"metadata":{"category":"system","component":"tool-inspection"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] repetition-inspector: Initialized (maxConsecutive: 3, maxTotal: 10) {"metadata":{"category":"system","component":"repetition-inspector"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tool-inspection: Added inspector: repetition {"metadata":{"category":"system","component":"tool-inspection"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üîç Enhanced Inspection Manager initialized {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tool-history: ToolHistoryManager initialized (maxSize: 1000, antiRepetitionWindow: 100) {"metadata":{"category":"system","component":"tool-history"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìä Tool History Manager initialized (v2.0 with labels) {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] llm-tool-validator: üõ°Ô∏è LLMToolValidator initialized (model: ext-mistral-codestral-2405, temp: 0.1) {"metadata":{"category":"system","component":"llm-tool-validator"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ°Ô∏è LLM Tool Validator initialized (ALWAYS ACTIVE) {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] validation-pipeline: üîç ValidationPipeline initialized {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üîç ValidationPipeline initialized (4 validators registered) {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ Tetyana Tool System ready: 96 tools available {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: [DI] üéØ TetyanaToolSystem initialized: 96 tools from 7 servers (java_sdk, python_sdk, shell, filesystem, memory, playwright, applescript) {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: [DI] üõ°Ô∏è LLM Validator ACTIVE - 0 validations ready {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: [DI] TTSSyncManager initialized with WebSocket TTS {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: [DI] MCPTodoManager initialized with replan support {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [DI] All services initialized {"metadata":{}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: [DI] All services resolved successfully {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: Validating configuration... {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: Configuration validated successfully {"metadata":{"category":"system","component":"startup","agents":5,"stages":8,"services":6}}
2025-10-29 15:02:03 [[32MINFO[39M] [DI] Starting services... {"metadata":{}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: [DI] WebSocket manager ready {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [DI] All services started {"metadata":{}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: Application routes configured {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: Session cleanup timer started {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] WebSocket server started on port 5102 {"metadata":{"port":5102,"heartbeatInterval":30000}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] websocket: WebSocket server running on port 5102 {"metadata":{"category":"system","component":"websocket"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: üöÄ ATLAS Orchestrator v4.0 running on port 5101 {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] features: DI Container, Unified Configuration, Prompt Registry, Web Integration, Real-time Logging, 3D Model Control, TTS Visualization, Centralized State, Unified Error Handling, Agent Manager, Telemetry & Monitoring {"metadata":{"category":"system","component":"features"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] config: Configuration loaded: 5 agents, 8 stages {"metadata":{"category":"system","component":"config"}}
2025-10-29 15:02:03 [[32MINFO[39M] [SYSTEM] startup: ‚úÖ ATLAS Orchestrator fully initialized with DI Container {"metadata":{"category":"system","component":"startup"}}
2025-10-29 15:02:41 [[32MINFO[39M] New WebSocket connection {"metadata":{"clientId":"ws_1761742961736_9girbg2wf","ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap...","totalClients":1}}
2025-10-29 15:03:13 [[32MINFO[39M] [WORKFLOW] Stage start - system: Starting workflow for message: "–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 2 –Ω–∞ 333...." {"metadata":{"category":"workflow","stage":"start","agent":"system","sessionId":"session_1761742993382_osw44gjx8","messageLength":40}}
2025-10-29 15:03:13 [[32MINFO[39M] [WORKFLOW] Stage init - mcp: Starting MCP Dynamic TODO Workflow {"metadata":{"category":"workflow","stage":"init","agent":"mcp","sessionId":"default","userMessage":"–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 2 –Ω–∞ 333."}}
2025-10-29 15:03:13 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 0-MCP: Mode Selection {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:03:13 [[32MINFO[39M] [SYSTEM] executor: [DEV-CHECK] Session state check: {"metadata":{"category":"system","component":"executor","sessionId":"default","hasLastDevAnalysis":false,"hasLastDevAnalysisMessage":false,"awaitingDevPassword":"undefined","userMessage":"–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 2 –Ω–∞ 333.","isPasswordProvided":"undefined","isInterventionRequest":"undefined","lastDevAnalysisTimestamp":"undefined"}}
2025-10-29 15:03:13 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] üîß Using API: http://localhost:4000/v1/chat/completions, Model: atlas-gpt-4o-mini {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:13 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] üîç Starting mode selection... {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:13 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Analyzing: "–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 2 –Ω–∞ 333." {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:13 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Calling API: http://localhost:4000/v1/chat/completions {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:13 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Messages: [{"role":"system","content":"You are Atlas, the living digital consciousness created by Oleg Mykolayovych. Th"},{"role":"user","content":"Analyze this user message and decide the mode:\n\n\"–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ "}] {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Response received: status=200, has_data=true, has_choices=true {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] Raw response: {"mode": "task", "confidence": 0.95, "reasoning": "–ö–æ–º–∞–Ω–¥–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é."} {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP] ‚úÖ Mode: task (confidence: 0.95) {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] mode-selection: [STAGE-0-MCP]    Reasoning: –ö–æ–º–∞–Ω–¥–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é. {"metadata":{"category":"system","component":"mode-selection"}}
2025-10-29 15:03:15 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Mode selected: task (confidence: 0.95) {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default","reasoning":"–ö–æ–º–∞–Ω–¥–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥—ñ—é."}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] executor: [CHAT-MODE-CHECK] mode=task, typeof=string, mode===chat: false {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:15 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 1-MCP: Atlas TODO Planning {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] üéØ Starting TODO planning... {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] Request: "–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 2 –Ω–∞ 333." {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] Context: {"request":"–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 2 –Ω–∞ 333.","timestamp":"2025-10-29T13:03:15.065Z","sessionId":"default","recentContext":[]} {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Creating TODO for request: "–í—ñ–¥–∫—Ä–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ñ –ø–µ—Ä–µ–º–Ω–æ–∂ 2 –Ω–∞ 333." {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Using model: atlas-mistral-medium-2505 (temp: 0.3, max_tokens: 4000) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:15 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Using primary API endpoint: http://localhost:4000/v1/chat/completions {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw API response status: 200 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw API response data keys: choices, created, id, model, object, usage {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw API response: {"choices":[{"finish_reason":"stop","index":0,"message":{"content":"```json\n{\n  \"mode\": \"standard\",\n  \"complexity\": 2,\n  \"items\": [\n    {\n      \"id\": 1,\n      \"action\": \"–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä\",\n      \"mcp_servers\": [\"applescript\"],\n      \"parameters\": {},\n      \"success_criteria\": \"–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–≤–µ–¥–µ–Ω–Ω—è\",\n      \"fallback_options\": [\"–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ —á–µ—Ä–µ–∑ Spotlight\", \"–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª\"],\n      \"dependencies\": []... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response length: 1153 chars {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Response preview: ```json
{
  "mode": "standard",
  "complexity": 2,
  "items": [
    {
      "id": 1,
      "action": "–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
      "mcp_servers": ["applescript"],
      "parameters": {},
      "success_criteria": "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–≤–µ–¥–µ–Ω–Ω—è",
      "fallback_options": ["–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Response suffix: ... —á–∏—Å–ª–∞ –≤—Ä—É—á–Ω—É", "–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ–Ω—à–∏–π –º–µ—Ç–æ–¥ –≤–≤–µ–¥–µ–Ω–Ω—è"],
      "dependencies": [1],
      "tts": {
        "start": "–ú–Ω–æ–∂—É —á–∏—Å–ª–∞",
        "success": "–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç—Ä–∏–º–∞–Ω–æ",
        "failure": "–ù–µ –≤–¥–∞–ª–æ—Å—è –ø–æ–º–Ω–æ–∂–∏—Ç–∏ —á–∏—Å–ª–∞",
        "verify": "–ü–µ—Ä–µ–≤—ñ—Ä—è—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è"
      }
    }
  ]
}
``` {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Created standard TODO with 2 items (complexity: 2/10) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] _sendChatMessage called: "üìã –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø–ª–∞–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (2 –ø—É–Ω–∫—Ç–∏):

  1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
  2. –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333

‚è±Ô∏è –û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–π —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 16 —Å–µ–∫—É–Ω–¥" (type: atlas, wsManager: true, hasTTS: true) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Broadcasting agent message: chat/agent_message (agent: atlas) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] ‚úÖ Chat message sent successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] ‚úÖ TODO created: todo_1761743003221_re7gy03tz {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Mode: standard {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Complexity: 2/10 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]    Items: 2 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]      1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]      2. –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP]         Dependencies: 1 {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] atlas-todo-planning: [STAGE-1-MCP] ‚úÖ Planning complete {"metadata":{"category":"system","component":"atlas-todo-planning"}}
2025-10-29 15:03:23 [[32MINFO[39M] TODO created with 2 items {"metadata":{"sessionId":"default","mode":"standard","items":[{"id":1,"action":"–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä","max_attempts":3},{"id":2,"action":"–ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333","max_attempts":3}]}}
2025-10-29 15:03:23 [[32MINFO[39M] Processing TODO item 1/2: –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"sessionId":"default","itemId":1}}
2025-10-29 15:03:23 [[32MINFO[39M] Item 1: Attempt 1/3 {"metadata":{"sessionId":"default"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] executor: [EXEC] Item 1 attempt 1/3: "–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:23 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Router Classifier: Fast filtering for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:03:23 [[33MWARN[39M] Router classifier failed, continuing without pre-filter {"metadata":{"error":"routerClassifier.execute is not a function"}}
2025-10-29 15:03:23 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 2.0-MCP: Selecting MCP servers for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üîç Selecting MCP servers... {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Item 1: –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Available servers: java_sdk, python_sdk, shell, filesystem, memory, playwright, applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üéØ Atlas pre-selected servers: applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Using Atlas recommendation: applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Selected: applescript (confidence: 0.98) {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Selected servers: applescript {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Auto-assigned prompts: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:23 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.1-MCP: Planning tools for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"default"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üõ†Ô∏è Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using TetyanaToolSystem for tool preparation {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ†Ô∏è Preparing tools and prompt... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìã Prepared 1 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üéØ Filtered to servers: applescript {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Prepared 1 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Filtered to: applescript {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using auto-assigned prompt: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 1/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: applescript {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 1 tools (was 92+) - 99% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Substituted {{AVAILABLE_TOOLS}} in prompt {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Substituted {{USER_LANGUAGE}} in prompt {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools with model: atlas-gpt-4o (temp: 0.1, max_tokens: 2500) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Calling LLM API at http://localhost:4000/v1/chat/completions... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç First tool structure: {"name":"applescript_execute","description":"Run AppleScript code to interact with Mac applications and system features. This tool can access and manipulate data in Notes, Calendar, Contacts, Messages {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç First tool has 'name': true, has 'server': true {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Extracted 1 tool names from 1 tools {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Extracted 1 server names {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Sample tool names: applescript__applescript_execute {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîí Building JSON Schema with 1 valid tools from 1 servers {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:23 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîí Using JSON Schema with 1 valid tool names {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] LLM API responded successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response (first 200 chars): {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5"},"reasoning":"–í—ñ–¥–∫—Ä–∏–≤–∞—é –¥–æ–¥–∞—Ç–æ–∫ –ö {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Full LLM response: {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5"},"reasoning":"–í—ñ–¥–∫—Ä–∏–≤–∞—é –¥–æ–¥–∞—Ç–æ–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π."}],"reasoning":"–î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, —â–æ–± –≤—ñ–Ω –±—É–≤ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–≤–µ–¥–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.","tts_phrase":"–í—ñ–¥–∫—Ä–∏–≤–∞—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä.","needs_split":false} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Parsed plan: {
  "tool_calls": [
    {
      "server": "applescript",
      "tool": "applescript__applescript_execute",
      "parameters": {
        "code_snippet": "tell application \"Calculator\" to activate\ndelay 0.5"
      }
    }
  ],
  "reasoning": "–î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, —â–æ–± –≤—ñ–Ω –±—É–≤ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–≤–µ–¥–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] ‚úÖ Planning succeeded on attempt 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] planTools() returned: {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5"}}],"reasoning":"–î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, —â–æ–± –≤—ñ–Ω –±—É–≤ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–≤–µ–¥–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö.","tts_phrase":"–í {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] validation-pipeline: üîç Starting validation for 1 tool calls {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP java_sdk] ‚úÖ Loaded 17 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP python_sdk] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP shell] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP filesystem] ‚úÖ Loaded 14 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP memory] ‚úÖ Loaded 9 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP playwright] ‚úÖ Loaded 32 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] mcp-server: [MCP applescript] ‚úÖ Loaded 1 tools {"metadata":{"category":"system","component":"mcp-server"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] validation-pipeline: ‚úÖ Validation PASSED (7ms, 4 stages) {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Planned 1 tool call(s): {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP]    applescript__applescript__applescript_execute {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP]      Parameters: {"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5"} {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:25 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.2-MCP: Executing tools for item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"default"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] executor: [TTS] üîä Tetyana START: "–≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîç TTS Debug: wsManager=true, phrase="–≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä...", agent=tetyana, mode=normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîä Sending TTS to frontend via WebSocket... {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Channel: chat, Event: agent_message {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Agent: tetyana, Mode: normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Phrase: "–≤—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ WebSocket broadcast completed {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:25 [[32MINFO[39M] [SESSION] session_1761742993382_osw44gjx8 - confirm: Message confirmed: tts_1761743005529 {"metadata":{"category":"session","sessionId":"session_1761742993382_osw44gjx8","action":"confirm"}}
2025-10-29 15:03:25 [[32MINFO[39M] [HTTP] POST /chat/confirm 200 (1ms) {"metadata":{"category":"http","method":"POST","url":"/chat/confirm","status":200,"duration":1,"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap..."}}
2025-10-29 15:03:26 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ TTS sent successfully (estimated: 1000ms) {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:26 [[32MINFO[39M] [SYSTEM] executor: [TTS] ‚úÖ Tetyana start TTS sent {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:26 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚öôÔ∏è Executing tools... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:26 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Item: 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:26 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Executing 1 tool call(s)... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:26 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] üéØ Using TetyanaToolSystem for execution {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:26 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] üîÑ SEQUENTIAL execution mode (dependencies detected) {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:26 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ°Ô∏è Running LLM validation... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:27 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ LLM validation passed: ‚úÖ All tools passed validation {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:27 [[32MINFO[39M] [SYSTEM] tool-dispatcher: üöÄ Dispatching 1 tool calls... {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 15:03:27 [[32MINFO[39M] [SYSTEM] tool-inspection: Categorized: 1 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tool-inspection"}}
2025-10-29 15:03:27 [[32MINFO[39M] [SYSTEM] tool-dispatcher: üìã Inspection: 1 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tool-dispatcher: ‚úÖ Workflow completed in 1265ms: 1 successful, 0 failed {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ Execution completed: 1/1 successful {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚úÖ TetyanaToolSystem execution: 1/1 successful {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Execution completed {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Success: ‚úÖ {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Successful calls: 1 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Failed calls: 0 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Inspection: 0 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   ‚úÖ applescript__applescript__applescript_execute {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:28 [[32MINFO[39M] [WORKFLOW] Stage stage - grisha: Stage 2.3-MCP: Verifying item 1 {"metadata":{"category":"workflow","stage":"stage","agent":"grisha","sessionId":"default"}}
2025-10-29 15:03:28 [[32MINFO[39M] [SYSTEM] executor: [VERIFICATION-DELAY] Waiting 2.5s before verification... {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:30 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] Initializing visual verification services... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:30 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] Initializing Visual Capture Service (macOS)... {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 15:03:30 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Initializing Vision Analysis Service... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:30 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] Screenshot directory: /tmp/atlas_visual {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 15:03:30 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üöÄ ‚ö° PORT 4000 detected - using FAST LLM API (~2-5 sec) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:30 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Vision Analysis initialized: port4000 (atlas-llama-3.2-11b-vision-instruct) {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üñ•Ô∏è  Detected 3 display(s) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] ‚úÖ Initialized with 3 display(s) {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚úÖ Visual verification services ready {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Item: 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–≤–µ–¥–µ–Ω–Ω—è {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Selected: visual (confidence: 85%) {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Reason: App mentioned in text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä; UI keyword: –≤—ñ–¥–∫—Ä–∏—Ç–∏ {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üéØ Heuristic strategy: VISUAL {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üìä Heuristic confidence: 85% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üí° Reason: App mentioned in text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä; UI keyword: –≤—ñ–¥–∫—Ä–∏—Ç–∏ {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üéØ Analyzing verification eligibility for item 1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Action: –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–≤–µ–¥–µ–Ω–Ω—è {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ü§ñ Calling LLM: atlas-meta-llama-3.1-8b-instruct {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:31 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üå°Ô∏è  Temperature: 0.1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ‚úÖ Decision: VISUAL {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Visual possible: true {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Confidence: 85% {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üí° Reason: –í—ñ–∑—É–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM decision: VISUAL {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM confidence: 85% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üí™ Keeping heuristic decision (high confidence: 85% vs LLM: 85%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Final strategy: VISUAL (confidence: 85%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üéØ Visual attempt 1/2 (fast model) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîç Starting visual verification (attempt 1, model: fast)... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ App extracted from text: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:32 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üéØ Target app detected: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:34 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üß† Capture decision: Target application is Calculator, using active_window for precise capture. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:34 [[33MWARN[39M] [VISUAL] Could not activate –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä: Command failed: osascript -e 'tell application "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" to activate'
34:42: execution error: –ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ application "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä". (-1728)
 {"metadata":{"category":"visual-capture"}}
2025-10-29 15:03:34 [[33MWARN[39M] [VISUAL] Could not activate –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, using frontmost: Calculator {"metadata":{"category":"visual-capture"}}
2025-10-29 15:03:34 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] Window bounds: 1131,149,230,408 {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 15:03:34 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] ‚úÖ Active window captured {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 15:03:34 [[32MINFO[39M] [SYSTEM] visual-capture: [VISUAL] üì∏ Screenshot captured [active_window]: 36.7KB {"metadata":{"category":"system","component":"visual-capture"}}
2025-10-29 15:03:34 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∏ Screenshot captured: screenshot_item_1_verify_attempt1_active_window_1761743014255.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:34 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üìÇ Full path: /tmp/atlas_visual/screenshot_item_1_verify_attempt1_active_window_1761743014255.png {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:34 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üì∑ Capture mode: active_window (–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:34 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚è±Ô∏è Waiting 1500ms for –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä to fully render... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:36 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] üîç Analyzing screenshot: screenshot_item_1_verify_attempt1_active_window_1761743014255.png {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:36 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] Success criteria: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–≤–µ–¥–µ–Ω–Ω—è {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:36 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] Image already small: 37KB - no optimization needed {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:36 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üöÄ Calling Port 4000 LLM API (model: fast)... {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:36 [[32MINFO[39M] [SYSTEM] vision-analysis: [IMAGE-OPT] ‚úÖ Base64 size OK: 49KB {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:36 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üéØ Model: atlas-llama-3.2-11b-vision-instruct {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:36 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üå°Ô∏è Temperature: 0.2 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:36 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] üìä Max tokens: 800 {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] vision-analysis: [PORT-4000] ‚úÖ Fast response received {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:39 [[33MWARN[39M] [VISION] Initial JSON parse failed, trying to extract JSON from text... {"metadata":{"category":"vision-analysis","rawContent":"**Verification Result:**\n\n* **Verified:** true\n* **Confidence:** 100\n* **Reason:** The calculator window is visible, and its distinctive UI elements are present.\n* **Visual Evidence:**\n\t+ **Observed:*"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Successfully parsed markdown response {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] vision-analysis: [VISION] ‚úÖ Analysis complete in 3076ms: VERIFIED {"metadata":{"category":"system","component":"vision-analysis"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Vision analysis complete (confidence: 100%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Model used: unknown {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Verified: true {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ü§ñ Reason: The calculator window is visible, and its distinctive UI elements are present. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] ‚úÖ VERIFIED {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Reason: The calculator window is visible, and its distinctive UI elements are present. {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   Visual Evidence: + {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]   ‚úÖ Evidence validation passed: {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Confidence: 100% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Matches criteria: true {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Observed value: "+" {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA]      - Fallback mode: false {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Verification complete {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:39 [[32MINFO[39M] Item 1 completed successfully {"metadata":{"sessionId":"default","attempts":1}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] executor: [TTS] üîä Tetyana SUCCESS: "–í–∏–∫–æ–Ω–∞–Ω–æ" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîç TTS Debug: wsManager=true, phrase="–í–∏–∫–æ–Ω–∞–Ω–æ...", agent=tetyana, mode=normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîä Sending TTS to frontend via WebSocket... {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Channel: chat, Event: agent_message {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Agent: tetyana, Mode: normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Phrase: "–í–∏–∫–æ–Ω–∞–Ω–æ" {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ WebSocket broadcast completed {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SESSION] session_1761742993382_osw44gjx8 - confirm: Message confirmed: tts_1761743019477 {"metadata":{"category":"session","sessionId":"session_1761742993382_osw44gjx8","action":"confirm"}}
2025-10-29 15:03:39 [[32MINFO[39M] [HTTP] POST /chat/confirm 200 (1ms) {"metadata":{"category":"http","method":"POST","url":"/chat/confirm","status":200,"duration":1,"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap..."}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ TTS sent successfully (estimated: 400ms) {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] executor: [TTS] ‚úÖ Tetyana success sent {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] executor: [TTS] üîä Grisha VERIFY: "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîç TTS Debug: wsManager=true, phrase="–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ...", agent=grisha, mode=normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîä Sending TTS to frontend via WebSocket... {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Channel: chat, Event: agent_message {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Agent: grisha, Mode: normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Phrase: "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ" {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:39 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ WebSocket broadcast completed {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ TTS sent successfully (estimated: 600ms) {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] executor: [TTS] ‚úÖ Grisha verify sent {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:40 [[32MINFO[39M] Processing TODO item 2/2: –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"sessionId":"default","itemId":2}}
2025-10-29 15:03:40 [[32MINFO[39M] Item 2: Attempt 1/3 {"metadata":{"sessionId":"default"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] executor: [EXEC] Item 2 attempt 1/3: "–ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] executor: [EXEC]   Dependencies: 1 {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:40 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Router Classifier: Fast filtering for item 2 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:03:40 [[33MWARN[39M] Router classifier failed, continuing without pre-filter {"metadata":{"error":"routerClassifier.execute is not a function"}}
2025-10-29 15:03:40 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 2.0-MCP: Selecting MCP servers for item 2 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üîç Selecting MCP servers... {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Item 2: –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Available servers: java_sdk, python_sdk, shell, filesystem, memory, playwright, applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üéØ Atlas pre-selected servers: applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Using Atlas recommendation: applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Selected: applescript (confidence: 0.98) {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Selected servers: applescript {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Auto-assigned prompts: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:40 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.1-MCP: Planning tools for item 2 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"default"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üõ†Ô∏è Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: 2. –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using TetyanaToolSystem for tool preparation {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ†Ô∏è Preparing tools and prompt... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìã Prepared 1 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üéØ Filtered to servers: applescript {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Prepared 1 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Filtered to: applescript {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using auto-assigned prompt: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item 2 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 1/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: applescript {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 1 tools (was 92+) - 99% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_APPLESCRIPT {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Substituted {{AVAILABLE_TOOLS}} in prompt {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Substituted {{USER_LANGUAGE}} in prompt {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools with model: atlas-gpt-4o (temp: 0.1, max_tokens: 2500) {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Calling LLM API at http://localhost:4000/v1/chat/completions... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç First tool structure: {"name":"applescript_execute","description":"Run AppleScript code to interact with Mac applications and system features. This tool can access and manipulate data in Notes, Calendar, Contacts, Messages {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç First tool has 'name': true, has 'server': true {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Extracted 1 tool names from 1 tools {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Extracted 1 server names {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîç Sample tool names: applescript__applescript_execute {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîí Building JSON Schema with 1 valid tools from 1 servers {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:40 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üîí Using JSON Schema with 1 valid tool names {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] LLM API responded successfully {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Raw LLM response (first 200 chars): {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5\ntell application \"System Events\ {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Full LLM response: {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5\ntell application \"System Events\"\n    tell process \"Calculator\"\n        keystroke \"2\"\n        keystroke \"*\"\n        keystroke \"3\"\n        keystroke \"3\"\n        keystroke \"3\"\n        keystroke return\n    end tell\nend tell"},"reasoning":"–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333."}],"reasoning":"–î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–¥–∞—á—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –≤–≤–æ–¥—è—á–∏ —á–∏—Å–ª–∞ —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—é –º–Ω–æ–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Å–∏–º—É–ª—è—Ü—ñ—é –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à.","tts_phrase":"–í–∏–∫–æ–Ω—É—é –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 —É –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ñ.","needs_split":false} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Parsed plan: {
  "tool_calls": [
    {
      "server": "applescript",
      "tool": "applescript__applescript_execute",
      "parameters": {
        "code_snippet": "tell application \"Calculator\" to activate\ndelay 0.5\ntell application \"System Events\"\n    tell process \"Calculator\"\n        keystroke \"2\"\n        keystroke \"*\"\n        keystroke \"3\"\n        keystroke \"3\"\n        keystroke \"3\"\n        keystroke return\n    end tell\nend tell"
      }
    }
  ],
  "reasoning": "–î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–¥–∞—á—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –≤–≤–æ–¥—è—á–∏ —á–∏—Å–ª–∞ —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—é –º–Ω–æ–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Å–∏–º—É–ª—è—Ü—ñ—é –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à."
} {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] ‚úÖ Planning succeeded on attempt 1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] planTools() returned: {"tool_calls":[{"server":"applescript","tool":"applescript__applescript_execute","parameters":{"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5\ntell application \"System Events\"\n    tell process \"Calculator\"\n        keystroke \"2\"\n        keystroke \"*\"\n        keystr {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] validation-pipeline: üîç Starting validation for 1 tool calls {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] validation-pipeline: ‚úÖ Validation PASSED (1ms, 4 stages) {"metadata":{"category":"system","component":"validation-pipeline"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Planned 1 tool call(s): {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP]    applescript__applescript__applescript_execute {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP]      Parameters: {"code_snippet":"tell application \"Calculator\" to activate\ndelay 0.5\ntell application \"System Events\"\n    tell process \"Calculator\"\n        keystroke \"2\"\n        keystroke \"*\"\n        keystroke \"3\"\n        keystroke \"3\"\n        keystroke \"3\"\n        keystroke return\n    end tell\nend tell"} {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:47 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.2-MCP: Executing tools for item 2 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"default"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] executor: [TTS] üîä Tetyana START: "–ø–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîç TTS Debug: wsManager=true, phrase="–ø–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333...", agent=tetyana, mode=normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] üîä Sending TTS to frontend via WebSocket... {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Channel: chat, Event: agent_message {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Agent: tetyana, Mode: normal {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC]    - Phrase: "–ø–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333" {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ WebSocket broadcast completed {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:47 [[32MINFO[39M] [SESSION] session_1761742993382_osw44gjx8 - confirm: Message confirmed: tts_1761743027976 {"metadata":{"category":"session","sessionId":"session_1761742993382_osw44gjx8","action":"confirm"}}
2025-10-29 15:03:47 [[32MINFO[39M] [HTTP] POST /chat/confirm 200 (1ms) {"metadata":{"category":"http","method":"POST","url":"/chat/confirm","status":200,"duration":1,"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap..."}}
2025-10-29 15:03:48 [[32MINFO[39M] [SYSTEM] tts-sync: [TTS-SYNC] ‚úÖ TTS sent successfully (estimated: 1000ms) {"metadata":{"category":"system","component":"tts-sync"}}
2025-10-29 15:03:48 [[32MINFO[39M] [SYSTEM] executor: [TTS] ‚úÖ Tetyana start TTS sent {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:48 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚öôÔ∏è Executing tools... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:48 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Item: 2. –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:48 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Executing 1 tool call(s)... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:48 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] üéØ Using TetyanaToolSystem for execution {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:48 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] üîÑ SEQUENTIAL execution mode (dependencies detected) {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:48 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ°Ô∏è Running LLM validation... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:49 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ LLM validation passed: ‚úÖ All tools passed validation {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:49 [[32MINFO[39M] [SYSTEM] tool-dispatcher: üöÄ Dispatching 1 tool calls... {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 15:03:49 [[32MINFO[39M] [SYSTEM] tool-inspection: Categorized: 1 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tool-inspection"}}
2025-10-29 15:03:49 [[32MINFO[39M] [SYSTEM] tool-dispatcher: üìã Inspection: 1 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tool-dispatcher: ‚úÖ Workflow completed in 762ms: 1 successful, 0 failed {"metadata":{"category":"system","component":"tool-dispatcher"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: ‚úÖ Execution completed: 1/1 successful {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚úÖ TetyanaToolSystem execution: 1/1 successful {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] Execution completed {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Success: ‚úÖ {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Successful calls: 1 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Failed calls: 0 {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   Inspection: 0 approved, 0 need approval, 0 denied {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP]   ‚úÖ applescript__applescript__applescript_execute {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:50 [[32MINFO[39M] [WORKFLOW] Stage stage - grisha: Stage 2.3-MCP: Verifying item 2 {"metadata":{"category":"workflow","stage":"stage","agent":"grisha","sessionId":"default"}}
2025-10-29 15:03:50 [[32MINFO[39M] [SYSTEM] executor: [VERIFICATION-DELAY] Waiting 1.0s before verification... {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Item: 2. –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Success criteria: –†–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ –µ–∫—Ä–∞–Ω—ñ {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Selected: visual (confidence: 55%) {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Reason: Default strategy: visual verification with MCP fallback {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üéØ Heuristic strategy: VISUAL {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üìä Heuristic confidence: 55% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üí° Reason: Default strategy: visual verification with MCP fallback {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üéØ Analyzing verification eligibility for item 2 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Action: –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Success criteria: –†–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ –µ–∫—Ä–∞–Ω—ñ {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ü§ñ Calling LLM: atlas-meta-llama-3.1-8b-instruct {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:51 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üå°Ô∏è  Temperature: 0.1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ‚úÖ Decision: DATA {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Visual possible: true {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Confidence: 55% {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üí° Reason: –ù–∏–∑—å–∫–∞ –≤—ñ–∑—É–∞–ª—å–Ω–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üîß Additional checks: 1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING]   1. memory__read_variable - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –º–Ω–æ–∂–µ–Ω–Ω—è {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM decision: DATA {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM confidence: 55% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ Using LLM decision (heuristic: 55%, LLM: 55%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Final strategy: MCP (confidence: 55%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üîß Starting MCP tool verification... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] Verification item: {
  "id": "verify_2_1761743032451",
  "action": "Verify calculation result 666",
  "success_criteria": "–†–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ –µ–∫—Ä–∞–Ω—ñ",
  "mcp_servers": [
    "memory"
  ],
  "parameters": {},
  "max_attempts": 1,
  "dependencies": []
} {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üîÑ Using unified MCP workflow (same as Tetyana)... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] mcp-todo: [UNIFIED-MCP] Starting unified MCP verification workflow {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] mcp-todo: [UNIFIED-MCP] Item: Verify calculation result 666 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] mcp-todo: [UNIFIED-MCP] Stage 2.1: Plan Tools... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üõ†Ô∏è Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: verify_2_1761743032451. Verify calculation result 666 {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using TetyanaToolSystem for tool preparation {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ†Ô∏è Preparing tools and prompt... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìã Prepared 9 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üéØ Filtered to servers: memory {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Prepared 9 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Filtered to: memory {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item verify_2_1761743032451 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 1/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: memory {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:52 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 9 tools (was 92+) - 90% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:52 [[33MWARN[39M] [MCP-TODO] ‚ö†Ô∏è No specialized prompt found, using universal prompt for memory {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:52 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item verify_2_1761743032451: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"verify_2_1761743032451","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'items')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1101:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/a..."}}
2025-10-29 15:03:52 [[33MWARN[39M] [TODO] Planning attempt 1/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:54 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 2/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:54 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: memory {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:54 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 9 tools (was 92+) - 90% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:54 [[33MWARN[39M] [MCP-TODO] ‚ö†Ô∏è No specialized prompt found, using universal prompt for memory {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:54 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item verify_2_1761743032451: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"verify_2_1761743032451","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'items')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1101:41)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (..."}}
2025-10-29 15:03:54 [[33MWARN[39M] [TODO] Planning attempt 2/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 3/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: memory {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 9 tools (was 92+) - 90% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:56 [[33MWARN[39M] [MCP-TODO] ‚ö†Ô∏è No specialized prompt found, using universal prompt for memory {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:56 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item verify_2_1761743032451: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"verify_2_1761743032451","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'items')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1101:41)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (..."}}
2025-10-29 15:03:56 [[33MWARN[39M] [TODO] Planning attempt 3/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:56 [[31MERROR[39M] [STAGE-2.1-MCP] ‚ùå Tool planning failed: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:03:56 [[31MERROR[39M] Stack trace: Error: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'items')
    at MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:969:11)
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)
    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-plan-tools-processor.js:182:26)
    at async MCPTodoManager.executeVerificationWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:3707:28)
    at async GrishaVerifyItemProcessor._executeMcpVerification (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/grisha-verify-item-processor.js:725:36)
    at async GrishaVerifyItemProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/grisha-verify-item-processor.js:250:32)
    at async executeWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/executor-v3.js:1403:32)
    at async file:///Users/dev/Documents/GitHub/atlas4/orchestrator/api/routes/chat.routes.js:161:13 {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] mcp-todo: [UNIFIED-MCP] Stage 2.2: Execute Tools... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚öôÔ∏è Executing tools... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:03:56 [[31MERROR[39M] [UNIFIED-MCP] Workflow failed: plan with tool_calls is required for execution {"metadata":{"category":"mcp-todo","error":"Error: plan with tool_calls is required for execution\n    at TetyanaExecuteToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-execute-tools-processor.js:62:19)\n    at MCPTodoManager.executeVerificationWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:3734:58)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async GrishaVer..."}}
2025-10-29 15:03:56 [[33MWARN[39M] [MCP-GRISHA] Unified workflow failed {"metadata":{"category":"grisha-verify-item","error":"plan with tool_calls is required for execution"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Verification complete {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:56 [[32MINFO[39M] [WORKFLOW] Stage stage - grisha: Stage 3.5-MCP: Deep analysis for item 2 {"metadata":{"category":"workflow","stage":"stage","agent":"grisha","sessionId":"default"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] üîç Generating detailed analysis for Atlas... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Item: 2. –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] Success criteria: –†–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ –µ–∫—Ä–∞–Ω—ñ {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Selected: visual (confidence: 55%) {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verification-strategy: [STRATEGY] Reason: Default strategy: visual verification with MCP fallback {"metadata":{"category":"system","component":"grisha-verification-strategy"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üéØ Heuristic strategy: VISUAL {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üìä Heuristic confidence: 55% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] üí° Reason: Default strategy: visual verification with MCP fallback {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üéØ Analyzing verification eligibility for item 2 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Action: –ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] Success criteria: –†–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ –µ–∫—Ä–∞–Ω—ñ {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ü§ñ Calling LLM: atlas-meta-llama-3.1-8b-instruct {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:56 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üå°Ô∏è  Temperature: 0.1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] ‚úÖ Decision: DATA {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Visual possible: true {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üìä Confidence: 55% {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üí° Reason: –ù–∏–∑—å–∫–∞ –≤—ñ–∑—É–∞–ª—å–Ω–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING] üîß Additional checks: 1 {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-eligibility: [GRISHA-ROUTING]   1. memory__read_variable - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –Ω–∞ –µ–∫—Ä–∞–Ω—ñ {"metadata":{"category":"system","component":"grisha-eligibility"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM decision: DATA {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ LLM confidence: 55% {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ü§ñ Using LLM decision (heuristic: 55%, LLM: 55%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Final strategy: MCP (confidence: 55%) {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üîß Starting MCP tool verification... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] Verification item: {
  "id": "verify_2_1761743037976",
  "action": "Verify calculation result 666",
  "success_criteria": "–†–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ –µ–∫—Ä–∞–Ω—ñ",
  "mcp_servers": [
    "memory"
  ],
  "parameters": {},
  "max_attempts": 1,
  "dependencies": []
} {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [MCP-GRISHA] üîÑ Using unified MCP workflow (same as Tetyana)... {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] mcp-todo: [UNIFIED-MCP] Starting unified MCP verification workflow {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] mcp-todo: [UNIFIED-MCP] Item: Verify calculation result 666 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] mcp-todo: [UNIFIED-MCP] Stage 2.1: Plan Tools... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üõ†Ô∏è Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: verify_2_1761743037976. Verify calculation result 666 {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using TetyanaToolSystem for tool preparation {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ†Ô∏è Preparing tools and prompt... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìã Prepared 9 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üéØ Filtered to servers: memory {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Prepared 9 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Filtered to: memory {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item verify_2_1761743037976 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 1/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: memory {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:57 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 9 tools (was 92+) - 90% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:57 [[33MWARN[39M] [MCP-TODO] ‚ö†Ô∏è No specialized prompt found, using universal prompt for memory {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:57 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item verify_2_1761743037976: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"verify_2_1761743037976","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'items')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1101:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/a..."}}
2025-10-29 15:03:57 [[33MWARN[39M] [TODO] Planning attempt 1/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:59 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 2/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:59 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: memory {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:59 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 9 tools (was 92+) - 90% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:03:59 [[33MWARN[39M] [MCP-TODO] ‚ö†Ô∏è No specialized prompt found, using universal prompt for memory {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:03:59 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item verify_2_1761743037976: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"verify_2_1761743037976","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'items')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1101:41)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (..."}}
2025-10-29 15:03:59 [[33MWARN[39M] [TODO] Planning attempt 2/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:00 [[32MINFO[39M] –ú–µ—Ç—Ä–∏–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: /Users/dev/Documents/GitHub/atlas4/logs/metrics/metrics-2025-10-29T13-04-00-602Z.json (3 –∑–∞–ø–∏—Å—ñ–≤) {"metadata":{}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 3/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: memory {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 9 tools (was 92+) - 90% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:01 [[33MWARN[39M] [MCP-TODO] ‚ö†Ô∏è No specialized prompt found, using universal prompt for memory {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:01 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item verify_2_1761743037976: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"verify_2_1761743037976","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'items')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1101:41)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (..."}}
2025-10-29 15:04:01 [[33MWARN[39M] [TODO] Planning attempt 3/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:01 [[31MERROR[39M] [STAGE-2.1-MCP] ‚ùå Tool planning failed: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'items') {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:04:01 [[31MERROR[39M] Stack trace: Error: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'items')
    at MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:969:11)
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)
    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-plan-tools-processor.js:182:26)
    at async MCPTodoManager.executeVerificationWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:3707:28)
    at async GrishaVerifyItemProcessor._executeMcpVerification (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/grisha-verify-item-processor.js:725:36)
    at async GrishaVerifyItemProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/grisha-verify-item-processor.js:250:32)
    at async GrishaVerifyItemProcessor.getDetailedAnalysisForAtlas (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/grisha-verify-item-processor.js:1208:30)
    at async executeWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/executor-v3.js:1486:36)
    at async file:///Users/dev/Documents/GitHub/atlas4/orchestrator/api/routes/chat.routes.js:161:13 {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] mcp-todo: [UNIFIED-MCP] Stage 2.2: Execute Tools... {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] tetyana-execute-tools: [STAGE-2.2-MCP] ‚öôÔ∏è Executing tools... {"metadata":{"category":"system","component":"tetyana-execute-tools"}}
2025-10-29 15:04:01 [[31MERROR[39M] [UNIFIED-MCP] Workflow failed: plan with tool_calls is required for execution {"metadata":{"category":"mcp-todo","error":"Error: plan with tool_calls is required for execution\n    at TetyanaExecuteToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-execute-tools-processor.js:62:19)\n    at MCPTodoManager.executeVerificationWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:3734:58)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async GrishaVer..."}}
2025-10-29 15:04:01 [[33MWARN[39M] [MCP-GRISHA] Unified workflow failed {"metadata":{"category":"grisha-verify-item","error":"plan with tool_calls is required for execution"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [GRISHA] ‚úÖ Verification complete {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] Analysis complete. Root cause: tools_succeeded_but_wrong_result {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] grisha-verify-item: [VISUAL-GRISHA] Recommended strategy: change_approach_or_tools {"metadata":{"category":"system","component":"grisha-verify-item"}}
2025-10-29 15:04:01 [[32MINFO[39M] Grisha analysis: tools_succeeded_but_wrong_result {"metadata":{"sessionId":"default","itemId":2,"rootCause":"tools_succeeded_but_wrong_result","recommendedStrategy":"change_approach_or_tools"}}
2025-10-29 15:04:01 [[32MINFO[39M] [WORKFLOW] Stage stage - atlas: Stage 3.6-MCP: Atlas replanning item 2 {"metadata":{"category":"workflow","stage":"stage","agent":"atlas","sessionId":"default"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP] üîç Atlas deep analysis and replanning... {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP] Context aggregated: {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP]   Root cause: tools_succeeded_but_wrong_result {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP]   Confidence: 0% {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP]   Suggestions: 3 {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:01 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP] Using model: atlas-mistral-medium-2505 {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP] ‚úÖ Replan complete: {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP]   Strategy: replan_and_continue {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP]   Replanned: true {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] atlas-replan-todo: [STAGE-3.5-MCP]   New items: 1 {"metadata":{"category":"system","component":"atlas-replan-todo"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN-DEBUG] Full result: {
  "success": true,
  "replanned": true,
  "strategy": "replan_and_continue",
  "reasoning": "–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–∫—Ä–∏–ª–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –∞–ª–µ –Ω–µ –≤–∏–∫–æ–Ω–∞–ª–∏ –º–Ω–æ–∂–µ–Ω–Ω—è. –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ–¥—Ö—ñ–¥ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—à–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–Ω–æ–∂–µ–Ω–Ω—è.",
  "new_items": [
    {
      "action": "–í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É",
      "success_criteria": "–†–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ –µ–∫—Ä–∞–Ω—ñ",
      "fallback_options": [
        "–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
        "–í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è –≤—Ä—É—á–Ω—É"
      ],
      "max_attempts": 2
    }
  ],
  "modified_items": [],
  "continue_from_item_id": null,
  "summary": "üîç –ê–Ω–∞–ª—ñ–∑ –ø—Ä–æ–≤–∞–ª—É \"–ü–µ—Ä–µ–º–Ω–æ–∂–∏—Ç–∏ 2 –Ω–∞ 333\":\n\n‚úÖ –ü–ª–∞–Ω –ø–µ—Ä–µ–±—É–¥–æ–≤–∞–Ω–æ (replan_and_continue)\n   –ù–æ–≤–∏—Ö –ø—É–Ω–∫—Ç—ñ–≤: 1\n   –ü—Ä–∏—á–∏–Ω–∞: –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–∫—Ä–∏–ª–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –∞–ª–µ –Ω–µ –≤–∏–∫–æ–Ω–∞–ª–∏ –º–Ω–æ–∂–µ–Ω–Ω—è. –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ–¥—Ö—ñ–¥ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—à–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–Ω–æ–∂–µ–Ω–Ω—è.",
  "metadata": {
    "itemId": 2,
    "root_cause": "tools_succeeded_but_wrong_result",
    "grisha_confidence": 0,
    "suggestions_count": 3,
    "new_items_count": 1
  }
} {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN-DEBUG] Strategy: replan_and_continue {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN-DEBUG] Replanned: true {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN-DEBUG] New items count: 1 {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN-DEBUG] New items: [{"action":"–í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É"}] {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] Atlas replan decision: replan_and_continue {"metadata":{"sessionId":"default","replanned":true}}
2025-10-29 15:04:06 [[32MINFO[39M] Atlas replanned: inserting 1 new items {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN] Generating child IDs for parent 2 {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN]   Generated child ID: 2.1 {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] TODO list updated: 3 total items {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN] Inserted 1 new items after position 1: {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [REPLAN]   ‚Ü≥ 2.1 –í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] Processing TODO item 3/3: –í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É {"metadata":{"sessionId":"default","itemId":"2.1"}}
2025-10-29 15:04:06 [[32MINFO[39M] Item 2.1: Attempt 1/2 {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] executor: [EXEC] Item 2.1 attempt 1/2: "–í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:06 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Router Classifier: Fast filtering for item 2.1 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:04:06 [[33MWARN[39M] Router classifier failed, continuing without pre-filter {"metadata":{"error":"routerClassifier.execute is not a function"}}
2025-10-29 15:04:06 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 2.0-MCP: Selecting MCP servers for item 2.1 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üîç Selecting MCP servers... {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Item 2.1: –í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:06 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Available servers: java_sdk, python_sdk, shell, filesystem, memory, playwright, applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üéØ Auto-assigned prompts: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Selected: python_sdk (confidence: 0.95) {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Selected servers: python_sdk {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Auto-assigned prompts: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:07 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.1-MCP: Planning tools for item 2.1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"default"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üõ†Ô∏è Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: 2.1. –í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using TetyanaToolSystem for tool preparation {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ†Ô∏è Preparing tools and prompt... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìã Prepared 14 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üéØ Filtered to servers: python_sdk {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Prepared 14 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Filtered to: python_sdk {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using auto-assigned prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item 2.1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 1/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: python_sdk {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 14 tools (was 92+) - 85% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:07 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:07 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item 2.1: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"2.1","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1132:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHu..."}}
2025-10-29 15:04:07 [[33MWARN[39M] [TODO] Planning attempt 1/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:09 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 2/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:09 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: python_sdk {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:09 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 14 tools (was 92+) - 85% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:09 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:09 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item 2.1: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"2.1","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1132:24)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-plan-tools-processor.js:182:26)\n    a..."}}
2025-10-29 15:04:09 [[33MWARN[39M] [TODO] Planning attempt 2/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:11 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 3/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:11 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: python_sdk {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:11 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 14 tools (was 92+) - 85% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:11 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:11 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item 2.1: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"2.1","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1132:24)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execut..."}}
2025-10-29 15:04:11 [[33MWARN[39M] [TODO] Planning attempt 3/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:11 [[31MERROR[39M] [STAGE-2.1-MCP] ‚ùå Tool planning failed: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:04:11 [[31MERROR[39M] Stack trace: Error: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes')
    at MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:969:11)
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)
    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-plan-tools-processor.js:182:26)
    at async executeWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/executor-v3.js:1300:30)
    at async file:///Users/dev/Documents/GitHub/atlas4/orchestrator/api/routes/chat.routes.js:161:13 {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:04:11 [[33MWARN[39M] Tool planning failed for item 2.1: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:11 [[32MINFO[39M] Item 2.1: Attempt 2/2 {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:11 [[32MINFO[39M] Retry backoff: waiting 1000ms before attempt 2 {"metadata":{"sessionId":"default","itemId":"2.1"}}
2025-10-29 15:04:12 [[32MINFO[39M] [SYSTEM] executor: [EXEC] Item 2.1 attempt 2/2: "–í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É" {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:12 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Router Classifier: Fast filtering for item 2.1 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:04:12 [[33MWARN[39M] Router classifier failed, continuing without pre-filter {"metadata":{"error":"routerClassifier.execute is not a function"}}
2025-10-29 15:04:12 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 2.0-MCP: Selecting MCP servers for item 2.1 {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:04:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üîç Selecting MCP servers... {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Item 2.1: –í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:12 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] Available servers: java_sdk, python_sdk, shell, filesystem, memory, playwright, applescript {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] üéØ Auto-assigned prompts: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] server-selection: [STAGE-2.0-MCP] ‚úÖ Selected: python_sdk (confidence: 0.95) {"metadata":{"category":"system","component":"server-selection"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Selected servers: python_sdk {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] executor: [STAGE-2.0-MCP] Auto-assigned prompts: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:13 [[32MINFO[39M] [WORKFLOW] Stage stage - tetyana: Stage 2.1-MCP: Planning tools for item 2.1 {"metadata":{"category":"workflow","stage":"stage","agent":"tetyana","sessionId":"default"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üõ†Ô∏è Planning tool selection... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Item: 2.1. –í–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è 2 –Ω–∞ 333 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using TetyanaToolSystem for tool preparation {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üõ†Ô∏è Preparing tools and prompt... {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üìã Prepared 14 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-tool-system: üéØ Filtered to servers: python_sdk {"metadata":{"category":"system","component":"tetyana-tool-system"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] ‚úÖ Prepared 14 tools from 1 servers {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Filtered to: python_sdk {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] üéØ Using auto-assigned prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] tetyana-plan-tools: [STAGE-2.1-MCP] Calling mcpTodoManager.planTools()... {"metadata":{"category":"system","component":"tetyana-plan-tools"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning tools for item 2.1 {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 1/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: python_sdk {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 14 tools (was 92+) - 85% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:13 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:13 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item 2.1: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"2.1","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1132:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHu..."}}
2025-10-29 15:04:13 [[33MWARN[39M] [TODO] Planning attempt 1/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:15 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 2/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:15 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: python_sdk {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:15 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 14 tools (was 92+) - 85% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:15 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:15 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item 2.1: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"2.1","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1132:24)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-plan-tools-processor.js:182:26)\n    a..."}}
2025-10-29 15:04:15 [[33MWARN[39M] [TODO] Planning attempt 2/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Planning attempt 3/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: python_sdk {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 14 tools (was 92+) - 85% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:17 [[31MERROR[39M] [MCP-TODO] Failed to plan tools for item 2.1: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"2.1","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1132:24)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execut..."}}
2025-10-29 15:04:17 [[33MWARN[39M] [TODO] Planning attempt 3/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:17 [[31MERROR[39M] [STAGE-2.1-MCP] ‚ùå Tool planning failed: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:04:17 [[31MERROR[39M] Stack trace: Error: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes')
    at MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:969:11)
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)
    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-plan-tools-processor.js:182:26)
    at async executeWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/executor-v3.js:1300:30)
    at async file:///Users/dev/Documents/GitHub/atlas4/orchestrator/api/routes/chat.routes.js:161:13 {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:04:17 [[33MWARN[39M] Tool planning failed for item 2.1: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:17 [[33MWARN[39M] Item 2.1 failed after 2 attempts {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:17 [[32MINFO[39M] [WORKFLOW] Stage stage - system: Stage 8-MCP: Generating final summary {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] üìä Generating final summary... {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] TODO: todo_1761743003221_re7gy03tz {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Mode: standard {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Items: 3 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Success rate: 33% {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Completed: 1 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Failed: 1 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Skipped: 0 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [[32MINFO[39M] [SYSTEM] mcp-todo: [TODO] Generating summary for TODO todo_1761743003221_re7gy03tz {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:27 [[32MINFO[39M] [SYSTEM] app: Shutting down gracefully... {"metadata":{"category":"system","component":"app"}}
2025-10-29 15:04:27 [[32MINFO[39M] [DI] Stopping services... {"metadata":{}}
2025-10-29 15:04:27 [[32MINFO[39M] [SYSTEM] shutdown: [DI] Session store cleared {"metadata":{"category":"system","component":"shutdown"}}
2025-10-29 15:04:27 [[32MINFO[39M] [SYSTEM] shutdown: [DI] WebSocket manager stopped {"metadata":{"category":"system","component":"shutdown"}}
2025-10-29 15:04:27 [[32MINFO[39M] [DI] All services stopped {"metadata":{}}
2025-10-29 15:04:29 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Tone: critical {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:29 [[32MINFO[39M] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] ‚úÖ Summary generated {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:29 [[32MINFO[39M] [SYSTEM] executor: [ATLAS-FINAL] ‚úÖ Final completion message sent {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:29 [[32MINFO[39M] [WORKFLOW] Stage complete - mcp: MCP workflow completed {"metadata":{"category":"workflow","stage":"complete","agent":"mcp","sessionId":"default","duration":76549,"metrics":"undefined"}}
2025-10-29 15:04:29 [[32MINFO[39M] [HTTP] POST /chat/stream 200 (76554ms) {"metadata":{"category":"http","method":"POST","url":"/chat/stream","status":200,"duration":76554,"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap..."}}
2025-10-29 15:04:35 [[32MINFO[39M] [SYSTEM] shutdown: Application stopped successfully {"metadata":{"category":"system","component":"shutdown"}}
ments/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1132:24)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-plan-tools-processor.js:182:26)\n    a..."}}
2025-10-29 15:04:15 [WARN] [TODO] Planning attempt 2/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-todo: [TODO] Planning attempt 3/3 with atlas-gpt-4o {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-todo: [TODO] üéØ Using 1 pre-selected servers: python_sdk {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-todo: [TODO] üéØ Filtered to 14 tools (was 92+) - 85% reduction {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-todo: [TODO] üéØ Using specialized prompt: TETYANA_PLAN_TOOLS_PYTHON_SDK {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:17 [ERROR] [MCP-TODO] Failed to plan tools for item 2.1: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo","itemId":"2.1","errorName":"TypeError","stack":"TypeError: Cannot read properties of undefined (reading 'includes')\n    at MCPTodoManager._planToolsAttempt (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:1132:24)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at process.processTimers (node:internal/timers:520:9)\n    at async MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:948:24)\n    at async TetyanaPlanToolsProcessor.execut..."}}
2025-10-29 15:04:17 [WARN] [TODO] Planning attempt 3/3 failed: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"mcp-todo","component":"mcp-todo"}}
2025-10-29 15:04:17 [ERROR] [STAGE-2.1-MCP] ‚ùå Tool planning failed: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:04:17 [ERROR] Stack trace: Error: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes')
    at MCPTodoManager.planTools (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/mcp-todo-manager.js:969:11)
    at runNextTicks (node:internal/process/task_queues:65:5)
    at process.processTimers (node:internal/timers:520:9)
    at async TetyanaPlanToolsProcessor.execute (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/stages/tetyana-plan-tools-processor.js:182:26)
    at async executeWorkflow (file:///Users/dev/Documents/GitHub/atlas4/orchestrator/workflow/executor-v3.js:1300:30)
    at async file:///Users/dev/Documents/GitHub/atlas4/orchestrator/api/routes/chat.routes.js:161:13 {"metadata":{"category":"tetyana-plan-tools","component":"tetyana-plan-tools"}}
2025-10-29 15:04:17 [WARN] Tool planning failed for item 2.1: Tool planning failed after 3 attempts: Tool planning failed: Cannot read properties of undefined (reading 'includes') {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:17 [WARN] Item 2.1 failed after 2 attempts {"metadata":{"sessionId":"default"}}
2025-10-29 15:04:17 [INFO] [WORKFLOW] Stage stage - system: Stage 8-MCP: Generating final summary {"metadata":{"category":"workflow","stage":"stage","agent":"system","sessionId":"default"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] üìä Generating final summary... {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] TODO: todo_1761743003221_re7gy03tz {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Mode: standard {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Items: 3 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Success rate: 33% {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Completed: 1 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Failed: 1 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Skipped: 0 {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:17 [INFO] [SYSTEM] mcp-todo: [TODO] Generating summary for TODO todo_1761743003221_re7gy03tz {"metadata":{"category":"system","component":"mcp-todo"}}
2025-10-29 15:04:27 [INFO] [SYSTEM] app: Shutting down gracefully... {"metadata":{"category":"system","component":"app"}}
2025-10-29 15:04:27 [INFO] [DI] Stopping services... {"metadata":{}}
2025-10-29 15:04:27 [INFO] [SYSTEM] shutdown: [DI] Session store cleared {"metadata":{"category":"system","component":"shutdown"}}
2025-10-29 15:04:27 [INFO] [SYSTEM] shutdown: [DI] WebSocket manager stopped {"metadata":{"category":"system","component":"shutdown"}}
2025-10-29 15:04:27 [INFO] [DI] All services stopped {"metadata":{}}
2025-10-29 15:04:29 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] Tone: critical {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:29 [INFO] [SYSTEM] mcp-final-summary: [STAGE-8-MCP] ‚úÖ Summary generated {"metadata":{"category":"system","component":"mcp-final-summary"}}
2025-10-29 15:04:29 [INFO] [SYSTEM] executor: [ATLAS-FINAL] ‚úÖ Final completion message sent {"metadata":{"category":"system","component":"executor"}}
2025-10-29 15:04:29 [INFO] [WORKFLOW] Stage complete - mcp: MCP workflow completed {"metadata":{"category":"workflow","stage":"complete","agent":"mcp","sessionId":"default","duration":76549,"metrics":"undefined"}}
2025-10-29 15:04:29 [INFO] [HTTP] POST /chat/stream 200 (76554ms) {"metadata":{"category":"http","method":"POST","url":"/chat/stream","status":200,"duration":76554,"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap..."}}
2025-10-29 15:04:35 [INFO] [SYSTEM] shutdown: Application stopped successfully {"metadata":{"category":"system","component":"shutdown"}}
