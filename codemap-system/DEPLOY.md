# 🚀 Розгортання (Deploy)

Один файл для повного розгортання Codemap Analyzer.

## ⚡ Швидкий старт (30 секунд)

### Способ 1: Один скрипт

```bash
# Скопіюй папку
cp -r codemap /path/to/your/project

# Перейди в папку
cd /path/to/your/project

# Запусти розгортання
./deploy.sh
```

Готово! Система розгорнута і працює в режимі постійного спостереження.

### Способ 2: Прямо з GitHub

```bash
# Клонуй
git clone https://github.com/yourusername/codemap.git
cd codemap

# Запусти
./deploy.sh
```

## 📋 Що робить deploy.sh

### 1️⃣ Перевірки (30 сек)
- ✅ Python 3.8+
- ✅ pip
- ✅ Файли проєкту
- ✅ Windsurf workflows

### 2️⃣ Встановлення (1 хв)
- ✅ Залежності Python
- ✅ Перевірка залежностей

### 3️⃣ Налаштування (30 сек)
- ✅ Папка для звітів
- ✅ Windsurf налаштування
- ✅ Pre-commit hook (опціонально)

### 4️⃣ Перший аналіз (1-5 хв)
- ✅ Повний аналіз проєкту
- ✅ Генерація звітів
- ✅ Перевірка звітів

### 5️⃣ Постійне спостереження (∞)
- ✅ Запуск watch mode
- ✅ Автоматичне оновлення при змінах
- ✅ Готовність для Windsurf

## 🎯 Результат

```
✅ Система розгорнута
✅ Звіти створені
✅ Windsurf готовий
✅ Постійне спостереження активне

Щоб зупинити: Ctrl+C
```

## 📊 Звіти

Після розгортання в папці `reports/`:

```
reports/
├── CODEMAP_SUMMARY.md       # Для Cascade
├── codemap_analysis.json    # Повні дані
└── codemap_analysis.html    # HTML звіт
```

## 🪟 Windsurf

Після розгортання можеш використовувати:

```
Ctrl+L → /update-codemap
Ctrl+L → /analyze-dead-code
Ctrl+L → /detect-cycles
Ctrl+L → /refactor-with-context
```

## 🔄 Повторне запущення

Якщо запустити `./deploy.sh` ще раз:

1. Перевіряє, чи система вже розгорнута
2. Якщо так → запускає watch mode
3. Якщо ні → повне розгортання

```bash
./deploy.sh
# Якщо вже розгорнута → запускає watch mode
# Якщо ні → повне розгортання
```

## 🛑 Зупинення

```bash
# Ctrl+C в терміналі де запущено deploy.sh
```

## 🔧 Налаштування

Перед запуском `./deploy.sh` можеш налаштувати `config.yaml`:

```yaml
project:
  name: "My Project"
  root: "./"

analysis:
  include_paths:
    - "src"
    - "lib"
  exclude_paths:
    - "node_modules"
    - "__pycache__"
```

## 📝 Логування

Скрипт показує детальний прогрес:

```
🚀 CODEMAP ANALYZER - РОЗГОРТАННЯ

╔════════════════════════════════════════════════════════════╗
║ 📋 КРОК 1: ПЕРЕВІРКИ
╚════════════════════════════════════════════════════════════╝

▶ Перевіряю Python...
✅ Python3: 3.11

▶ Перевіряю pip...
✅ pip3: 24.0

▶ Перевіряю файли проєкту...
✅ Всі необхідні файли присутні

▶ Перевіряю Windsurf workflows...
✅ Workflows готові (4 файлів)

╔════════════════════════════════════════════════════════════╗
║ 📦 КРОК 2: ВСТАНОВЛЕННЯ
╚════════════════════════════════════════════════════════════╝

▶ Встановлюю залежності Python...
✅ Залежності встановлені

▶ Перевіряю залежності...
✅ Всі залежності доступні

╔════════════════════════════════════════════════════════════╗
║ ⚙️ КРОК 3: НАЛАШТУВАННЯ
╚════════════════════════════════════════════════════════════╝

▶ Створюю папку для звітів...
✅ Папка reports/ готова

▶ Налаштовую Windsurf...
✅ Windsurf налаштування готові

▶ Налаштовую pre-commit hook...
✅ Pre-commit hook встановлено

╔════════════════════════════════════════════════════════════╗
║ 🔍 КРОК 4: ПЕРШИЙ АНАЛІЗ
╚════════════════════════════════════════════════════════════╝

▶ Запускаю перший аналіз проєкту...

🔍 Starting project analysis...
📁 Found 42 files to analyze
✅ Reports generated in reports/

▶ Перевіряю звіти...
✅ Всі звіти створені

╔════════════════════════════════════════════════════════════╗
║ 🎉 РОЗГОРТАННЯ ЗАВЕРШЕНО!
╚════════════════════════════════════════════════════════════╝

Система готова до роботи!

📊 Звіти створені в: reports/
  - CODEMAP_SUMMARY.md (для Cascade)
  - codemap_analysis.json (повні дані)
  - codemap_analysis.html (HTML звіт)

🪟 Windsurf workflows готові:
  - /update-codemap
  - /analyze-dead-code
  - /detect-cycles
  - /refactor-with-context

🔄 Запускаю постійне спостереження...
   (Звіти будуть оновлюватися при кожній зміні коду)

Щоб зупинити: Ctrl+C

👁️  Watching for changes...
✅ Analysis complete at 20:30:45
✅ Analysis complete at 20:30:50
✅ Analysis complete at 20:30:55
```

## ✅ Чек-лист

- [ ] Скопіював папку `codemap`
- [ ] Перейшов в папку `cd codemap`
- [ ] Запустив `./deploy.sh`
- [ ] Чекав завершення розгортання
- [ ] Переглянув звіти в `reports/`
- [ ] Тестував workflows в Windsurf

## 🎯 Наступні кроки

1. **Налаштуй для твого проєкту:**
   ```bash
   vim config.yaml
   ```

2. **Перезапусти аналіз:**
   ```bash
   Ctrl+C  # Зупини watch mode
   ./deploy.sh  # Перезапусти
   ```

3. **Використовуй з Windsurf:**
   ```
   Ctrl+L → /update-codemap
   ```

## 🐛 Розв'язання проблем

### Помилка: "Permission denied"

```bash
chmod +x deploy.sh
./deploy.sh
```

### Помилка: "Python3 not found"

Встанови Python 3.8+:
- macOS: `brew install python3`
- Ubuntu: `sudo apt install python3`
- Windows: https://www.python.org

### Помилка: "pip3 not found"

```bash
python3 -m pip install --upgrade pip
```

### Помилка: "Залежності не встановлені"

```bash
pip3 install -r requirements.txt
./deploy.sh
```

## 📞 Підтримка

Якщо щось не працює:

1. Перевір логи скрипту
2. Перевір `config.yaml`
3. Запусти вручну: `python3 codemap_analyzer.py --once`
4. Перевір помилки в консолі

## 🎉 Готово!

Твоя система аналізу коду розгорнута і готова до роботи! 🚀

```bash
./deploy.sh
```

Cascade матиме 100% контекст твого проєкту! 🎉
