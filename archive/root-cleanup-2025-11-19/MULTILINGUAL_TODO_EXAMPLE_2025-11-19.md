# –ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥: –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ TODO items (2025-11-19)

## üåç –û–¥–∏–Ω –ø–ª–∞–Ω - –±–∞–≥–∞—Ç–æ –º–æ–≤

### –û–¥–∏–Ω TODO –ø–ª–∞–Ω (–±–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∏–π):

```json
{
  "id": "todo_1",
  "user_message": "Open calculator and add 27",
  "items": [
    {
      "id": "1",
      "action": "Open Calculator application",
      "action_uk": "–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º—É",
      "action_es": "Abrir aplicaci√≥n Calculadora",
      "action_fr": "Ouvrir l'application Calculatrice",
      "action_de": "√ñffnen Sie die Rechner-Anwendung",
      "action_pl": "Otw√≥rz aplikacjƒô Kalkulator",
      "action_ru": "–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
      
      "success_criteria": "Calculator application window is visible on the screen",
      "success_criteria_uk": "–í—ñ–∫–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–∏ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤–∏–¥–∏–º–æ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ",
      "success_criteria_es": "La ventana de la aplicaci√≥n Calculadora es visible en la pantalla",
      "success_criteria_fr": "La fen√™tre de l'application Calculatrice est visible √† l'√©cran",
      "success_criteria_de": "Das Fenster der Rechner-Anwendung ist auf dem Bildschirm sichtbar",
      "success_criteria_pl": "Okno aplikacji Kalkulator jest widoczne na ekranie",
      "success_criteria_ru": "–û–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤–∏–¥–Ω–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ",
      
      "status": "pending",
      "dependencies": []
    },
    {
      "id": "2",
      "action": "Add 27 in Calculator",
      "action_uk": "–î–æ–¥–∞—Ç–∏ 27 –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ñ",
      "action_es": "Agregar 27 en Calculadora",
      "action_fr": "Ajouter 27 √† la Calculatrice",
      "action_de": "27 im Taschenrechner hinzuf√ºgen",
      "action_pl": "Dodaj 27 w Kalkulatorze",
      "action_ru": "–î–æ–±–∞–≤–∏—Ç—å 27 –≤ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
      
      "success_criteria": "Calculator display shows 915",
      "success_criteria_uk": "–î–∏—Å–ø–ª–µ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –ø–æ–∫–∞–∑—É—î 915",
      "success_criteria_es": "La pantalla de la calculadora muestra 915",
      "success_criteria_fr": "L'√©cran de la calculatrice affiche 915",
      "success_criteria_de": "Der Taschenrechner zeigt 915 an",
      "success_criteria_pl": "Kalkulator wy≈õwietla 915",
      "success_criteria_ru": "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 915",
      
      "status": "pending",
      "dependencies": ["1"]
    }
  ]
}
```

---

## üé≠ –í–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –º–æ–≤

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: USER_LANGUAGE=uk (–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞)

```
.env: USER_LANGUAGE=uk

Executor:
  userLanguage = 'uk'
  actionFieldName = 'action_uk'
  actionForTts = item.action_uk

–†–µ–∑—É–ª—å—Ç–∞—Ç:
  [TETYANA]–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º—É ‚úÖ
  [GRISHA]–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ
  [TETYANA]–î–æ–¥–∞—Ç–∏ 27 –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ñ ‚úÖ
  [GRISHA]–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ
```

---

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: USER_LANGUAGE=es (–Ü—Å–ø–∞–Ω—Å—å–∫–∞)

```
.env: USER_LANGUAGE=es

Executor:
  userLanguage = 'es'
  actionFieldName = 'action_es'
  actionForTts = item.action_es

–†–µ–∑—É–ª—å—Ç–∞—Ç:
  [TETYANA]Abrir aplicaci√≥n Calculadora ‚úÖ
  [GRISHA]Confirmado
  [TETYANA]Agregar 27 en Calculadora ‚úÖ
  [GRISHA]Confirmado
```

---

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: USER_LANGUAGE=fr (–§—Ä–∞–Ω—Ü—É–∑—å–∫–∞)

```
.env: USER_LANGUAGE=fr

Executor:
  userLanguage = 'fr'
  actionFieldName = 'action_fr'
  actionForTts = item.action_fr

–†–µ–∑—É–ª—å—Ç–∞—Ç:
  [TETYANA]Ouvrir l'application Calculatrice ‚úÖ
  [GRISHA]Confirm√©
  [TETYANA]Ajouter 27 √† la Calculatrice ‚úÖ
  [GRISHA]Confirm√©
```

---

### –°—Ü–µ–Ω–∞—Ä—ñ–π 4: USER_LANGUAGE=de (–ù—ñ–º–µ—Ü—å–∫–∞)

```
.env: USER_LANGUAGE=de

Executor:
  userLanguage = 'de'
  actionFieldName = 'action_de'
  actionForTts = item.action_de

–†–µ–∑—É–ª—å—Ç–∞—Ç:
  [TETYANA]√ñffnen Sie die Rechner-Anwendung ‚úÖ
  [GRISHA]Best√§tigt
  [TETYANA]27 im Taschenrechner hinzuf√ºgen ‚úÖ
  [GRISHA]Best√§tigt
```

---

## üîÑ –ö–æ–¥: –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

### 1. LLM –≥–µ–Ω–µ—Ä—É—î –±–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∏–π –ø–ª–∞–Ω

```javascript
// atlas-todo-planning-processor.js
const llmPrompt = `
Create a TODO plan for: "Open calculator and add 27"

For EACH item, generate versions in ALL languages:
- action_en, action_uk, action_es, action_fr, action_de, action_pl, action_ru
- success_criteria_en, success_criteria_uk, success_criteria_es, ...

Return JSON array with items.
`;

const llmResponse = await llmClient.call(llmPrompt);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: [
//   {
//     "id": "1",
//     "action_en": "Open Calculator application",
//     "action_uk": "–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º—É",
//     "action_es": "Abrir aplicaci√≥n Calculadora",
//     ...
//   },
//   ...
// ]
```

### 2. MCPTodoManager –∑–±–µ—Ä—ñ–≥–∞—î –≤—Å—ñ –≤–µ—Ä—Å—ñ—ó

```javascript
// mcp-todo-manager.js
async createTodo(request, context = {}) {
  const llmResponse = await this.llmClient.call(prompt);
  
  const todo = {
    id: generateId(),
    user_message: request,
    items: llmResponse.map(item => ({
      id: item.id,
      // –ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º–∏
      action: item.action_en,
      success_criteria: item.success_criteria_en,
      
      // –í—Å—ñ –º–æ–≤–∏
      action_uk: item.action_uk,
      action_es: item.action_es,
      action_fr: item.action_fr,
      action_de: item.action_de,
      action_pl: item.action_pl,
      action_ru: item.action_ru,
      
      success_criteria_uk: item.success_criteria_uk,
      success_criteria_es: item.success_criteria_es,
      success_criteria_fr: item.success_criteria_fr,
      success_criteria_de: item.success_criteria_de,
      success_criteria_pl: item.success_criteria_pl,
      success_criteria_ru: item.success_criteria_ru,
      
      status: "pending",
      dependencies: item.dependencies || [],
      max_attempts: 3
    }))
  };
  
  return todo;
}
```

### 3. Executor –≤–∏–±–∏—Ä–∞—î –º–æ–≤—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

```javascript
// executor-v3.js (—Ä—è–¥–æ–∫ 1787-1789)
if (ttsSyncManager && item.action) {
  try {
    // –û–ü–¢–ò–ú–Ü–ó–û–í–ê–ù–û: –í–∏–±–∏—Ä–∞—î–º–æ –º–æ–≤—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    const userLanguage = localizationService.config.getUserLanguage();
    const actionFieldName = `action_${userLanguage}`;
    
    // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≥–æ—Ç–æ–≤—É –≤–µ—Ä—Å—ñ—é –Ω–∞ –º–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    const actionForTts = item[actionFieldName] || item.action;
    
    logger.system('executor', 
      `[TTS] üîä Tetyana START: "${actionForTts}" (lang: ${userLanguage})`
    );
    
    await ttsSyncManager.speak(actionForTts, {
      mode: 'normal',
      agent: 'tetyana',
      sessionId: session.id
    });
  } catch (error) {
    logger.error(`[TTS] ‚ùå Failed to send TTS: ${error.message}`);
  }
}
```

### 4. Grisha –≤–µ—Ä–∏—Ñ—ñ–∫—É—î –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é

```javascript
// grisha-verify-item-processor.js
async verifyItem(item, screenshot) {
  // –ó–ê–í–ñ–î–ò –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∞–Ω–≥–ª—ñ–π—Å—å–∫—É –¥–ª—è –ª–æ–≥—ñ–∫–∏
  const successCriteria = item.success_criteria;  // –ê–Ω–≥–ª—ñ–π—Å—å–∫–∞
  
  // –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è
  const visionAnalysis = await this.visionAnalysis.analyzeScreenshot(
    screenshot.filepath,
    successCriteria,  // –ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –¥–ª—è LLM –∞–Ω–∞–ª—ñ–∑—É
    analysisContext
  );
  
  // –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
  if (visionAnalysis.verified) {
    this.logger.system('grisha-verify-item', 
      `[GRISHA] ‚úÖ Verified: ${item.action}`
    );
  }
}
```

### 5. LocalizationService –∑ fallback

```javascript
// localization-service.js
translateTodoItem(item) {
  const userLang = this.config.getUserLanguage();
  const actionFieldName = `action_${userLang}`;
  const criteriaFieldName = `success_criteria_${userLang}`;
  
  // –Ø–∫—â–æ –≤–∂–µ —î –±–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ –≤–µ—Ä—Å—ñ—ó
  if (item[actionFieldName]) {
    return {
      system: { 
        ...item, 
        action: item.action,
        success_criteria: item.success_criteria
      },
      user: { 
        ...item, 
        action: item[actionFieldName],
        success_criteria: item[criteriaFieldName]
      }
    };
  }
  
  // Fallback: –ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏ —è–∫ —Ä–∞–Ω—ñ—à–µ
  return {
    system: { ...item, action: this.ensureEnglish(item.action) },
    user: { 
      ...item, 
      action: this.translateToUser(item.action),
      success_criteria: this.translateToUser(item.success_criteria)
    }
  };
}
```

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è: –†—ñ–∑–Ω—ñ –º–æ–≤–∏

### –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ (uk):
```
[TETYANA]–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º—É
[TETYANA]–î–æ–¥–∞—Ç–∏ 27 –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ñ
```

### –Ü—Å–ø–∞–Ω—Å—å–∫–∞ (es):
```
[TETYANA]Abrir aplicaci√≥n Calculadora
[TETYANA]Agregar 27 en Calculadora
```

### –§—Ä–∞–Ω—Ü—É–∑—å–∫–∞ (fr):
```
[TETYANA]Ouvrir l'application Calculatrice
[TETYANA]Ajouter 27 √† la Calculatrice
```

### –ù—ñ–º–µ—Ü—å–∫–∞ (de):
```
[TETYANA]√ñffnen Sie die Rechner-Anwendung
[TETYANA]27 im Taschenrechner hinzuf√ºgen
```

### –ü–æ–ª—å—Å—å–∫–∞ (pl):
```
[TETYANA]Otw√≥rz aplikacjƒô Kalkulator
[TETYANA]Dodaj 27 w Kalkulatorze
```

### –†–æ—Å—ñ–π—Å—å–∫–∞ (ru):
```
[TETYANA]–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
[TETYANA]–î–æ–±–∞–≤–∏—Ç—å 27 –≤ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
```

---

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏

### ‚úÖ –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ—Å—Ç—å
- –û–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤—Å—ñ—Ö –º–æ–≤
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–±–∏—Ä–∞—î –º–æ–≤—É –≤ `.env`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è

### ‚úÖ –Ø–∫—ñ—Å—Ç—å
- LLM –≥–µ–Ω–µ—Ä—É—î –ø—Ä–∏—Ä–æ–¥–Ω—ñ —Ñ—Ä–∞–∑–∏
- –ë–µ–∑ –∑–º—ñ—à—É–≤–∞–Ω–Ω—è –º–æ–≤
- –¢–æ—á–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏

### ‚úÖ –ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –º–æ–≤—É
- –ü—Ä–æ—Å—Ç–æ –¥–æ–¥–∞—Ç–∏ `action_[lang]` –ø–æ–ª–µ
- –ù–µ–º–∞—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –≤—ñ–¥ —Å–ª–æ–≤–Ω–∏–∫–∞

### ‚úÖ –®–≤–∏–¥–∫—ñ—Å—Ç—å
- –ù–µ–º–∞—î –ø–µ—Ä–µ–∫–ª–∞–¥—É –≤ runtime
- –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≥–æ—Ç–æ–≤–æ—ó —Ñ—Ä–∞–∑–∏
- –®–≤–∏–¥—à–µ, –Ω—ñ–∂ regex –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

---

## üåç –Ø–∫ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –º–æ–≤—É

### –ö—Ä–æ–∫ 1: –î–æ–¥–∞—Ç–∏ –º–æ–≤—É –≤ –∫–æ–Ω—Ñ—ñ–≥

**–§–∞–π–ª:** `/config/localization-config.js`

```javascript
SUPPORTED_LANGUAGES: {
  'uk': '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',
  'en': 'English',
  'es': 'Espa√±ol',
  'fr': 'Fran√ßais',
  'de': 'Deutsch',
  'pl': 'Polski',
  'ru': '–†—É—Å—Å–∫–∏–π',
  'it': 'Italiano'  // –ù–æ–≤–∞ –º–æ–≤–∞
}
```

### –ö—Ä–æ–∫ 2: –û–Ω–æ–≤–∏—Ç–∏ LLM –ø—Ä–æ–º–ø—Ç

**–§–∞–π–ª:** `/prompts/mcp/atlas_todo_planning.js`

```javascript
// –î–æ–¥–∞—Ç–∏ –≤ —Å–ø–∏—Å–æ–∫ –º–æ–≤
"- action_it (Italian)
 - success_criteria_it (Italian)"
```

### –ö—Ä–æ–∫ 3: –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏–º–µ `action_it` –ø—Ä–∏ `USER_LANGUAGE=it`

---

## üìù –í–∏—Å–Ω–æ–≤–æ–∫

**–ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ TODO items –¥–æ–∑–≤–æ–ª—è—é—Ç—å:**
- ‚úÖ –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø–ª–∞–Ω –æ–¥–∏–Ω —Ä–∞–∑ (LLM)
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö –º–æ–≤
- ‚úÖ –í–∏–±–∏—Ä–∞—Ç–∏ –º–æ–≤—É –≤ –∫–æ–Ω—Ñ—ñ–≥—É
- ‚úÖ –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —á–∏—Å—Ç—É –º–æ–≤—É –±–µ–∑ –ø–µ—Ä–µ–∫–ª–∞–¥—É
- ‚úÖ –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ –Ω–∞ –Ω–æ–≤—ñ –º–æ–≤–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞, –±–∞–≥–∞—Ç–æ –º–æ–≤! üåç
