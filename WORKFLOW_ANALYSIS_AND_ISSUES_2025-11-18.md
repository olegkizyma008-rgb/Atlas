# Workflow Analysis & Issues ‚Äì 2025-11-18

## 1. –ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

- **–ú–µ—Ç–∞**: –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –ø–æ—Ç–æ—á–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–æ—Ä–∫—Ñ–ª–æ—É –≤ Atlas Orchestrator —Ç–∞ –∑–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ –≤—Å—ñ –ø—Ä–æ–±–ª–µ–º–∏, –¥—É–±–ª—é–≤–∞–Ω–Ω—è –ª–æ–≥—ñ–∫–∏, –Ω–µ–¥–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–ø–∞–¥–∫–∏ –Ω–µ–≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–¥–∞—á.
- **–î–∂–µ—Ä–µ–ª–∞ –¥–∞–Ω–∏—Ö**:
  - —Å–≤—ñ–∂–∏–π –ª–æ–≥ `logs/orchestrator.log` (2025-11-18 16:45‚Äì16:49);
  - –∫–æ–¥ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∑–æ–∫—Ä–µ–º–∞:
    - `orchestrator/workflow/executor-v3.js` ‚Äì MCP Dynamic TODO workflow executor;
    - `orchestrator/workflow/state-machine.js` ‚Äì Workflow State Machine;
    - `orchestrator/workflow/hybrid/hybrid-executor.js` ‚Äì Hybrid Workflow Executor;
    - `orchestrator/ai/optimized-workflow-manager.js` ‚Äì Optimized Workflow Manager;
    - `orchestrator/ai/optimized-executor.js` ‚Äì Optimized Executor;
    - `orchestrator/core/service-registry.js`, `orchestrator/core/optimization-integration.js` ‚Äì DI —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π;
    - `orchestrator/eternity/eternity-integration.js` ‚Äì —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –º–æ–¥—É–ª—è —Å–∞–º–æ–≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è (Eternity/Nexus).
- **–ö–µ–π—Å –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É**: —Å–∫–ª–∞–¥–Ω–∏–π TASK‚Äë–∑–∞–ø–∏—Ç (HackLab‚Äë—Å—Ü–µ–Ω–∞—Ä—ñ–π) –∑ TODO —ñ–∑ 7 –ø—É–Ω–∫—Ç—ñ–≤: –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –æ–±—á–∏—Å–ª–µ–Ω–Ω—è, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞–ø–∫–∏ HackLab, –ø–æ—à—É–∫/–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —à–ø–∞–ª–µ—Ä, –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤ —Ñ–∞–π–ª.

---

## 2. –ü–æ—Ç–æ—á–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–æ—Ä–∫—Ñ–ª–æ—É

### 2.1 MCP Dynamic TODO Workflow (`executor-v3.js`)

–û—Å–Ω–æ–≤–Ω–∏–π ¬´–∂–∏–≤–∏–π¬ª –≤–æ—Ä–∫—Ñ–ª–æ—É, —è–∫–∏–π —Ä–µ–∞–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è TASK‚Äë—Ä–µ–∂–∏–º—É.

- **Stage 0-MCP: Mode Selection**
  - –ü—Ä–æ—Ü–µ—Å–æ—Ä: `modeSelectionProcessor` (—á–µ—Ä–µ–∑ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä).
  - –í–∏–∑–Ω–∞—á–∞—î —Ä–µ–∂–∏–º: `chat` / `task` / `dev`, –∑ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º reasoning —Ç–∞ mood.
  - –Ñ –æ–∫—Ä–µ–º–∞ –≥—ñ–ª–∫–∞ –¥–ª—è DEV‚Äë—Ä–µ–∂–∏–º—É (–≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π Nexus self-analysis), –≤–∫–ª—é—á–Ω–æ –∑ –ø–∞—Ä–æ–ª—å–Ω–∏–º –∑–∞—Ö–∏—Å—Ç–æ–º (`mykola`).

- **Stage 0.5-MCP: Context Enrichment**
  - –ü—Ä–æ—Ü–µ—Å–æ—Ä: `atlasContextEnrichmentProcessor`.
  - –ü–µ—Ä–µ–ø–∏—Å—É—î –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç —É –±—ñ–ª—å—à —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—É —Ñ–æ—Ä–º—É, –¥–æ–¥–∞—î –º–µ—Ç–∞–¥–∞–Ω—ñ (—Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ –≤–∏–º–æ–≥–∏, –ø–µ—Ä–µ–¥—É–º–æ–≤–∏).
  - –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ, —â–æ —Å–∞–º–µ –∑–±–∞–≥–∞—á–µ–Ω–∏–π —Ç–µ–∫—Å—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è TODO‚Äë–ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è.

- **Stage 1-MCP: Atlas TODO Planning**
  - –ü—Ä–æ—Ü–µ—Å–æ—Ä: `atlasTodoPlanningProcessor` + `MCPTodoManager`.
  - –°—Ç–≤–æ—Ä—é—î TODO‚Äë—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑ –ø—É–Ω–∫—Ç–∞–º–∏, –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏, `max_attempts`, –ø–æ–ª—è–º–∏ `action`/`action_uk`, TTS‚Äë—Ñ—Ä–∞–∑–∞–º–∏ —Ç–æ—â–æ.
  - –ü—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è:
    - **extended mode** (—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –ø–ª–∞–Ω —ñ–∑ –ø—ñ–¥–ø—É–Ω–∫—Ç–∞–º–∏ –π –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏);
    - **chat fallback mode** (—è–∫—â–æ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –ø–∞–¥–∞—î).

- **Stage 2.0-MCP: Server Selection**
  - –ü—Ä–æ—Ü–µ—Å–æ—Ä: `serverSelectionProcessor`.
  - –ü—Ä–∞—Ü—é—î —Ä–∞–∑–æ–º —ñ–∑ —à–≤–∏–¥–∫–∏–º –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º `routerClassifier` (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π).
  - –û–±–∏—Ä–∞—î MCP‚Äë—Å–µ—Ä–≤–µ—Ä–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `applescript`, `filesystem`, `playwright`) –∑ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π Atlas —Ç–∞ —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É.

- **Stage 2.1-MCP: Tetyana Plan Tools**
  - –ü—Ä–æ—Ü–µ—Å–æ—Ä: `tetyanaPlanToolsProcessor` + `TetyanaToolSystem` + `MCPTodoManager.planTools()`.
  - –ì–æ—Ç—É—î —Å–ø–∏—Å–æ–∫ tool calls –¥–ª—è –æ–±—Ä–∞–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤.
  - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ `ValidationPipeline` (self-correction validation) –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø–ª–∞–Ω—É.

- **Stage 2.2-MCP: Tetyana Execute Tools**
  - –ü—Ä–æ—Ü–µ—Å–æ—Ä: `tetyanaExecuteToolsProcessor`.
  - –í–∏–∫–æ–Ω—É—î tool calls —á–µ—Ä–µ–∑ `TetyanaToolSystem` + `tool-dispatcher`.
  - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ TTS (`TTSSyncManager`): –¢–µ—Ç—è–Ω–∞ –æ–∑–≤—É—á—É—î –ø–æ—á–∞—Ç–æ–∫/—É—Å–ø—ñ—à–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–¥–∞—á.

- **Stage 2.3-MCP: Grisha Verify Item**
  - –ü—Ä–æ—Ü–µ—Å–æ—Ä: `grishaVerifyItemProcessor`.
  - –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —Ñ–∞–∫—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω—ñ –¥—ñ—ó (—É —Ç.—á. —á–µ—Ä–µ–∑ –≤—ñ–∑—É–∞–ª—å–Ω—ñ –¥–æ–∫–∞–∑–∏ / —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏).
  - –ü—ñ–¥—Ç—Ä–∏–º—É—î adaptive delay –ø–µ—Ä–µ–¥ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é (_getVerificationDelay), —â–æ–± –¥–æ—á–µ–∫–∞—Ç–∏—Å—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –∞–ø–ª—ñ–∫–∞—Ü—ñ–π —Ç–æ—â–æ.

- **Stage 3.x-MCP: Replan / Deep Analysis**
  - `atlasReplanTodoProcessor` –º–æ–∂–µ:
    - —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—ñ –ø—ñ–¥–ø—É–Ω–∫—Ç–∏ TODO —ñ–∑ —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–∏–º–∏ ID (—á–µ—Ä–µ–∑ `HierarchicalIdManager`);
    - –ø–æ–∑–Ω–∞—á–∞—Ç–∏ –ø—É–Ω–∫—Ç–∏ —è–∫ `replanned`, `skipped` –∞–±–æ `failed`;
    - –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç–∏–π re‚Äëtry —ñ–∑ –∫–æ—Ä–µ–∫—Ü—ñ—î—é –ø–ª–∞–Ω—É.

- **Stage 8-MCP: Final Summary**
  - –ü—Ä–æ—Ü–µ—Å–æ—Ä: `mcpFinalSummaryProcessor`.
  - –ì–µ–Ω–µ—Ä—É—î —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π –ø—ñ–¥—Å—É–º–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è TODO (—É—Å–ø—ñ—Ö–∏/–Ω–µ–≤–¥–∞—á—ñ/–ø—Ä–æ–ø—É—Å–∫–∏).

–£—Å–µ —Ü–µ –ø—Ä–∞—Ü—é—î –≤ –æ–¥–Ω–æ–º—É –≤–µ–ª–∏–∫–æ–º—É –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É –≤–æ—Ä–∫—Ñ–ª–æ—É (`executeWorkflow`), –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—Ç–µ–π—Ç‚Äë–º–∞—à–∏–Ω–∏.

### 2.2 Workflow State Machine (`workflow/state-machine.js`)

- –û–∫—Ä–µ–º–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î —Ñ–æ—Ä–º–∞–ª—å–Ω—ñ —Å—Ç–∞–Ω–∏ –≤–æ—Ä–∫—Ñ–ª–æ—É:
  - `init`, `mode_selection`, `planning`, `server_selection`, `tool_planning`, `validating`, `executing`, `verifying`, `error_recovery`, `complete`, `failed`.
- –ú–∞—î:
  - —Ç–∞–±–ª–∏—Ü—é –¥–æ–ø—É—Å—Ç–∏–º–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤;
  - timeouts –Ω–∞ –∫–æ–∂–µ–Ω —Å—Ç–∞–Ω;
  - –º–µ—Ç—Ä–∏–∫–∏ –∑–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏;
  - callback‚Äô–∏ `state_enter` / `state_exit` / `onComplete` / `onFailure`.
- **–°—Ç–∞—Ç—É—Å —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó**: —Å—Ç–µ–π—Ç‚Äë–º–∞—à–∏–Ω–∞ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∞ –≤ DI —è–∫ `workflowStateMachine`, –∞–ª–µ –∑ –ø–æ—Ç–æ—á–Ω–∏—Ö –ª–æ–≥—ñ–≤ —ñ –∫–æ–¥—É –Ω–µ –≤–∏–¥–Ω–æ, —â–æ–± `executor-v3` —Ä–µ–∞–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ —ó—ó API. –õ–æ–≥—ñ–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ –¥—É–±–ª—é—î—Ç—å—Å—è –≤—Ä—É—á–Ω—É –≤ –∫–æ–¥—ñ.

### 2.3 Hybrid Workflow Executor (`workflow/hybrid/hybrid-executor.js`)

- –†–æ–∑—à–∏—Ä–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è:
  - –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≥—Ä—É–ø –∑–∞–¥–∞—á (WorkerPool);
  - hybrid‚Äë—Ä–µ–∂–∏–º—É (`ExecutionMode.SEQUENTIAL | PARALLEL | ADAPTIVE`);
  - —Ç—Ä–µ–∫—ñ–Ω–≥—É –º–µ—Ç—Ä–∏–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, cancellable execution, verification adapter.
- **–°—Ç–∞—Ç—É—Å —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó**:
  - `hybridWorkflowExecutor` –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π —É DI (—ñ –Ω–∞–≤—ñ—Ç—å –ª–æ–≥—É—é—Ç—å—Å—è onInit‚Äë–ø–æ–¥—ñ—ó);
  - —É –æ—Å–Ω–æ–≤–Ω–æ–º—É MCP TODO –≤–æ—Ä–∫—Ñ–ª–æ—É –≤–∏–∫–ª–∏–∫ —Ü—å–æ–≥–æ –µ–∫–∑–µ–∫—É—Ç–æ—Ä–∞ –Ω–µ –≤–∏–¥–Ω–æ ‚Äì –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤–ª–∞—Å–Ω–∏–π —Ü–∏–∫–ª –ø–æ TODO items;
  - —î —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ –¥–ª—è –≥—ñ–±—Ä–∏–¥–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏.

### 2.4 Optimized Workflow / Executor (`optimized-workflow-manager.js`, `optimized-executor.js`)

- **OptimizedWorkflowManager**:
  - –Ñ ¬´—Ç–æ–Ω–∫–æ—é –ø—Ä–æ–∫–ª–∞–¥–∫–æ—é¬ª –º—ñ–∂ `apiOptimizer` —ñ –≤–æ—Ä–∫—Ñ–ª–æ—É.
  - –†–æ–±–∏—Ç—å batch‚Äë–∑–∞–ø–∏—Ç `batchSystemSelection` –∑–∞–º—ñ—Å—Ç—å –æ–∫—Ä–µ–º–∏—Ö LLM‚Äë–≤–∏–∫–ª–∏–∫—ñ–≤ –¥–ª—è mode/server/tool selection.
  - –ú–∞—î –∫–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —á–µ—Ä–µ–∑ fingerprints, —â–æ–± –Ω–µ –¥—É–±–ª—é–≤–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ workflow –∑–∞–ø–∏—Ç–∏.

- **OptimizedExecutor**:
  - –ú–∞—î –º–µ—Ç–æ–¥ `executeWorkflow(userMessage, context)` —ñ —Å—É–º—ñ—Å–Ω–∏–π `processWorkflow`.
  - –î–ª—è **chat**, **task** —Ç–∞ **dev** —Ä–µ–∂–∏–º—ñ–≤ –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –≥—ñ–ª–∫–∏ (–º–µ–Ω—à–µ API‚Äë–≤–∏–∫–ª–∏–∫—ñ–≤, rate limiting —á–µ—Ä–µ–∑ `adaptiveThrottler`).
  - –ü—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ –ø–∞–¥–∞—î —É **fallback**: –≤–∏–∫–ª–∏–∫–∞—î —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏–π `executor.processWorkflow(userMessage, context)`.

- **–°—Ç–∞—Ç—É—Å —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó**:
  - DI —Ä–µ—î—Å—Ç—Ä—É—î `optimizedWorkflowManager`, `optimizedExecutor` —ñ `optimizationIntegration`.
  - `optimizationIntegration.verifyOptimizationServices()` —ñ `setupOptimizationMonitoring()` –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è –ø—Ä–∏ onInit.
  - –ú–µ—Ç–æ–¥ `enableOptimizedExecution(container)` (—è–∫–∏–π —Ä–µ–∞–ª—å–Ω–æ –º–∞–≤ –±–∏ –∑—Ä–æ–±–∏—Ç–∏ `container.register('executor', () => optimizedExecutor, { override: true })`) **–Ω—ñ–¥–µ –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è**.
  - –õ–æ–≥–∏ –≥–æ–≤–æ—Ä—è—Ç—å, —â–æ Optimized Executor ¬´replacing traditional executor¬ª, –∞–ª–µ —Ñ–∞–∫—Ç–∏—á–Ω–∞ –ø—ñ–¥–º—ñ–Ω–∞ –≤–∏–∫–æ–Ω–∞–≤—Ü—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.

### 2.5 Eternity / Nexus / Auto-Correction (`eternity-integration.js` + —ñ–Ω—à—ñ)

- **EternityIntegration**:
  - –ø—ñ–¥–∫–ª—é—á–∞—î `EternityModule` (—Å–∞–º–æ–∞–Ω–∞–ª—ñ–∑) —ñ `AutoCorrectionModule`;
  - –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —Ä–µ–∑–æ–ª–≤–∏—Ç–∏ `chatManager` —ñ **`workflowCoordinator`** (—è–∫–∏–π —É–∂–µ –≤–∏–¥–∞–ª–µ–Ω–∏–π) ‚Äì —É –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è `WorkflowCoordinator not available yet`;
  - —Å–ª—É—Ö–∞—î –ø–æ–¥—ñ—ó –≤—ñ–¥ –º–æ–¥—É–ª—ñ–≤ —ñ –∑–∞–ø—É—Å–∫–∞—î –ø–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ —Å–∞–º–æ–∞–Ω–∞–ª—ñ–∑–∏.

- **Nexus / Self-Improvement Engine**:
  - –∞–Ω–∞–ª—ñ–∑—É—î –ª–æ–≥–∏ (`NEXUS-LOGS`), —Ñ–æ—Ä–º—É—î TODO –Ω–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è;
  - –ø—Ä–æ–±—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–ø—Ä–∞–≤–ª—è—Ç–∏ –∫–æ–¥ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –±–∞–≥ —ñ–∑ `execResult is not defined`).

- **Auto-Correction Module**:
  - —Å–ª—É—Ö–∞—î –ø–æ–º–∏–ª–∫–∏, –¥–æ–¥–∞—î –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è, –º–æ–∂–µ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

---

## 3. –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –≤ –æ—Å—Ç–∞–Ω–Ω—å–æ–º—É –ø—Ä–æ–≥–æ–Ω—ñ (HackLab —Å—Ü–µ–Ω–∞—Ä—ñ–π)

### 3.1 –°—Ç–∞–¥—ñ—ó –≤–æ—Ä–∫—Ñ–ª–æ—É (–∑–∞ –ª–æ–≥–æ–º)

- **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏**
  - DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, MCP‚Äë—Å–µ—Ä–≤–µ—Ä–∏, Eternity/Nexus, Hybrid Executor, Optimized Workflow Manager ‚Äì —É—Å–µ —É—Å–ø—ñ—à–Ω–æ –ø—ñ–¥–Ω—ñ–º–∞—î—Ç—å—Å—è.

- **–ü–æ—á–∞—Ç–æ–∫ –≤–æ—Ä–∫—Ñ–ª–æ—É**
  - –í—Ö—ñ–¥–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: —Å–∫–ª–∞–¥–Ω–∏–π –∑–∞–ø–∏—Ç –∑ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º, HackLab –ø–∞–ø–∫–æ—é, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –π —É—Å—Ç–∞–Ω–æ–≤–∫–æ—é —à–ø–∞–ª–µ—Ä.
  - `Mode Selection` ‚Üí —Ä–µ–∂–∏–º `task` (confidence 0.99).
  - `Context Enrichment` –ø–µ—Ä–µ–ø–∏—Å—É—î –∑–∞–ø–∏—Ç —É –¥–µ—Ç–∞–ª—å–Ω—ñ macOS‚Äë–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó.

- **TODO-–ø–ª–∞–Ω (Atlas TODO Planning)** ‚Äì 7 –ø—É–Ω–∫—Ç—ñ–≤:
  1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ Calculator.
  2. –í–∏–∫–æ–Ω–∞—Ç–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è 7 * 139 - 85 + 27, –æ–∫—Ä—É–≥–ª–∏—Ç–∏.
  3. –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–∞–ø–∫—É HackLab —É `.../atlas4/data`.
  4. –ó–Ω–∞–π—Ç–∏ –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫—ñ–±–µ—Ä–ø–∞–Ω–∫ / matrix‚Äëstyle.
  5. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤–∏–±—Ä–∞–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.
  6. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —è–∫ —à–ø–∞–ª–µ—Ä–∏ –Ω–∞ –≤—Å—ñ –º–æ–Ω—ñ—Ç–æ—Ä–∏.
  7. –ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –≤ `result_calc.txt` —É `.../atlas4/data`.

- **–ü–æ–¥–∞–ª—å—à—ñ —Å—Ç–∞–¥—ñ—ó** –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ TODO‚Äë–ø—É–Ω–∫—Ç—É:
  - Router Classifier ‚Üí Server Selection ‚Üí Tetyana Plan Tools ‚Üí ValidationPipeline ‚Üí Tetyana Execute Tools ‚Üí (Grisha Verify + –º–æ–∂–ª–∏–≤–∏–π replan ‚Äì –∞–ª–µ —Ç—É—Ç –≤–æ–Ω–∏ –Ω–µ –¥–æ—Ö–æ–¥—è—Ç—å).

### 3.2 –§–∞–∫—Ç–∏—á–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –ø—É–Ω–∫—Ç–∞—Ö TODO

–ù–∏–∂—á–µ ‚Äì —Ñ–∞–∫—Ç —ñ–∑ –ª–æ–≥—ñ–≤, –±–µ–∑ –ø—Ä–∏–ø—É—â–µ–Ω—å.

1. **Item 1 ‚Äì Open Calculator application**
   - Server: `applescript`.
   - –ü–ª–∞–Ω —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤: –æ–¥–∏–Ω –≤–∏–∫–ª–∏–∫ `applescript__execute` —ñ–∑ `code_snippet: tell application "Calculator" to activate\ndelay 0.5`.
   - –í–∏–∫–æ–Ω–∞–Ω–Ω—è: `tool-dispatcher` ‚Üí 1/1 —É—Å–ø—ñ—à–Ω–æ, –±–µ–∑ –ø–æ–º–∏–ª–æ–∫.
   - –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ: **`Item ... execution error: execResult is not defined`**, item –ø–æ–∑–Ω–∞—á–µ–Ω–æ `PERMANENTLY FAILED`.

2. **Item 2 ‚Äì Perform calculation: 7 * 139 - 85 + 27**
   - First attempt –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è:
     - LLM –ø–æ–≤–µ—Ä—Ç–∞—î JSON –∑ `code_snippet` —É –≤–∏–≥–ª—è–¥—ñ JS‚Äë–∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü—ñ—ó (`"..." + "..." + ...`), –ø–∞—Ä—Å–µ—Ä –ø–∞–¥–∞—î: `JSON sanitization failed`, `Failed to parse tool plan`.
   - Second attempt –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è:
     - –ö–æ—Ä–µ–∫—Ç–Ω–∏–π JSON: —Å–∫–ª–∞–¥–Ω–∏–π `code_snippet` –∑ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—é keystroke –≤ Calculator.
     - –ü–ª–∞–Ω –≤–∞–ª—ñ–¥—É—î—Ç—å—Å—è –π –ø—Ä–∏–π–º–∞—î—Ç—å—Å—è.
   - –í–∏–∫–æ–Ω–∞–Ω–Ω—è: `tool-dispatcher` –∑–Ω–æ–≤—É 1/1 —É—Å–ø—ñ—à–Ω–æ.
   - –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ: **—Ç–æ–π —Å–∞–º–∏–π `execResult is not defined`**, item —Ç–µ–∂ `PERMANENTLY FAILED`.

3. **Item 3 ‚Äì Create folder HackLab ...**
   - LLM –ø–æ–≤–µ—Ä—Ç–∞—î JSON —ñ–∑ **`tool_sequence`** (create_directory + get_file_info). –ü–∞—Ä—Å–µ—Ä `MCPTodoManager` –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ü–µ –≤ –ø–ª–∞–Ω, –¥–µ `tool_calls: []`, `reasoning: ""`.
   - –í –ª–æ–≥–∞—Ö: `‚ö†Ô∏è No tool calls in plan. Reasoning:`, –∞–ª–µ `Planning succeeded`, Tetyana –æ—Ç—Ä–∏–º—É—î `tool_calls: []` —ñ –≤–≤–∞–∂–∞—î, —â–æ ¬´No tools needed for this task¬ª.
   - –í–∏–∫–æ–Ω–∞–Ω–Ω—è: Stage 2.2 –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è, TTS –æ–∑–≤—É—á—É—î –∑–∞–¥–∞—á—É, –∞–ª–µ —Ñ–∞–∫—Ç–∏—á–Ω–∏—Ö MCP‚Äë–≤–∏–∫–ª–∏–∫—ñ–≤ **0** ‚Äì –ø–∞–ø–∫–∞ HackLab –º–æ–∂–µ –≤–∑–∞–≥–∞–ª—ñ –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏—Å—å.
   - –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ: –∑–Ω–æ–≤—É **`execResult is not defined`**, item `PERMANENTLY FAILED`.

4. **Item 4 ‚Äì Search for a cyberpunk hacker / matrix‚Äëstyle image online**
   - Server: `playwright`.
   - –ü–ª–∞–Ω —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤: `playwright__navigate` ‚Üí Google Images, `playwright__fill` ‚Üí —Ä—è–¥–æ–∫ –ø–æ—à—É–∫—É, `playwright__press_key` ‚Üí Enter.
   - –ü–ª–∞–Ω –≤–∞–ª—ñ–¥—É—î—Ç—å—Å—è, 3 tool calls –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ (–∑–≥—ñ–¥–Ω–æ –∑ –ª–æ–≥–∞–º–∏).
   - –î–∞–ª—ñ –∑–Ω–æ–≤—É —Ç—Ä–∏–≤–∞—é—Ç—å —Ü–∏–∫–ª–∏ DEV‚Äë–∞–Ω–∞–ª—ñ–∑—É / Nexus‚Äë—Ñ—ñ–∫—Å—ñ–≤; –ø–æ–≤–Ω–∏–π —Ñ—ñ–Ω–∞–ª –ø–æ item 4 —É —Ü—å–æ–º—É —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ñ –Ω–µ –≤–∏–¥–Ω–æ, –∞–ª–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –≤—ñ–Ω –π–¥–µ —Ç–∏–º —Å–∞–º–∏–º —à–ª—è—Ö–æ–º, —â–æ –π 1‚Äì3, –æ—Ç–∂–µ –ø—ñ–¥–ø–∞–¥–∞—î –ø—ñ–¥ —Ç–æ–π –∂–µ –±–∞–≥ —ñ–∑ `execResult`.

5‚Äì7. **Items 5‚Äì7 (download image, set wallpaper, save result —É —Ñ–∞–π–ª)**
   - –Ü–∑ –∞–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –ª–æ–≥—ñ–≤ –Ω–µ –≤–∏–¥–Ω–æ –ø–æ–≤–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è/–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ü–∏—Ö –ø—É–Ω–∫—Ç—ñ–≤.
   - –£ –±—É–¥—å-—è–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É, —É–∂–µ –ø–µ—Ä—à—ñ —Ç—Ä–∏ –ø—É–Ω–∫—Ç–∏ TODO –∑–∞–∫—ñ–Ω—á–∏–ª–∏—Å—è `PERMANENTLY FAILED`, –∞ —Å–∞–º –≤–æ—Ä–∫—Ñ–ª–æ—É –∞–∫—Ç–∏–≤–Ω–æ –≤–∏—Ç—Ä–∞—á–∞—î —Ä–µ—Å—É—Ä—Å–∏ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∏–π self‚Äëanalysis —Ç–∞ –∞–≤—Ç–æ—Ñ—ñ–∫—Å–∏.

---

## 4. –í–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 4.1 –ö—Ä–∏—Ç–∏—á–Ω–∏–π —Ä–∞–Ω—Ç–∞–π–º‚Äë–±–∞–≥: `execResult is not defined` —É `executor-v3.js`

- **–§–∞–π–ª**: `orchestrator/workflow/executor-v3.js`.
- **–°–∏–º–ø—Ç–æ–º–∏** (log):
  - `Item ... execution error: execResult is not defined` –¥–ª—è items 1, 2, 3 (—ñ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö);
  - `PERMANENTLY FAILED after 1 attempts` –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è MCP‚Äë—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤.
- **–ù–∞—Å–ª—ñ–¥–æ–∫**:
  - –ù–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Å–ø—Ä–∞—Ü—é–≤–∞–ª–∏ —É—Å–ø—ñ—à–Ω–æ, –≤–æ—Ä–∫—Ñ–ª–æ—É –≤–≤–∞–∂–∞—î –ø—É–Ω–∫—Ç TODO –ø—Ä–æ–≤–∞–ª–µ–Ω–∏–º;
  - –ù–µ–º–∞—î –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ Grisha Verify / replan ‚Äì pipeline –æ–±—Ä–∏–≤–∞—î—Ç—å—Å—è –Ω–∞ –ø–æ–º–∏–ª—Ü—ñ –≤ —Å–∞–º–æ–º—É executor‚Äô—ñ;
  - –í–∏–ø–∞–¥–æ–∫ –∑ HackLab: Calculator –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è, –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è, –∞–ª–µ —Å–∏—Å—Ç–µ–º–Ω–∏–π —Å—Ç–∞—Ç—É—Å ‚Äì `failed`.
- **–ô–º–æ–≤—ñ—Ä–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ (–∑ –∫–æ–¥—É)**:
  - `execResult` –æ–≥–æ–ª–æ—à—É—î—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º—É –±–ª–æ—Ü—ñ `try`, –∞ –¥–∞–ª—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –∫–æ–¥—ñ, —è–∫–∏–π –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –π —Ç–æ–¥—ñ, –∫–æ–ª–∏ —Ü—è –∑–º—ñ–Ω–Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –∞–±–æ –Ω–µ –±—É–ª–∞ –ø—Ä–∏—Å–≤–æ—î–Ω–∞ (–æ—Å–æ–±–ª–∏–≤–æ –≤ –≥—ñ–ª–∫–∞—Ö –∑ `failedExecResult` / `planResult` –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É `executeProcessor`).
  - –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∏ –¥–æ–¥–∞–ª–∏ –≥—ñ–ª–∫–∏ –∑ `failedExecResult` —ñ `lastExecResult`, –∞–ª–µ –Ω–µ –≤—Å—é–¥–∏ –≥–∞—Ä–∞–Ω—Ç—É—î—Ç—å—Å—è –Ω–∞—è–≤–Ω—ñ—Å—Ç—å `execResult` —ñ–∑ –∫–æ—Ä–µ–∫—Ç–Ω–æ—é —Ñ–æ—Ä–º–æ—é.

### 4.2 –ù–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç JSON‚Äë–ø–ª–∞–Ω—É –¥–ª—è applescript (item 2)

- **–§–∞–π–ª**: `orchestrator/workflow/mcp-todo-manager.js` (–ø–∞—Ä—Å–µ—Ä –ø–ª–∞–Ω—É), –ª–æ–≥—ñ–∫–∞ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è LLM.
- **–°–∏–º–ø—Ç–æ–º–∏**:
  - –ü–µ—Ä—à–∏–π LLM‚Äë–≤—ñ–¥–ø–æ–≤—ñ–¥—å –¥–ª—è item 2 –º—ñ—Å—Ç–∏—Ç—å `code_snippet` —è–∫ JS‚Äë—Ä—è–¥–æ–∫ —ñ–∑ `"..." + "..." + ...`;
  - –ü–∞—Ä—Å–µ—Ä JSON –ø–∞–¥–∞—î –∑ –ø–æ–º–∏–ª–∫–æ—é `Expected ',' or '}' after property value in JSON ...`;
  - MCPTodoManager –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è ¬´—Å–∞–Ω—ñ—Ç–∏–∑—É–≤–∞—Ç–∏¬ª JSON, –∞–ª–µ —Ü–µ –Ω–µ –≤–¥–∞—î—Ç—å—Å—è.
- **–ù–∞—Å–ª—ñ–¥–æ–∫**:
  - –î–æ–¥–∞—Ç–∫–æ–≤–∞ –∑–∞—Ç—Ä–∏–º–∫–∞, extra API‚Äë–≤–∏–∫–ª–∏–∫ —ñ —à—É–º —É –ª–æ–≥–∞—Ö;
  - –î–æ–±—Ä–µ, —â–æ —î retry: –ø–ª–∞–Ω –∑—Ä–µ—à—Ç–æ—é –±—É–¥—É—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ, –∞–ª–µ –∫–æ–¥ –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ –¥—É–∂–µ –∫—Ä–∏—Ö–∫—ñ –µ–≤—Ä–∏—Å—Ç–∏–∫–∏.
- **–ù–µ–¥–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è**:
  - –ù–µ–º–∞—î –∂–æ—Ä—Å—Ç–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É —Ñ–æ—Ä–º–∞—Ç—É (`tool_calls`, `parameters` —Ç—ñ–ª—å–∫–∏ –∑ –∫–æ—Ä–µ–∫—Ç–Ω–æ—é JSON‚Äë–µ–∫—Ä–∞–Ω—ñ–∑–∞—Ü—ñ—î—é);
  - –ù–µ–º–∞—î –∂–æ—Ä—Å—Ç–∫–æ—ó –≤—ñ–¥–º–æ–≤–∏/—Ñ—ñ–∫—Å–∞—Ü—ñ—ó, —è–∫—â–æ JSON –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π ‚Äì —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å—Ç–æ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ –ø—Ä–æ–±—É—î —â–µ —Ä–∞–∑.

### 4.3 –ü–ª–∞–Ω –∑ `tool_sequence` –±–µ–∑ `tool_calls` (item 3 ‚Äì HackLab –ø–∞–ø–∫–∞)

- **–°–∏—Ç—É–∞—Ü—ñ—è**:
  - LLM –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –ø–ª–∞–Ω –∑ `tool_sequence` –¥–ª—è `filesystem__create_directory` + `filesystem__get_file_info`.
  - MCPTodoManager –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ü–µ –≤ –æ–±‚Äô—î–∫—Ç, –¥–µ `tool_calls: []`, `reasoning: ""`.
  - –õ–æ–≥: `‚ö†Ô∏è No tool calls in plan. Reasoning:`, –∞–ª–µ `Planning succeeded`, Tetyana –ø—Ä–æ–¥–æ–≤–∂—É—î –∑ –ø—É—Å—Ç–∏–º –ø–ª–∞–Ω–æ–º.
- **–ù–∞—Å–ª—ñ–¥–æ–∫**:
  - **–ñ–æ–¥–µ–Ω MCP‚Äë—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–µ–∞–ª—å–Ω–æ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è**, —Ö–æ—á–∞ –ª–æ–≥—ñ–∫–∞ —è–≤–Ω–æ –ø–æ—Ç—Ä–µ–±—É—î –¥—ñ–π —ñ–∑ —Ñ–∞–π–ª–æ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é;
  - E2E‚Äë—Ä–µ–∑—É–ª—å—Ç–∞—Ç: `_HackLab_` –ø–∞–ø–∫–∞ –º–æ–∂–µ —Ç–∞–∫ —ñ –Ω–µ –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∞, —Ö–æ—á–∞ –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏, —â–æ –ø—É–Ω–∫—Ç –≤—ñ–¥–ø—Ä–∞—Ü—å–æ–≤–∞–Ω–æ (TTS —Å–∫–∞–∑–∞–≤, executor –≤–≤–∞–∂–∞—î `Success: ‚úÖ`). –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤—Å–µ –æ–¥–Ω–æ –ø—Ä–∏–ª—ñ—Ç–∞—î `execResult is not defined`.
- **–ü—Ä–æ–±–ª–µ–º–∞ –¥–∏–∑–∞–π–Ω—É**:
  - –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤–≤–∞–∂–∞—î—Ç—å—Å—è ¬´—É—Å–ø—ñ—à–Ω–∏–º¬ª –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –ø—É—Å—Ç–æ–º—É `tool_calls`, –±–µ–∑ –∞–Ω–∞–ª—ñ–∑—É —Ç–æ–≥–æ, —á–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ü—å–æ–≥–æ —Ç–∏–ø—É –¥—ñ—ó;
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è (`ValidationPipeline`) —Ç–µ–∂ –Ω–µ –≤–∏—è–≤–ª—è—î –ø—Ä–æ–±–ª–µ–º—É ‚Äì –≤–æ–Ω–∞ –±–∞—á–∏—Ç—å 0 tool calls —ñ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å.

### 4.4 –ß–∞—Å—Ç–∫–æ–≤–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ–π –±–µ–∑ –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å—É TODO

- **–ü—Ä–∏–∫–ª–∞–¥–∏**:
  - Item 1: Calculator —Ñ–∞–∫—Ç–∏—á–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π (applescript –≤–∏–∫–æ–Ω–∞–≤—Å—è), –∞–ª–µ —Å—Ç–∞—Ç—É—Å TODO ‚Äì `PERMANENTLY FAILED` —á–µ—Ä–µ–∑ `execResult`;
  - Item 2: –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω—ñ –≤ Calculator, –∞–ª–µ —Ç–µ–∂ `PERMANENTLY FAILED`;
  - Item 3: –æ–∑–≤—É—á—É—î—Ç—å—Å—è –∑–∞–≤–¥–∞–Ω–Ω—è –ø—Ä–æ HackLab, –∞–ª–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è, —ñ –≤—Å–µ –æ–¥–Ω–æ –≤–≤–∞–∂–∞—î—Ç—å—Å—è, —â–æ ¬´Execution completed¬ª, —Ö–æ—á–∞ –∫–∞—Å—Ç–æ–º–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∫–∞—Ç–∞–ª–æ–≥—É –Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–∞.
- **–†–∏–∑–∏–∫–∏**:
  - –†–æ–∑—Ä–∏–≤ –º—ñ–∂ **—Ñ–∞–∫—Ç–∏—á–Ω–∏–º —Å—Ç–∞–Ω–æ–º —Å–∏—Å—Ç–µ–º–∏** (–ø—Ä–æ–≥—Ä–∞–º–∏ –≤—ñ–¥–∫—Ä–∏—Ç—ñ, —á–∞—Å—Ç–∏–Ω–∞ –¥—ñ–π –≤–∏–∫–æ–Ω–∞–Ω–∞) —ñ **–º–æ–¥–µ–ª–ª—é —Å—Ç–∞–Ω—É –≤ TODO**;
  - –°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ –ø—Ä–∏–π–º–∞—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è (replan/skip/final summary) –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ö–∏–±–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å—É (`failed` / `completed`, —è–∫—ñ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å —Ä–µ–∞–ª—å–Ω–æ–º—É —Å—Ç–∞–Ω—É).

### 4.5 –ß–∞—Å—Ç–∫–æ–≤–æ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π Optimized Executor

- **–§–∞–∫—Ç —ñ–∑ –∫–æ–¥—É**:
  - `OptimizationIntegration` –º–∞—î –º–µ—Ç–æ–¥ `enableOptimizedExecution(container)`, —è–∫–∏–π –º–∞—î –∑–∞–º—ñ–Ω–∏—Ç–∏ —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏–π executor –Ω–∞ `optimizedExecutor` —á–µ—Ä–µ–∑ `container.register('executor', ..., { override: true })`.
  - –¶–µ–π –º–µ—Ç–æ–¥ **–Ω–µ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è** –≤ `service-registry.js` –∞–±–æ —ñ–Ω—à–∏—Ö —Ñ–∞–π–ª–∞—Ö.
- **–ù–∞—Å–ª—ñ–¥–æ–∫**:
  - Optimized Executor —Ç–∞ Optimized Workflow Manager —ñ—Å–Ω—É—é—Ç—å, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –π –ª–æ–≥—É—é—Ç—å –ø–æ–¥—ñ—ó, –∞–ª–µ –¥–ª—è MCP Dynamic TODO –≤–æ—Ä–∫—Ñ–ª–æ—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å—Ç–∞—Ä–∏–π `executor-v3.js`.
  - –õ–æ–≥—ñ—á–Ω—ñ —à–ª—è—Ö–∏ mode/server/tool selection –¥—É–±–ª—é—é—Ç—å—Å—è: –æ–¥–∏–Ω —É –æ–ø—Ç–∏–º—ñ–∑–∞—Ç–æ—Ä—ñ, —ñ–Ω—à–∏–π ‚Äì —É —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–æ–º—É –≤–æ—Ä–∫—Ñ–ª–æ—É.
- **–î—É–±–ª—é–≤–∞–Ω–Ω—è –ª–æ–≥—ñ–∫–∏**:
  - Mode selection + server selection + tool planning —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —ñ –≤ `executor-v3.js`, —ñ –≤ `optimized-executor.js`/`optimized-workflow-manager.js`;
  - –¶–µ —É—Å–∫–ª–∞–¥–Ω—é—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É –π –≤—ñ–¥–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è.

### 4.6 –ù–µ—Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Workflow State Machine —Ç–∞ Hybrid Executor

- **WorkflowStateMachine**:
  - –ú–∞—î –ø–æ–≤–Ω–∏–π –≥—Ä–∞—Ñ —Å—Ç–∞–Ω—ñ–≤ —ñ –º–µ—Ç—Ä–∏–∫–∏, –∞–ª–µ `executor-v3.js` –≤–∏–∫–æ–Ω—É—î –≤–ª–∞—Å–Ω–∏–π –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π –±–µ–∑ –≤–∏–∫–ª–∏–∫—ñ–≤ —Å—Ç–µ–π—Ç‚Äë–º–∞—à–∏–Ω–∏;
  - –í –ª–æ–≥–∞—Ö –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ —Ç–∏–ø—É ¬´State transition ...¬ª —ñ–∑ —Ü—å–æ–≥–æ –∫–ª–∞—Å—É.

- **HybridWorkflowExecutor**:
  - –ü—ñ–¥–Ω—ñ–º–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ DI (–≤–∏–¥–Ω–æ –ø–æ –ª–æ–≥–∞–º `[DI] üöÄ Hybrid Workflow Executor initialized`), –∞–ª–µ MCP TODO pipeline –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–≤—ñ–π `while (i < todo.items.length)` —ñ–∑ —Ä—É—á–Ω–æ—é –ª–æ–≥—ñ–∫–æ—é –±–ª–æ–∫—É–≤–∞–Ω—å/–∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π;
  - –ü–æ—Ç–µ–Ω—Ü—ñ–∞–ª –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –π adaptive strategy –Ω–∞—Ä–∞–∑—ñ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è.

- **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
  - –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –≤–∏–∑–Ω–∞—á–∏–ª–∞ –ø–æ—Ç—É–∂–Ω—ñ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó (—Å—Ç–µ–π—Ç‚Äë–º–∞—à–∏–Ω–∞, hybrid executor), –∞–ª–µ –æ—Å–Ω–æ–≤–Ω–∏–π –ø—Ä–æ–¥–∞–∫—à–µ–Ω‚Äë—à–ª—è—Ö —ó—Ö –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î ‚Äì –¥—É–±–ª—é–≤–∞–Ω–Ω—è –π —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π –±–æ—Ä–≥.

### 4.7 –ó–∞—Å—Ç–∞—Ä—ñ–ª—ñ/–¥—É–±–ª—å–æ–≤–∞–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ç–∞ —à—É–º —É –ª–æ–≥–∞—Ö

- **WorkflowCoordinator**:
  - –£ `service-registry.js` —è–≤–Ω–æ –∑–∞–∑–Ω–∞—á–µ–Ω–æ, —â–æ `WorkflowCoordinator` **deprecated**, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –Ω–µ–º–∞—î;
  - `EternityIntegration` –≤—Å–µ —â–µ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è `resolve('workflowCoordinator')`, —É –ª–æ–≥–∞—Ö —Ü–µ –¥–∞—î `WorkflowCoordinator not available yet, will retry later`.
- **–ü–æ–¥–≤—ñ–π–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–µ—è–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤**:
  - CASCADE Controller, Multi-Model Orchestrator, Nexus Registry –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –ª–æ–≥—É—é—Ç—å `initialized` –≤ –æ–¥–Ω–æ–º—É —Ü–∏–∫–ª—ñ –∑–∞–ø—É—Å–∫—É ‚Äì —Ü–µ –º–æ–∂–µ —Å–≤—ñ–¥—á–∏—Ç–∏ –ø—Ä–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è DI‚Äë—ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.
- **Self-Improvement / Dev-Analysis**:
  - Dev‚Äë–∞–Ω–∞–ª—ñ–∑ —Å—Ç–≤–æ—Ä—é—î –±–∞–≥–∞—Ç–æ –≤–∫–ª–∞–¥–µ–Ω–∏—Ö TODO (¬´Analyzing [1]¬ª, ¬´Analyzing [1.1]¬ª ...), —â–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–ø–∏—Å—É—é—Ç—å –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –±–∞–≥.
  - Nexus‚Äë—Ñ—ñ–∫—Å–µ—Ä –ø—Ä–æ–±—É—î –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑ LLM‚Äë–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —É —Ñ–æ—Ä–º–∞—Ç—ñ ```REPLACE ... --- ...```, —è–∫–∏–π –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –æ—á—ñ–∫—É–≤–∞–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –ø–∞—Ç—á—ñ–≤ ‚Äì –ª–æ–≥: `LLM response not in any recognized format`, –∞–ª–µ –ø—Ä–∏ —Ü—å–æ–º—É –¥–∞–ª—ñ –π–¥—É—Ç—å –ª–æ–≥–∏ `NEXUS-FIXER ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ: Missing import or module`, —â–æ –º–æ–∂–µ –≤–≤–æ–¥–∏—Ç–∏ –≤ –æ–º–∞–Ω—É (—É—Å–ø—ñ—Ö –ª–æ–≥—ñ—á–Ω–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ä–µ–∞–ª—å–Ω—ñ–π –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –ø–∞—Ç—á—É).

---

## 5. –ü—ñ–¥—Å—É–º–æ–∫

- **–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ**:
  - MCP Dynamic TODO Workflow –º–∞—î –±–∞–≥–∞—Ç–æ—Å—Ç–∞–¥—ñ–π–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É (mode selection ‚Üí enrichment ‚Üí TODO planning ‚Üí server selection ‚Üí tool planning ‚Üí execution ‚Üí verification ‚Üí replan ‚Üí summary).
  - –Ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–¥—É–ª—ñ: Workflow State Machine, Hybrid Executor, Optimized Workflow Manager/Executor, Eternity/Nexus –¥–ª—è —Å–∞–º–æ–∞–Ω–∞–ª—ñ–∑—É —Ç–∞ –∞–≤—Ç–æ—Ñ—ñ–∫—Å—ñ–≤.

- **–ö–ª—é—á–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏**:
  - –ö—Ä–∏—Ç–∏—á–Ω–∏–π –±–∞–≥ `execResult is not defined` —É `executor-v3.js`, —è–∫–∏–π —Ä–æ–±–∏—Ç—å TODO‚Äë–ø—É–Ω–∫—Ç–∏ failed –Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤.
  - –ö—Ä–∏—Ö–∫–∏–π JSON‚Äë–∫–æ–Ω—Ç—Ä–∞–∫—Ç –º—ñ–∂ LLM —ñ MCPTodoManager (–∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü—ñ—è —Ä—è–¥–∫—ñ–≤, `tool_sequence` vs `tool_calls`), —â–æ –≤–µ–¥–µ –¥–æ –ø–∞—Ä—Å–∏–Ω–≥‚Äë–ø–æ–º–∏–ª–æ–∫ —ñ ¬´–ø–æ—Ä–æ–∂–Ω—ñ—Ö¬ª –ø–ª–∞–Ω—ñ–≤ –±–µ–∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤.
  - –ß–∞—Å—Ç–∫–æ–≤–æ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π Optimized Executor ‚Äì –ª–æ–≥—ñ–∫–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó –¥—É–±–ª—é—î—Ç—å—Å—è, –∞–ª–µ –Ω–µ –æ–±‚Äô—î–¥–Ω–∞–Ω–∞ –≤ —î–¥–∏–Ω–∏–π —à–ª—è—Ö.
  - –°—Ç–µ–π—Ç‚Äë–º–∞—à–∏–Ω–∞ —Ç–∞ Hybrid Executor —ñ—Å–Ω—É—é—Ç—å, –∞–ª–µ –Ω–µ –∫–µ—Ä—É—é—Ç—å —Ä–µ–∞–ª—å–Ω–∏–º MCP TODO –≤–æ—Ä–∫—Ñ–ª–æ—É.
  - –ê–≤—Ç–æ—Ñ—ñ–∫—Å–∏ Nexus/Eternity –ø–æ–∫–∏ —â–æ –Ω–µ–Ω–∞–¥—ñ–π–Ω—ñ: —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ç—á—ñ–≤ –Ω–µ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è–º–∏, –∞–ª–µ –ª–æ–≥—ñ–∫–∞ –≤–≤–∞–∂–∞—î –¥–µ—è–∫—ñ —Ñ—ñ–∫—Å–∏ —É—Å–ø—ñ—à–Ω–∏–º–∏.

- **–ù–µ–≤–∏–∫–æ–Ω–∞–Ω—ñ / —á–∞—Å—Ç–∫–æ–≤–æ –≤–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–¥–∞—á—ñ –≤ –∫–µ–π—Å—ñ HackLab**:
  - Items 1‚Äì3 –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —Å—Ç–∞—Ç—É—Å–æ–º `PERMANENTLY FAILED` —á–µ—Ä–µ–∑ `execResult` (–ø—Ä–∏ —Ü—å–æ–º—É —á–∞—Å—Ç–∏–Ω—É –¥—ñ–π —Ñ–∞–∫—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω–æ –∞–±–æ –Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–æ –∑–æ–≤—Å—ñ–º ‚Äì —è–∫ —ñ–∑ HackLab –ø–∞–ø–∫–æ—é).
  - –î–ª—è item 4 —Å–∏—Å—Ç–µ–º–∞ –ø–æ–±—É–¥—É–≤–∞–ª–∞ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π playwright‚Äë–ø–ª–∞–Ω —ñ –≤–∏–∫–æ–Ω–∞–ª–∞ 3 tool calls, –∞–ª–µ –ø–æ–¥–∞–ª—å—à–∏–π —Å—Ç–∞–Ω –∑–Ω–æ–≤—É –ø–æ—Ç—Ä–∞–ø–ª—è—î –ø—ñ–¥ —Ç–æ–π —Å–∞–º–∏–π –±–∞–≥ —É executor.
  - Items 5‚Äì7 —É —Ü—å–æ–º—É –ø—Ä–æ–≥–æ–Ω—ñ –Ω–µ –º–∞—é—Ç—å –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è.

–¶–µ–π —Ñ–∞–π–ª —Ñ—ñ–∫—Å—É—î –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —ñ –æ—Å–Ω–æ–≤–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –≤–æ—Ä–∫—Ñ–ª–æ—É —Å—Ç–∞–Ω–æ–º –Ω–∞ 2025‚Äë11‚Äë18, –Ω–∞ –±–∞–∑—ñ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –ª–æ–≥—ñ–≤ —Ç–∞ –∫–æ–¥—É. –î–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —ñ—Ç–µ—Ä–∞—Ü—ñ–π –≤–∞—Ä—Ç–æ –∑–æ—Å–µ—Ä–µ–¥–∏—Ç–∏—Å—å –Ω–∞:

1. –ñ–æ—Ä—Å—Ç–∫–æ–º—É –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—ñ `execResult` —É `executor-v3.js` (—ñ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤—Å—ñ—Ö –≥—ñ–ª–æ–∫, –¥–µ –≤–æ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è).
2. –ü–æ—Å–∏–ª–µ–Ω–Ω—ñ JSON‚Äë–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ –¥–ª—è `MCPTodoManager` (—á—ñ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç, –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è `tool_sequence` ‚Üí `tool_calls`).
3. –ü—Ä–∏–π–Ω—è—Ç—Ç—ñ —Ä—ñ—à–µ–Ω–Ω—è —â–æ–¥–æ —î–¥–∏–Ω–æ–≥–æ –≤–æ—Ä–∫—Ñ–ª–æ—É‚Äë—Ä—É—à—ñ—è (traditional vs optimized vs hybrid vs state machine) —ñ –ø–æ—Å—Ç—É–ø–æ–≤—ñ–π –∫–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—ó –ª–æ–≥—ñ–∫–∏.
4. –£–ø–æ—Ä—è–¥–∫—É–≤–∞–Ω–Ω—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó Nexus/Eternity, —â–æ–± –∞–≤—Ç–æ—Ñ—ñ–∫—Å–∏ –∞–±–æ —Ä–µ–∞–ª—å–Ω–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞–ª–∏ –ø–∞—Ç—á—ñ, –∞–±–æ —á–µ—Å–Ω–æ –≤—ñ–¥–º—ñ—á–∞–ª–∏—Å—å —è–∫ –Ω–µ–≤–¥–∞–ª—ñ.
