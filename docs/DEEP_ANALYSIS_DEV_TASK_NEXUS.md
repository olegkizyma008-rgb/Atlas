# –ì–õ–ò–ë–û–ö–ò–ô –ê–ù–ê–õ–Ü–ó: DEV vs TASK | NEXUS Architecture

**–î–∞—Ç–∞:** 2025-11-03  
**–ê–≤—Ç–æ—Ä:** Oleg Mykolayovych + Cascade AI

---

## üéØ **–ß–ê–°–¢–ò–ù–ê 1: DEV vs TASK - –ß–ò –ú–ê–Æ–¢–¨ –û–ö–†–ï–ú–£ –î–û–¶–Ü–õ–¨–ù–Ü–°–¢–¨?**

### **üìä –ü–æ—Ç–æ—á–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è:**

#### **DEV Mode:**
```javascript
// Stage 0 Mode Selection
"dev" mode - Atlas self-analysis with BACKGROUND execution + CHAT reporting
- –°–∞–º–æ–∞–Ω–∞–ª—ñ–∑ –∫–æ–¥—É Atlas
- –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤–ª–∞—Å–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ –∫–æ–¥—É (–∑ –ø–∞—Ä–æ–ª–µ–º "mykola")
- –ü—Ä–∞—Ü—é—î –í –§–û–ù–Ü + –∑–≤—ñ—Ç—É—î –≤ —á–∞—Ç
```

#### **TASK Mode:**
```javascript
"task" mode - Launch full MCP workflow: Tetyana, Grisha, tools
- –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤
- Stage 2.0 ‚Üí Server Selection
- Stage 2.1 ‚Üí Tool Planning
- Stage 2.2 ‚Üí Execution
```

### **üîç –ê–ù–ê–õ–Ü–ó –ü–ï–†–ï–¢–ò–ù–£:**

#### **–ü—Ä–æ–±–ª–µ–º–∞ 1: DEV –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ TASK workflow**

```
DEV Mode ‚Üí –ó–Ω–∞–π—à–æ–≤ –±–∞–≥–∏ ‚Üí –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏
    ‚Üì
–ß–∏ –º–∞—î DEV:
  a) –í–∏–ø—Ä–∞–≤–ª—è—Ç–∏ –°–ê–ú (–ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —Ñ–∞–π–ª—ñ–≤)
  b) –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –≤ TASK mode (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ MCP workflow)
```

**–©–æ –∑–∞—Ä–∞–∑:**
```javascript
// dev-self-analysis-processor.js line 58-60
this.interventionPassword = 'mykola'; // Disabled - trust user's explicit request
```

DEV mode –º–∞—î `_handleIntervention()` —è–∫–∏–π:
1. –ì–µ–Ω–µ—Ä—É—î –ø–ª–∞–Ω –∑–º—ñ–Ω
2. **–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ TASK mode** –∑ devTransitionContext
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î MCP workflow –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

**–í–∏—Å–Ω–æ–≤–æ–∫:** DEV ‚Üí TASK transition EXISTS ‚úÖ

#### **–ü—Ä–æ–±–ª–µ–º–∞ 2: TASK –Ω–µ –º–æ–∂–µ –≤–∏–ø—Ä–∞–≤–ª—è—Ç–∏ –±–∞–≥–∏ Atlas**

```
USER: "–í–∏–ø—Ä–∞–≤ –±–∞–≥–∏ –≤ orchestrator/app.js"
    ‚Üì
Mode Selection: "task" (—Ñ–∞–π–ª–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó)
    ‚Üì
Stage 2.0: filesystem –∞–±–æ windsurf
    ‚Üì
‚ùå –ù–ï –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –í–õ–ê–°–ù–ò–ô –∫–æ–¥ Atlas (security)
```

**–©–æ –∑–∞—Ä–∞–∑:**
- TASK mode –≤–∏–∫–æ–Ω—É—î –±—É–¥—å-—è–∫—ñ —Ñ–∞–π–ª–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- –ù–µ–º–∞—î —Ä–æ–∑–º–µ–∂—É–≤–∞–Ω–Ω—è –º—ñ–∂ "–∑–æ–≤–Ω—ñ—à–Ω—ñ —Ñ–∞–π–ª–∏" vs "–≤–ª–∞—Å–Ω–∏–π –∫–æ–¥ Atlas"
- Security Config –±–ª–æ–∫—É—î –∫—Ä–∏—Ç–∏—á–Ω—ñ —à–ª—è—Ö–∏, –∞–ª–µ –ù–ï –≤–µ—Å—å orchestrator

### **üí° –í–ò–°–ù–û–í–û–ö –ü–û DEV vs TASK:**

#### **–í–∞—Ä—ñ–∞–Ω—Ç A: –ó–∞–ª–∏—à–∏—Ç–∏ —è–∫ —î (DEV ‚Üí TASK transition)**
‚úÖ **–ü–µ—Ä–µ–≤–∞–≥–∏:**
- DEV —Ä–æ–±–∏—Ç—å –∞–Ω–∞–ª—ñ–∑ (readonly)
- TASK –≤–∏–∫–æ–Ω—É—î –∑–º—ñ–Ω–∏ (write —á–µ—Ä–µ–∑ MCP)
- –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ

‚ùå **–ù–µ–¥–æ–ª—ñ–∫–∏:**
- –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: 2 —Ä–µ–∂–∏–º–∏ –¥–ª—è –æ–¥–Ω—ñ—î—ó –∑–∞–¥–∞—á—ñ
- DEV ‚Üí TASK transition –º–æ–∂–µ –∑–∞–≥—É–±–∏—Ç–∏—Å—å
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ —Ä–æ–∑—É–º—ñ—î —á–æ–º—É 2 –µ—Ç–∞–ø–∏

#### **–í–∞—Ä—ñ–∞–Ω—Ç B: DEV –º–∞—î –≤–ª–∞—Å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (–±–µ–∑ TASK)**
‚úÖ **–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –ü—Ä–æ—Å—Ç—ñ—à–µ: DEV —Ä–æ–±–∏—Ç—å –í–°–ï —Å–∞–º
- –®–≤–∏–¥—à–µ: –Ω–µ–º–∞—î –ø–µ—Ä–µ—Ö–æ–¥—É –º—ñ–∂ —Ä–µ–∂–∏–º–∞–º–∏
- –ó—Ä–æ–∑—É–º—ñ–ª—ñ—à–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É

‚ùå **–ù–µ–¥–æ–ª—ñ–∫–∏:**
- –î—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É (DEV –º–∞—î —Å–≤–æ—ó file operations)
- –ù–µ–º–∞—î –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (Grisha –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –≤ TASK)
- –ú–µ–Ω—à–∞ –±–µ–∑–ø–µ–∫–∞ (DEV –º–∞—î –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø)

#### **–í–∞—Ä—ñ–∞–Ω—Ç C: –û–±'—î–¥–Ω–∞—Ç–∏ DEV —Ç–∞ TASK (universal mode)**
‚úÖ **–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –û–¥–∏–Ω —Ä–µ–∂–∏–º –¥–ª—è –≤—Å—å–æ–≥–æ
- –ù–µ–º–∞—î –ø–ª—É—Ç–∞–Ω–∏–Ω–∏

‚ùå **–ù–µ–¥–æ–ª—ñ–∫–∏:**
- –í—Ç—Ä–∞—Ç–∞ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
- DEV —Å–∞–º–æ–∞–Ω–∞–ª—ñ–∑ ‚â† TASK –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å
- –†—ñ–∑–Ω—ñ LLM –º–æ–¥–µ–ª—ñ, —Ä—ñ–∑–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏

### **üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–Ø:**

**–ó–ê–õ–ò–®–ò–¢–ò DEV —Ç–∞ TASK –û–ö–†–ï–ú–û** –∑ –ø–æ–∫—Ä–∞—â–µ–Ω–æ—é —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é:

```
DEV Mode:
‚îú‚îÄ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: –°–∞–º–æ–∞–Ω–∞–ª—ñ–∑ Atlas
‚îú‚îÄ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ: 
‚îÇ  ‚îú‚îÄ –ê–Ω–∞–ª—ñ–∑ –≤–ª–∞—Å–Ω–∏—Ö –ª–æ–≥—ñ–≤
‚îÇ  ‚îú‚îÄ –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–º–∏–ª–æ–∫
‚îÇ  ‚îú‚îÄ –ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ performance
‚îÇ  ‚îî‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–ª–∞–Ω—É –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å
‚îú‚îÄ –ù–ï –≤–∏–∫–æ–Ω—É—î –∑–º—ñ–Ω–∏ —Å–∞–º
‚îî‚îÄ –î–µ–ª–µ–≥—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è ‚Üí TASK mode

TASK Mode:
‚îú‚îÄ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å
‚îú‚îÄ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:
‚îÇ  ‚îú‚îÄ MCP workflow (Tetyana + Grisha)
‚îÇ  ‚îú‚îÄ –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∑–º—ñ–Ω
‚îÇ  ‚îî‚îÄ Rollback –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
‚îú‚îÄ –ú–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ë–£–î–¨-–Ø–ö–Ü —Ñ–∞–π–ª–∏
‚îî‚îÄ –í–∫–ª—é—á–Ω–æ –∑ –≤–ª–∞—Å–Ω–∏–º –∫–æ–¥–æ–º Atlas (—è–∫—â–æ –≤—ñ–¥ DEV)
```

**–ß–æ–º—É –æ–∫—Ä–µ–º–æ:**
1. **DEV** = Introspection (READONLY) + Planning
2. **TASK** = Execution (WRITE) + Verification
3. **–ë–µ–∑–ø–µ–∫–∞:** DEV –Ω–µ –º–∞—î –ø—Ä—è–º–æ–≥–æ write access
4. **–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è:** –¢—ñ–ª—å–∫–∏ TASK –º–∞—î Grisha
5. **–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –†—ñ–∑–Ω—ñ LLM –º–æ–¥–µ–ª—ñ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å

---

## üîç **–ß–ê–°–¢–ò–ù–ê 2: MCP SERVERS - –ü–û–°–õ–Ü–î–û–í–ù–Ü–°–¢–¨ –¢–ê –ù–ê–ó–í–ò**

### **–ó–Ω–∞–π–¥–µ–Ω—ñ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:**

#### **1. mcp-registry.js (–ü–Ü–°–õ–Ø –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø)**
```javascript
servers: {
  windsurf,      // 1 - priority: 100
  memory,        // 2 - priority: 90
  filesystem,    // 3 - priority: 80
  shell,         // 4 - priority: 70
  applescript,   // 5 - priority: 60
  playwright,    // 6 - priority: 50
  java_sdk,      // 7
  python_sdk     // 8
}
```

#### **2. stage2_0_server_selection.js (–ü–Ü–°–õ–Ø –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø)**
```
1. windsurf     - Code Analysis & Improvements
2. memory       - Context persistence (often with windsurf)
3. filesystem   - File operations
4. shell        - CLI commands
5. applescript  - macOS GUI automation
6. playwright   - Web automation
7. java_sdk     - Java development
8. python_sdk   - Python development
```

#### **3. ALL PROMPTS (–ü–Ü–°–õ–Ø –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø)**
```
Allowed servers: windsurf, memory, filesystem, shell, applescript, playwright, java_sdk, python_sdk
```

### **‚úÖ –ü–†–û–ë–õ–ï–ú–ê –í–ò–ü–†–ê–í–õ–ï–ù–ê: –Ñ–î–ò–ù–ê –ü–û–°–õ–Ü–î–û–í–ù–Ü–°–¢–¨**

| –ú—ñ—Å—Ü–µ | –ü–æ—Ä—è–¥–æ–∫ (–ü–Ü–°–õ–Ø –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø) |
|-------|-----------------------------|
| mcp-registry.js | windsurf ‚Üí memory ‚Üí filesystem ‚Üí shell ‚Üí applescript ‚Üí playwright ‚Üí java_sdk ‚Üí python_sdk |
| stage2_0_server_selection.js | windsurf ‚Üí memory ‚Üí filesystem ‚Üí shell ‚Üí applescript ‚Üí playwright ‚Üí java_sdk ‚Üí python_sdk |
| atlas_todo_planning_optimized.js | windsurf ‚Üí memory ‚Üí filesystem ‚Üí shell ‚Üí applescript ‚Üí playwright ‚Üí java_sdk ‚Üí python_sdk |
| atlas_context_enrichment.js | windsurf ‚Üí memory ‚Üí filesystem ‚Üí shell ‚Üí applescript ‚Üí playwright ‚Üí java_sdk ‚Üí python_sdk |

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –Ñ–¥–∏–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ —É –≤—Å—ñ—Ö —Ñ–∞–π–ª–∞—Ö
- ‚úÖ –î–æ–¥–∞–Ω–æ priority –≤ mcp-registry.js (100 ‚Üí 50)
- ‚úÖ –õ–æ–≥—ñ—á–Ω–µ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è: code analysis ‚Üí context ‚Üí files ‚Üí CLI ‚Üí GUI ‚Üí web ‚Üí SDKs
- ‚úÖ LLM –Ω–µ –ø–ª—É—Ç–∞—î—Ç—å—Å—è –≤ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ

### **‚úÖ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û: –Ñ–¥–∏–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤—Å—é–¥–∏**

**–§–Ü–ù–ê–õ–¨–ù–ê –ü–û–°–õ–Ü–î–û–í–ù–Ü–°–¢–¨:**
```
1. windsurf     (code analysis - priority: 100)
2. memory       (context persistence - priority: 90)
3. filesystem   (—Ñ–∞–π–ª–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó - priority: 80)
4. shell        (CLI –∫–æ–º–∞–Ω–¥–∏ - priority: 70)
5. applescript  (macOS GUI - priority: 60)
6. playwright   (–≤–µ–± –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è - priority: 50)
7. java_sdk     (Java —Ä–æ–∑—Ä–æ–±–∫–∞)
8. python_sdk   (Python —Ä–æ–∑—Ä–æ–±–∫–∞)
```

**–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤:**
- ‚úÖ `config/mcp-registry.js` - –¥–æ–¥–∞–Ω–æ priority
- ‚úÖ `prompts/mcp/stage2_0_server_selection.js` - –æ–Ω–æ–≤–ª–µ–Ω–æ –ø–æ—Ä—è–¥–æ–∫
- ‚úÖ `prompts/mcp/atlas_todo_planning_optimized.js` - –æ–Ω–æ–≤–ª–µ–Ω–æ —Å–ø–∏—Å–æ–∫
- ‚úÖ `prompts/mcp/atlas_context_enrichment.js` - –æ–Ω–æ–≤–ª–µ–Ω–æ —Å–ø–∏—Å–æ–∫

---

## üéØ **–ß–ê–°–¢–ò–ù–ê 3: NEXUS - –ì–õ–ò–ë–û–ö–ò–ô –ê–ù–ê–õ–Ü–ó**

### **üî¥ –ö–†–ò–¢–ò–ß–ù–ï –ü–ò–¢–ê–ù–ù–Ø: MCP Server —á–∏ Internal API?**

### **–ê–Ω–∞–ª—ñ–∑ 1: –©–æ —Ç–∞–∫–µ Nexus?**

```javascript
// –ü–µ—Ä–≤—ñ—Å–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è:
Nexus = Meta-server —è–∫–∏–π –û–ë'–Ñ–î–ù–£–Ñ:
  - Windsurf API (code analysis)
  - Memory MCP (context)
  - Java SDK (Java projects)
  - Python SDK (Python projects)
```

### **–ê–Ω–∞–ª—ñ–∑ 2: –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —è–∫ MCP Server**

**–§–∞–π–ª:** `orchestrator/eternity/nexus-mcp-server.js`

```javascript
async saveContext(args) {
  return {
    action: 'delegate_to_mcp',  // ‚ùå –î–ï–õ–ï–ì–ê–¶–Ü–Ø
    server: 'memory',
    tool: 'memory__create_entities'
  };
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Nexus –ù–ï –≤–∫–ª—é—á–∞—î memory, –≤—ñ–Ω –í–ò–ö–õ–ò–ö–ê–Ñ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π memory MCP.

### **–ê–Ω–∞–ª—ñ–∑ 3: Stage 2.0 –æ–±–º–µ–∂–µ–Ω–Ω—è**

```javascript
// stage2_0_server_selection.js
"Choose the minimum set of MCP servers (1 preferred, 2 maximum)"
```

**–ö–æ–Ω—Ñ–ª—ñ–∫—Ç:**
```
–Ø–∫—â–æ –≤–∏–±—Ä–∞—Ç–∏ nexus:
  ‚Üì
nexus –ø–æ—Ç—Ä–µ–±—É—î:
  - memory (–¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è)
  - java_sdk –∞–±–æ python_sdk (–¥–ª—è –∞–Ω–∞–ª—ñ–∑—É)
  ‚Üì
TOTAL: nexus + memory + java_sdk = 3 —Å–µ—Ä–≤–µ—Ä–∏
  ‚Üì
‚ùå –ü–µ—Ä–µ–≤–∏—â—É—î –ª—ñ–º—ñ—Ç 2 —Å–µ—Ä–≤–µ—Ä—ñ–≤
```

### **–ê–Ω–∞–ª—ñ–∑ 4: Windsurf + Memory (–ø–æ—Ç–æ—á–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è)**

```
Stage 2.0 –≤–∏–±–∏—Ä–∞—î: windsurf + memory (2 —Å–µ—Ä–≤–µ—Ä–∏) ‚úÖ
  ‚Üì
Windsurf MCP –≤–∏–∫–ª–∏–∫–∞—î:
  /api/eternity (Nexus Internal API)
  ‚Üì
Nexus –∫–æ–æ—Ä–¥–∏–Ω—É—î —á–µ—Ä–µ–∑ DI container:
  - WindsurfCodeEditor
  - Memory (—á–µ—Ä–µ–∑ container.resolve)
  - Java/Python SDK (—á–µ—Ä–µ–∑ container.resolve)
  ‚Üì
–ù–µ–º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å internal services ‚úÖ
```

### **üí° –ì–õ–ò–ë–û–ö–ò–ô –í–ò–°–ù–û–í–û–ö:**

#### **Nexus –Ø–ö MCP SERVER - –ß–æ–º—É –ù–ï –ø—Ä–∞—Ü—é—î:**

‚ùå **–¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø—Ä–∏—á–∏–Ω–∏:**
1. **–î–µ–ª–µ–≥–∞—Ü—ñ—è –∑–∞–º—ñ—Å—Ç—å —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó:**
   - –°–ø—Ä–∞–≤–∂–Ω—ñ–π meta-server –º–∞—î –∑–∞–ø—É—Å–∫–∞—Ç–∏ subprocess
   - Nexus —Ç—ñ–ª—å–∫–∏ –¥–µ–ª–µ–≥—É—î –¥–æ —ñ—Å–Ω—É—é—á–∏—Ö MCP
   - –¶–µ –Ω–µ meta-server, —Ü–µ ROUTER

2. **Stage 2.0 –æ–±–º–µ–∂–µ–Ω–Ω—è:**
   - –ú–∞–∫—Å–∏–º—É–º 2 —Å–µ—Ä–≤–µ—Ä–∏
   - Nexus + –π–æ–≥–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ = 3-4 —Å–µ—Ä–≤–µ—Ä–∏
   - –ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

3. **–ö–æ–Ω—Ñ–ª—ñ–∫—Ç –∑ windsurf:**
   - "–í–∏–±–µ—Ä–∏ nexus" vs "–í–∏–±–µ—Ä–∏ windsurf"
   - Nexus –≤–∫–ª—é—á–∞—î windsurf, —á–∏ –æ–∫—Ä–µ–º–æ?
   - –ü–ª—É—Ç–∞–Ω–∏–Ω–∞ –¥–ª—è LLM

4. **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å–∞–º–∏:**
   - MCP server –º–∞—î –∑–∞–ø—É—Å–∫–∞—Ç–∏ —á–µ—Ä–µ–∑ spawn()
   - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º subprocess
   - Handling stdio communication
   - –î—É–∂–µ —Å–∫–ª–∞–¥–Ω–æ –¥–ª—è "meta" —Ä—ñ–≤–Ω—è

#### **Nexus –Ø–ö INTERNAL API - –ß–æ–º—É –ø—Ä–∞—Ü—é—î:**

‚úÖ **–ü–µ—Ä–µ–≤–∞–≥–∏:**
1. **–ù–µ–º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä—ñ–≤:**
   - Stage 2.0: windsurf + memory (2 —Å–µ—Ä–≤–µ—Ä–∏)
   - Nexus –∫–æ–æ—Ä–¥–∏–Ω—É—î –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö —á–µ—Ä–µ–∑ DI
   - –ù–µ–æ–±–º–µ–∂–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å internal services

2. **–ü—Ä–æ—Å—Ç—ñ—à–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:**
   - HTTP API –∑–∞–º—ñ—Å—Ç—å stdio protocol
   - DI container –∑–∞–º—ñ—Å—Ç—å subprocess
   - –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤

3. **–ö—Ä–∞—â —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:**
   - Nexus - —á–∞—Å—Ç–∏–Ω–∞ Orchestrator
   - –ú–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –±—É–¥—å-—è–∫—ñ internal methods
   - –Ñ–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É –¥–ª—è self-improvement

4. **–ß—ñ—Ç–∫–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è:**
   - **MCP Servers** = –∑–æ–≤–Ω—ñ—à–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏ (playwright, memory)
   - **Internal APIs** = —á–∞—Å—Ç–∏–Ω–∞ Orchestrator (Nexus, /api/eternity)
   - –ù–µ–º–∞—î –ø–ª—É—Ç–∞–Ω–∏–Ω–∏ —â–æ —î —â–æ

### **üéØ –§–Ü–ù–ê–õ–¨–ù–ê –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–Ø:**

**–ü–û–¢–û–ß–ù–ï –†–Ü–®–ï–ù–ù–Ø (Internal API) - –ü–†–ê–í–ò–õ–¨–ù–ï ‚úÖ**

**–ß–æ–º—É:**

1. **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ –≤—ñ—Ä–Ω–æ:**
   - Nexus = Orchestrator (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä)
   - MCP Servers = Workers (–≤–∏–∫–æ–Ω–∞–≤—Ü—ñ)
   - –ù–µ –º—ñ—à–∞—Ç–∏ —Ä–æ–ª—ñ

2. **–¢–µ—Ö–Ω—ñ—á–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ:**
   - –ù–µ–º–∞—î overhead stdio communication
   - –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ DI container
   - –®–≤–∏–¥—à–µ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ

3. **–ì–Ω—É—á–∫—ñ—Å—Ç—å:**
   - Stage 2.0 –º–æ–∂–µ –≤–∏–±—Ä–∞—Ç–∏ –ë–£–î–¨-–Ø–ö–£ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é 2 —Å–µ—Ä–≤–µ—Ä—ñ–≤
   - Nexus –∑–∞–≤–∂–¥–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ internal API
   - –ù–µ–º–∞—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤

4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞:**
   - HTTP endpoints –∑—Ä–æ–∑—É–º—ñ–ª—ñ—à—ñ
   - –ú–µ–Ω—à–µ –º–∞–≥—ñ—ó —Ç–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π
   - –õ–µ–≥—à–µ –¥–µ–±–∞–∂–∏—Ç–∏

**–Ø–∫–±–∏ Nexus –±—É–≤ MCP server:**
- ‚ùå –°–∫–ª–∞–¥–Ω—ñ—à–µ (subprocess management)
- ‚ùå –ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ (stdio protocol overhead)
- ‚ùå –û–±–º–µ–∂–µ–Ω–Ω—è Stage 2.0 (–º–∞–∫—Å–∏–º—É–º 2)
- ‚ùå –ü–ª—É—Ç–∞–Ω–∏–Ω–∞ (—â–æ –≤–∏–±–∏—Ä–∞—Ç–∏: nexus —á–∏ windsurf?)

**Nexus —è–∫ Internal API:**
- ‚úÖ –ü—Ä–æ—Å—Ç—ñ—à–µ (HTTP + DI container)
- ‚úÖ –®–≤–∏–¥—à–µ (–ø—Ä—è–º—ñ –≤–∏–∫–ª–∏–∫–∏)
- ‚úÖ –ù–µ–æ–±–º–µ–∂–µ–Ω–æ (–∫–æ–æ—Ä–¥–∏–Ω—É—î —Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–≥–æ–¥–Ω–æ)
- ‚úÖ –ß—ñ—Ç–∫–æ (windsurf + memory –≤ Stage 2.0, Nexus –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ)

---

## üìã **–ü–Ü–î–°–£–ú–û–ö:**

### **1. DEV vs TASK:**
‚úÖ **–ó–ê–õ–ò–®–ò–¢–ò –û–ö–†–ï–ú–û** –∑ –ø–æ–∫—Ä–∞—â–µ–Ω–æ—é —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é
- DEV = Readonly analysis + Planning
- TASK = Write execution + Verification
- DEV ‚Üí TASK transition —á–µ—Ä–µ–∑ devTransitionContext

### **2. MCP Servers –ø–æ—Ä—è–¥–æ–∫:**
‚ùå **–ü–û–¢–†–Ü–ë–ù–û –í–ò–†–Ü–í–ù–Ø–¢–ò** –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å
- –Ñ–¥–∏–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤ mcp-registry.js —Ç–∞ stage2_0
- windsurf ‚Üí memory ‚Üí filesystem ‚Üí shell ‚Üí applescript ‚Üí playwright ‚Üí java_sdk ‚Üí python_sdk

### **3. Nexus –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:**
‚úÖ **INTERNAL API - –ü–†–ê–í–ò–õ–¨–ù–ï –†–Ü–®–ï–ù–ù–Ø**
- –ù–ï MCP server (–æ–±–º–µ–∂–µ–Ω–Ω—è Stage 2.0)
- HTTP API —á–µ—Ä–µ–∑ /api/eternity
- –ö–æ–æ—Ä–¥–∏–Ω—É—î MCP —á–µ—Ä–µ–∑ DI container
- –ü—Ä–æ—Å—Ç—ñ—à–µ, —à–≤–∏–¥—à–µ, –≥–Ω—É—á–∫—ñ—à–µ
